# Module-7: LangGraph ç”Ÿäº§éƒ¨ç½²ï¼ˆProduction Deploymentï¼‰- æœ¬ç« ä»‹ç»

> **è‡´å­¦ä¹ è€…çš„ä¸€å°ä¿¡**
>
> æ­å–œä½ èµ°åˆ°äº†è¿™ä¸€æ­¥!ç»è¿‡å‰é¢6ä¸ªæ¨¡å—çš„å­¦ä¹ ,ä½ å·²ç»æŽŒæ¡äº† LangGraph çš„æ ¸å¿ƒæŠ€æœ¯â€”â€”ä»ŽåŸºç¡€çš„ Graph æž„å»º,åˆ°å¤æ‚çš„ Human-in-the-Loop äº¤äº’,å†åˆ°å¼ºå¤§çš„è®°å¿†ç³»ç»Ÿã€‚ä½†è¿™äº›çŸ¥è¯†çš„çœŸæ­£ä»·å€¼,åªæœ‰åœ¨**éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ,æœåŠ¡çœŸå®žç”¨æˆ·**æ—¶æ‰èƒ½å®Œå…¨ä½“çŽ°ã€‚
>
> Module-7 å°†å¸¦ä½ å®Œæˆä»Žå¼€å‘åˆ°ç”Ÿäº§çš„å…³é”®è·¨è¶Šã€‚æˆ‘ä»¬ä¸ä»…è¦å­¦ä¹ å¦‚ä½•éƒ¨ç½² LangGraph åº”ç”¨,æ›´è¦æŽŒæ¡ç”Ÿäº§çŽ¯å¢ƒä¸­çš„å…³é”®æŒ‘æˆ˜â€”â€”å¹¶å‘æŽ§åˆ¶ã€å¤šç§Ÿæˆ·ç®¡ç†ã€é…ç½®åŒ–è®¾è®¡ã€‚è¿™äº›éƒ½æ˜¯åŒºåˆ†çŽ©å…·é¡¹ç›®å’Œä¼ä¸šçº§åº”ç”¨çš„å…³é”®èƒ½åŠ›ã€‚
>
> åœ¨æˆ‘æ•°åå¹´çš„å·¥ç¨‹ç»éªŒä¸­,æˆ‘è§è¿‡å¤ªå¤šä¼˜ç§€çš„åŽŸåž‹å› ä¸ºéƒ¨ç½²é—®é¢˜è€ŒèƒŽæ­»è…¹ä¸­ã€‚è®©æˆ‘ä»¬ä¸€èµ·ç¡®ä¿ä½ çš„ LangGraph åº”ç”¨ä¸ä¼šæ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚å‡†å¤‡å¥½äº†å—?è®©æˆ‘ä»¬å¼€å§‹è¿™æ®µä»Žå¼€å‘åˆ°ç”Ÿäº§çš„æ—…ç¨‹!
>
> â€”â€” ä½ çš„ LangGraph å¯¼å¸ˆ

---

## ä¸€ã€æœ¬ç« å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬ç« å­¦ä¹ åŽ,ä½ å°†èƒ½å¤Ÿ:

### æ ¸å¿ƒèƒ½åŠ›

1. **éƒ¨ç½² LangGraph åº”ç”¨**
   - ç†è§£ LangGraph Platform æž¶æž„
   - ä½¿ç”¨ Docker å®¹å™¨åŒ–åº”ç”¨
   - é…ç½® Redis å’Œ PostgreSQL å­˜å‚¨
   - ä½¿ç”¨ LangGraph CLI æž„å»ºå’Œéƒ¨ç½²

2. **è¿žæŽ¥å’Œç®¡ç†éƒ¨ç½²**
   - ä½¿ç”¨ LangGraph SDK è¿žæŽ¥è¿œç¨‹éƒ¨ç½²
   - ä½¿ç”¨ Remote Graph ç®€åŒ–è¿ç§»
   - ç®¡ç† Runsã€Threadsã€Store ä¸‰å¤§ API

3. **å¤„ç†å¹¶å‘è¯·æ±‚**
   - ç†è§£ Double Texting é—®é¢˜
   - æŽŒæ¡ 4 ç§å¹¶å‘ç­–ç•¥(Reject/Enqueue/Interrupt/Rollback)
   - æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚ç­–ç•¥

4. **é…ç½®åŒ–è®¾è®¡**
   - åˆ›å»ºå’Œç®¡ç† Assistants
   - ä¸ºåŒä¸€å›¾é…ç½®å¤šä¸ªå˜ä½“
   - å®žçŽ°å¤šç§Ÿæˆ·éš”ç¦»

### å·¥ç¨‹å®žè·µ

- **DevOps æŠ€èƒ½**:Dockerã€docker-composeã€çŽ¯å¢ƒå˜é‡ç®¡ç†
- **API è®¾è®¡**:RESTful APIã€æµå¼ä¼ è¾“ã€é”™è¯¯å¤„ç†
- **å¹¶å‘æŽ§åˆ¶**:ç«žæ€æ¡ä»¶ã€é˜Ÿåˆ—ç®¡ç†ã€ä¸­æ–­æ¢å¤
- **ç”Ÿäº§æ€ç»´**:ç›‘æŽ§ã€æ—¥å¿—ã€æ‰©å±•æ€§ã€å¯é æ€§

---

## äºŒã€æ ¸å¿ƒæ¦‚å¿µé¢„è§ˆ

### 2.1 LangGraph Platform æž¶æž„å…¨æ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  LangGraph Platform æž¶æž„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              å®¢æˆ·ç«¯å±‚(Client Layer)                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ LangGraph   â”‚  â”‚ Remote       â”‚  â”‚ HTTP       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ SDK         â”‚  â”‚ Graph        â”‚  â”‚ Client     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ (Python/JS) â”‚  â”‚ (ç®€åŒ–æŽ¥å£)    â”‚  â”‚ (åŽŸå§‹API)  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                          â”‚
â”‚                   â”‚ HTTP/WebSocket                           â”‚
â”‚                   â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          æœåŠ¡å±‚(Service Layer)                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  LangGraph Server (HTTP Workers)              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ æŽ¥æ”¶APIè¯·æ±‚                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ç®¡ç†æµå¼ä¼ è¾“                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ å¤„ç†è®¤è¯æŽˆæƒ                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ æä¾›Swaggeræ–‡æ¡£                            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Queue Workers                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ åŽå°æ‰§è¡Œå›¾                                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ å¹¶å‘æŽ§åˆ¶                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†                                â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                          â”‚
â”‚                   â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          å­˜å‚¨å±‚(Storage Layer)                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  PostgreSQL  â”‚  â”‚    Redis     â”‚  â”‚   LLM     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚   APIs    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Checkpointsâ”‚  â”‚ â€¢ æ¶ˆæ¯é˜Ÿåˆ—   â”‚  â”‚           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Store      â”‚  â”‚ â€¢ ç¼“å­˜       â”‚  â”‚ â€¢ OpenAI  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Threads    â”‚  â”‚ â€¢ æµå¼æ•°æ®   â”‚  â”‚ â€¢ Anthropicâ”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Assistants â”‚  â”‚              â”‚  â”‚ â€¢ ...     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä»Žå¼€å‘åˆ°ç”Ÿäº§çš„è½¬å˜

| ç»´åº¦ | å¼€å‘çŽ¯å¢ƒ | ç”Ÿäº§çŽ¯å¢ƒ |
|------|---------|---------|
| **è¿è¡Œæ–¹å¼** | æœ¬åœ° Python è„šæœ¬ | Docker å®¹å™¨ + HTTP API |
| **è°ƒç”¨æ–¹å¼** | `graph.invoke()` | `client.runs.create()` |
| **å­˜å‚¨** | InMemoryStore + MemorySaver | PostgreSQL + Redis |
| **å¹¶å‘** | å•ç”¨æˆ·,é¡ºåºæ‰§è¡Œ | å¤šç”¨æˆ·,å¹¶å‘å¤„ç† |
| **é…ç½®** | ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ | Assistants + çŽ¯å¢ƒå˜é‡ |
| **è®¿é—®** | localhost:8000 | your-domain.com (HTTPS) |
| **ç›‘æŽ§** | print() è°ƒè¯• | LangSmith + æ—¥å¿—ç³»ç»Ÿ |
| **æ‰©å±•** | å•æœºè¿è¡Œ | æ°´å¹³æ‰©å±•(å¤šå®¹å™¨) |
| **å¯é æ€§** | å¯ä»¥é‡å¯ | é«˜å¯ç”¨(HA)éƒ¨ç½² |

### 2.3 ä¸‰å¤§ API ç±»åˆ«

LangGraph Server æä¾›çš„ API åˆ†ä¸ºä¸‰ç±»:

```
API ç«¯ç‚¹
â”œâ”€â”€ Runs (è¿è¡Œ)
â”‚   â”œâ”€â”€ åˆ›å»ºè¿è¡Œ: POST /threads/{thread_id}/runs
â”‚   â”œâ”€â”€ èŽ·å–çŠ¶æ€: GET /threads/{thread_id}/runs/{run_id}
â”‚   â”œâ”€â”€ æµå¼æ‰§è¡Œ: GET /threads/{thread_id}/runs/stream
â”‚   â””â”€â”€ ç±»åž‹:
â”‚       â€¢ Background (åŽå°)
â”‚       â€¢ Blocking (é˜»å¡ž)
â”‚       â€¢ Streaming (æµå¼)
â”‚
â”œâ”€â”€ Threads (çº¿ç¨‹/ä¼šè¯)
â”‚   â”œâ”€â”€ åˆ›å»ºçº¿ç¨‹: POST /threads
â”‚   â”œâ”€â”€ èŽ·å–çŠ¶æ€: GET /threads/{thread_id}/state
â”‚   â”œâ”€â”€ æ›´æ–°çŠ¶æ€: POST /threads/{thread_id}/state
â”‚   â”œâ”€â”€ åˆ—è¡¨è¿è¡Œ: GET /threads/{thread_id}/runs
â”‚   â””â”€â”€ åŠŸèƒ½:
â”‚       â€¢ å¯¹è¯åŽ†å²ç®¡ç†
â”‚       â€¢ Human-in-the-Loop
â”‚       â€¢ çŠ¶æ€ç¼–è¾‘(æ—¶é—´æ—…è¡Œ)
â”‚       â€¢ çº¿ç¨‹å¤åˆ¶
â”‚
â””â”€â”€ Store (å­˜å‚¨)
    â”œâ”€â”€ æœç´¢: GET /store/{namespace}
    â”œâ”€â”€ æ·»åŠ : POST /store/{namespace}
    â”œâ”€â”€ åˆ é™¤: DELETE /store/{namespace}/{key}
    â””â”€â”€ åŠŸèƒ½:
        â€¢ è·¨çº¿ç¨‹æ•°æ®
        â€¢ ç”¨æˆ·è®°å¿†
        â€¢ æŒä¹…åŒ–å­˜å‚¨
```

---

## ä¸‰ã€Docker å®¹å™¨åŒ–åŸºç¡€

### 3.1 ä¸ºä»€ä¹ˆéœ€è¦ Docker?

**é—®é¢˜**:ã€Œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘ã€ç»¼åˆç—‡

```
å¼€å‘è€…æœºå™¨             â†’  æµ‹è¯•æœåŠ¡å™¨           â†’  ç”Ÿäº§æœåŠ¡å™¨
Python 3.11              Python 3.9              Python 3.10
macOS                    Ubuntu 20.04            Ubuntu 22.04
ä¾èµ–ç‰ˆæœ¬ A               ä¾èµ–ç‰ˆæœ¬ B              ä¾èµ–ç‰ˆæœ¬ C
        â†“                        â†“                        â†“
   èƒ½è¿è¡Œ                   éƒ¨åˆ†é”™è¯¯                 å®Œå…¨å´©æºƒ
```

**Docker è§£å†³æ–¹æ¡ˆ**:

```
Docker é•œåƒ(Image)
â”œâ”€â”€ åŸºç¡€ç³»ç»Ÿ: Debian Linux
â”œâ”€â”€ Python 3.11
â”œâ”€â”€ æ‰€æœ‰ä¾èµ–åŒ…(å›ºå®šç‰ˆæœ¬)
â”œâ”€â”€ åº”ç”¨ä»£ç 
â””â”€â”€ å¯åŠ¨è„šæœ¬

è¿™ä¸ªé•œåƒåœ¨ä»»ä½•æ”¯æŒ Docker çš„æœºå™¨ä¸Šéƒ½èƒ½ä»¥å®Œå…¨ç›¸åŒçš„æ–¹å¼è¿è¡Œ
```

### 3.2 æ ¸å¿ƒæ¦‚å¿µ

#### Docker é•œåƒ vs å®¹å™¨

```
é•œåƒ(Image)                    å®¹å™¨(Container)
    â†“                              â†“
  æ¨¡æ¿                            å®žä¾‹
  ç±»(Class)                       å¯¹è±¡(Object)
  ISOæ–‡ä»¶                         è¿è¡Œçš„ç³»ç»Ÿ
  é£Ÿè°±                            åšå¥½çš„èœ

ä¸€æ¬¡æž„å»º                        å¤šæ¬¡è¿è¡Œ
åªè¯»                            å¯è¯»å†™
å…±äº«                            éš”ç¦»
```

**å®žé™…ä¾‹å­**:

```python
# é•œåƒ: langgraph-app:v1.0
docker build -t langgraph-app:v1.0 .

# ä»ŽåŒä¸€é•œåƒå¯åŠ¨å¤šä¸ªå®¹å™¨
docker run langgraph-app:v1.0  # å®¹å™¨1
docker run langgraph-app:v1.0  # å®¹å™¨2
docker run langgraph-app:v1.0  # å®¹å™¨3
```

#### docker-compose

**ä½œç”¨**:ä¸€æ¬¡æ€§ç®¡ç†å¤šä¸ªå®¹å™¨

```yaml
# docker-compose.yml
services:
  redis:        # å®¹å™¨1: Redis
  postgres:     # å®¹å™¨2: PostgreSQL  
  langgraph:    # å®¹å™¨3: LangGraph Server

# ä¸€è¡Œå‘½ä»¤å¯åŠ¨æ‰€æœ‰å®¹å™¨
docker compose up
```

### 3.3 LangGraph éƒ¨ç½²æ‰€éœ€æ–‡ä»¶

```
deployment/
â”œâ”€â”€ langgraph.json          # LangGraphé…ç½®
â”‚   â””â”€â”€ å®šä¹‰å›¾çš„ä½ç½®å’Œåç§°
â”‚
â”œâ”€â”€ task_maistro.py         # å›¾çš„å®žçŽ°
â”‚   â””â”€â”€ å¯¼å‡ºç¼–è¯‘åŽçš„graph
â”‚
â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â”‚   â””â”€â”€ å£°æ˜Žæ‰€æœ‰éœ€è¦çš„åŒ…
â”‚
â”œâ”€â”€ .env                    # çŽ¯å¢ƒå˜é‡
â”‚   â””â”€â”€ APIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯
â”‚
â””â”€â”€ docker-compose.yml      # å®¹å™¨ç¼–æŽ’
    â””â”€â”€ å®šä¹‰3ä¸ªæœåŠ¡
        â€¢ Redis
        â€¢ PostgreSQL
        â€¢ LangGraph Server
```

---

## å››ã€å¹¶å‘æŽ§åˆ¶:Double Texting é—®é¢˜

### 4.1 ä»€ä¹ˆæ˜¯ Double Texting?

ç”¨æˆ·å¿«é€Ÿè¿žç»­å‘é€æ¶ˆæ¯,ä¸ç­‰å¾…å‰ä¸€ä¸ªè¯·æ±‚å®Œæˆ:

```
æ—¶é—´è½´:
00:00 ç”¨æˆ·å‘é€:"æ·»åŠ å¾…åŠž:ä¹°ç‰›å¥¶"
      â†“ Run 1 å¼€å§‹æ‰§è¡Œ
00:01 ç”¨æˆ·åˆå‘é€:"æ”¹æˆä¹°å…¨è„‚ç‰›å¥¶"
      â†“ Run 2 æƒ³è¦å¼€å§‹
      â†“ é—®é¢˜:Run 1 è¿˜åœ¨æ‰§è¡Œ!
```

### 4.2 ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸ªé—®é¢˜?

**æ•°æ®ç«žäº‰(Race Condition)**:

```
Thread State
    â†“
messages: [msg1, msg2]
    â†“
Run 1 è¯»å–: [msg1, msg2]
    â†“ (æ‰§è¡Œä¸­...)
Run 2 ä¹Ÿè¯»å–: [msg1, msg2]
    â†“
Run 1 å®Œæˆ,å†™å…¥: [msg1, msg2, ai_reply1]
    â†“
Run 2 å®Œæˆ,å†™å…¥: [msg1, msg2, ai_reply2]
    â†“
ç»“æžœ:ai_reply1 ä¸¢å¤±! âŒ
```

### 4.3 å››ç§ç­–ç•¥å¯¹æ¯”

```
ç­–ç•¥1: Reject (æ‹’ç»)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run 1 æ‰§è¡Œä¸­                    â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 è¯·æ±‚ â†’ âŒ 409 Conflict   â”‚
â”‚    â†“                           â”‚
â”‚ Run 1 å®Œæˆ                     â”‚
â”‚    â†“                           â”‚
â”‚ çŽ°åœ¨å¯ä»¥æŽ¥å—æ–°è¯·æ±‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é€‚ç”¨:ä¸¥æ ¼é¡ºåºè¦æ±‚,èµ„æºå—é™

ç­–ç•¥2: Enqueue (æŽ’é˜Ÿ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run 1 æ‰§è¡Œä¸­                    â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 è¯·æ±‚ â†’ âœ… åŠ å…¥é˜Ÿåˆ—        â”‚
â”‚    â†“                           â”‚
â”‚ Run 1 å®Œæˆ                     â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 è‡ªåŠ¨å¼€å§‹                 â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 å®Œæˆ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é€‚ç”¨:æ‰€æœ‰è¯·æ±‚éƒ½é‡è¦,æ‰¹é‡æ“ä½œ

ç­–ç•¥3: Interrupt (ä¸­æ–­)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run 1 æ‰§è¡Œä¸­                    â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 è¯·æ±‚ â†’ âš ï¸ ä¸­æ–­Run 1      â”‚
â”‚    â†“                           â”‚
â”‚ ä¿å­˜Run 1è¿›åº¦åˆ°checkpoint       â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 å¼€å§‹æ‰§è¡Œ                 â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 å®Œæˆ                     â”‚
â”‚    â†“ (å¯é€‰)                    â”‚
â”‚ Run 1 å¯ä»¥ä»Žæ–­ç‚¹ç»§ç»­            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é€‚ç”¨:ç”¨æˆ·çº æ­£/è¡¥å……,æ–°è¯·æ±‚ä¼˜å…ˆçº§é«˜

ç­–ç•¥4: Rollback (å›žæ»š)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run 1 æ‰§è¡Œä¸­                    â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 è¯·æ±‚ â†’ ðŸ”„ åˆ é™¤Run 1      â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 é‡æ–°å¼€å§‹                 â”‚
â”‚    â†“                           â”‚
â”‚ Run 2 å®Œæˆ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é€‚ç”¨:ç”¨æˆ·å®Œå…¨æ”¹å˜ä¸»æ„,æœ€æ–°è¯·æ±‚è¦†ç›–æ—§è¯·æ±‚
```

### 4.4 ç­–ç•¥é€‰æ‹©å†³ç­–æ ‘

```mermaid
graph TD
    A[æ”¶åˆ°å¹¶å‘è¯·æ±‚] --> B{ç¬¬ä¸€ä¸ªè¯·æ±‚è¿˜é‡è¦å—?}
    B -->|ä¸é‡è¦,ç”¨æˆ·æ”¹å˜ä¸»æ„| C[Rollback]
    B -->|ä»ç„¶é‡è¦| D{ä¸¤ä¸ªè¯·æ±‚éƒ½å¿…é¡»å¤„ç†?}
    
    D -->|æ˜¯,éƒ½é‡è¦| E{èƒ½ç­‰å¾…å—?}
    E -->|å¯ä»¥æŒ‰é¡ºåºå¤„ç†| F[Enqueue]
    E -->|æ–°è¯·æ±‚æ›´ç´§æ€¥| G[Interrupt]
    
    D -->|å¦,åªå¤„ç†ä¸€ä¸ª| H{å“ªä¸ªä¼˜å…ˆ?}
    H -->|ç¬¬ä¸€ä¸ªä¼˜å…ˆ| I[Reject]
    H -->|ç¬¬äºŒä¸ªä¼˜å…ˆ| C
    
    style C fill:#ff6b6b
    style F fill:#51cf66
    style G fill:#ffd43b
    style I fill:#339af0
```

---

## äº”ã€Assistants:é…ç½®åŒ–è®¾è®¡

### 5.1 ä»€ä¹ˆæ˜¯ Assistant?

**Assistant = Graph + Config**

```
Base Graph: task_maistro
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Personal Assistant                   â”‚
â”‚ config:                              â”‚
â”‚   â€¢ user_id: "alice"                 â”‚
â”‚   â€¢ todo_category: "personal"        â”‚
â”‚   â€¢ role: "å‹å¥½é¼“åŠ±çš„ä¸ªäººåŠ©æ‰‹..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Work Assistant                       â”‚
â”‚ config:                              â”‚
â”‚   â€¢ user_id: "alice"                 â”‚
â”‚   â€¢ todo_category: "work"            â”‚
â”‚   â€¢ role: "ä¸“ä¸šé«˜æ•ˆçš„å·¥ä½œåŠ©æ‰‹..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Family Assistant                     â”‚
â”‚ config:                              â”‚
â”‚   â€¢ user_id: "alice"                 â”‚
â”‚   â€¢ todo_category: "family"          â”‚
â”‚   â€¢ role: "æ¸©é¦¨åè°ƒçš„å®¶åº­åŠ©æ‰‹..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ä¸ºä»€ä¹ˆéœ€è¦ Assistants?

**æ²¡æœ‰ Assistants**:

```python
# æ¯æ¬¡éƒ½è¦ä¼ é€’å®Œæ•´é…ç½®
config = {
    "configurable": {
        "user_id": "alice",
        "todo_category": "work",
        "role": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šé«˜æ•ˆçš„å·¥ä½œåŠ©æ‰‹,å¸®åŠ©ç”¨æˆ·ç®¡ç†å·¥ä½œä»»åŠ¡..."
    }
}

run = await client.runs.create(
    thread_id,
    "task_maistro",
    input=input,
    config=config  # æ¯æ¬¡éƒ½è¦ä¼ 
)
```

**æœ‰äº† Assistants**:

```python
# åˆ›å»ºä¸€æ¬¡
work_assistant = await client.assistants.create(
    "task_maistro",
    config={"configurable": {...}}
)

# ä»¥åŽç›´æŽ¥ä½¿ç”¨assistant_id
run = await client.runs.create(
    thread_id,
    work_assistant["assistant_id"],  # ç®€æ´!
    input=input
)
```

### 5.3 Assistant çš„ç‰ˆæœ¬æŽ§åˆ¶

```
Assistant: work_assistant_id
â”œâ”€â”€ Version 1 (åˆ›å»ºæ—¶)
â”‚   â””â”€â”€ config: {user_id, todo_category}
â”‚
â”œâ”€â”€ Version 2 (æ·»åŠ è§’è‰²)
â”‚   â””â”€â”€ config: {user_id, todo_category, role}
â”‚
â””â”€â”€ Version 3 (æ›´æ–°è§’è‰²æè¿°)
    â””â”€â”€ config: {user_id, todo_category, role(updated)}

å¯ä»¥:
â€¢ æŸ¥çœ‹åŽ†å²ç‰ˆæœ¬
â€¢ å›žæ»šåˆ°æ—§ç‰ˆæœ¬
â€¢ A/Bæµ‹è¯•ä¸åŒé…ç½®
```

### 5.4 å®žé™…åº”ç”¨åœºæ™¯

**åœºæ™¯1:å¤šè¯­è¨€æ”¯æŒ**

```python
# è‹±æ–‡åŠ©æ‰‹
english_assistant = await client.assistants.create(
    "customer_service",
    config={"configurable": {"language": "en"}}
)

# ä¸­æ–‡åŠ©æ‰‹
chinese_assistant = await client.assistants.create(
    "customer_service",
    config={"configurable": {"language": "zh"}}
)
```

**åœºæ™¯2:ä¸åŒè¡Œä¸šå®šåˆ¶**

```python
# åŒ»ç–—åŠ©æ‰‹
medical_assistant = await client.assistants.create(
    "consultation_bot",
    config={"configurable": {
        "domain": "medical",
        "compliance": "HIPAA",
        "terminology": "medical_terms.json"
    }}
)

# æ³•å¾‹åŠ©æ‰‹
legal_assistant = await client.assistants.create(
    "consultation_bot",
    config={"configurable": {
        "domain": "legal",
        "compliance": "attorney-client",
        "terminology": "legal_terms.json"
    }}
)
```

**åœºæ™¯3:å¤šç§Ÿæˆ·SaaS**

```python
# ä¸ºæ¯ä¸ªå…¬å¸åˆ›å»ºç‹¬ç«‹åŠ©æ‰‹
for company in companies:
    assistant = await client.assistants.create(
        "crm_agent",
        config={"configurable": {
            "tenant_id": company.id,
            "branding": company.branding,
            "features": company.subscription_features
        }}
    )
```

---

## å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®

### è·¯å¾„ 1:å¿«é€Ÿéƒ¨ç½² (åˆå­¦è€…) â±ï¸ 2-3å¤©

**ç›®æ ‡**:èƒ½å¤Ÿéƒ¨ç½²å’Œä½¿ç”¨ LangGraph åº”ç”¨

```
Day 1: éƒ¨ç½²åŸºç¡€
â”œâ”€â”€ 7.1 Creating Deployment
â”‚   â”œâ”€â”€ ç†è§£éƒ¨ç½²æ–‡ä»¶ç»“æž„
â”‚   â”œâ”€â”€ ä½¿ç”¨ LangGraph CLI
â”‚   â”œâ”€â”€ Docker åŸºç¡€æ¦‚å¿µ
â”‚   â””â”€â”€ æœ¬åœ°å¯åŠ¨éƒ¨ç½²
â””â”€â”€ å®žè·µ:éƒ¨ç½² task_maistro

Day 2: API ä½¿ç”¨
â”œâ”€â”€ 7.2 Connecting
â”‚   â”œâ”€â”€ SDK vs Remote Graph
â”‚   â”œâ”€â”€ Runs API (Background/Blocking/Streaming)
â”‚   â”œâ”€â”€ Threads API
â”‚   â””â”€â”€ Store API
â””â”€â”€ å®žè·µ:é€šè¿‡ API è°ƒç”¨éƒ¨ç½²

Day 3: å¹¶å‘å’Œé…ç½®
â”œâ”€â”€ 7.3 Double Texting
â”‚   â””â”€â”€ ç†è§£4ç§ç­–ç•¥
â”œâ”€â”€ 7.4 Assistants
â”‚   â””â”€â”€ åˆ›å»ºå¤šä¸ªåŠ©æ‰‹
â””â”€â”€ å®žè·µ:é…ç½®è‡ªå·±çš„åŠ©æ‰‹
```

**å­¦ä¹ é‡ç‚¹**:
- âœ… èƒ½å¤ŸæˆåŠŸéƒ¨ç½²åº”ç”¨
- âœ… ç†è§£ Docker åŸºæœ¬æ¦‚å¿µ
- âœ… ä¼šä½¿ç”¨ SDK è¿žæŽ¥éƒ¨ç½²
- âœ… äº†è§£å¹¶å‘ç­–ç•¥

**è·³è¿‡å†…å®¹**:
- Docker å†…éƒ¨æœºåˆ¶
- é«˜çº§å¹¶å‘åœºæ™¯
- ç”Ÿäº§çŽ¯å¢ƒä¼˜åŒ–

---

### è·¯å¾„ 2:ç”Ÿäº§å°±ç»ª (ä¸­çº§å¼€å‘è€…) â±ï¸ 5-7å¤©

**ç›®æ ‡**:èƒ½å¤Ÿéƒ¨ç½²ç”Ÿäº§çº§åº”ç”¨å¹¶å¤„ç†å¸¸è§é—®é¢˜

```
Day 1-2: æ·±å…¥éƒ¨ç½²
â”œâ”€â”€ Docker æ·±å…¥
â”‚   â”œâ”€â”€ Dockerfile è‡ªå®šä¹‰
â”‚   â”œâ”€â”€ é•œåƒä¼˜åŒ–(åˆ†å±‚ã€ç¼“å­˜)
â”‚   â”œâ”€â”€ docker-compose é«˜çº§é…ç½®
â”‚   â””â”€â”€ çŽ¯å¢ƒå˜é‡ç®¡ç†
â”œâ”€â”€ å­˜å‚¨é…ç½®
â”‚   â”œâ”€â”€ PostgreSQL é…ç½®å’Œä¼˜åŒ–
â”‚   â”œâ”€â”€ Redis é…ç½®
â”‚   â””â”€â”€ æ•°æ®æŒä¹…åŒ–
â””â”€â”€ å®žè·µ:è‡ªå®šä¹‰éƒ¨ç½²é…ç½®

Day 3-4: API ç²¾é€š
â”œâ”€â”€ Runs æ·±å…¥
â”‚   â”œâ”€â”€ æµå¼ä¼ è¾“æœºåˆ¶
â”‚   â”œâ”€â”€ é”™è¯¯å¤„ç†å’Œé‡è¯•
â”‚   â”œâ”€â”€ è¶…æ—¶æŽ§åˆ¶
â”‚   â””â”€â”€ å–æ¶ˆè¿è¡Œ
â”œâ”€â”€ Threads é«˜çº§
â”‚   â”œâ”€â”€ çŠ¶æ€ç¼–è¾‘(æ—¶é—´æ—…è¡Œ)
â”‚   â”œâ”€â”€ çº¿ç¨‹å¤åˆ¶
â”‚   â”œâ”€â”€ Human-in-the-Loop é›†æˆ
â”‚   â””â”€â”€ çŠ¶æ€æ£€æŸ¥ç‚¹ç®¡ç†
â””â”€â”€ å®žè·µ:å®žçŽ°å¤æ‚äº¤äº’æµç¨‹

Day 5-6: å¹¶å‘æŽ§åˆ¶
â”œâ”€â”€ Double Texting æ·±å…¥
â”‚   â”œâ”€â”€ 4ç§ç­–ç•¥å®žçŽ°åŽŸç†
â”‚   â”œâ”€â”€ è‡ªå®šä¹‰å¹¶å‘é€»è¾‘
â”‚   â”œâ”€â”€ æ€§èƒ½å½±å“åˆ†æž
â”‚   â””â”€â”€ æœ€ä½³å®žè·µ
â”œâ”€â”€ é˜Ÿåˆ—ç®¡ç†
â”‚   â”œâ”€â”€ Redis é˜Ÿåˆ—æœºåˆ¶
â”‚   â”œâ”€â”€ é˜Ÿåˆ—ç›‘æŽ§
â”‚   â””â”€â”€ é˜Ÿåˆ—ä¼˜åŒ–
â””â”€â”€ å®žè·µ:å¤„ç†é«˜å¹¶å‘åœºæ™¯

Day 7: é…ç½®å’Œæ‰©å±•
â”œâ”€â”€ Assistants é«˜çº§
â”‚   â”œâ”€â”€ åŠ¨æ€é…ç½®
â”‚   â”œâ”€â”€ é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ ç‰ˆæœ¬ç®¡ç†ç­–ç•¥
â”‚   â””â”€â”€ å¤šç§Ÿæˆ·éš”ç¦»
â”œâ”€â”€ æ‰©å±•æ€§è®¾è®¡
â”‚   â”œâ”€â”€ æ°´å¹³æ‰©å±•(å¤šå®¹å™¨)
â”‚   â”œâ”€â”€ è´Ÿè½½å‡è¡¡
â”‚   â””â”€â”€ ç¼“å­˜ç­–ç•¥
â””â”€â”€ å®žè·µ:è®¾è®¡å¯æ‰©å±•æž¶æž„
```

**å­¦ä¹ é‡ç‚¹**:
- âœ… ç†è§£éƒ¨ç½²çš„å†…éƒ¨æœºåˆ¶
- âœ… æŽŒæ¡å¹¶å‘æŽ§åˆ¶ç­–ç•¥
- âœ… èƒ½å¤Ÿä¼˜åŒ–æ€§èƒ½
- âœ… å¤„ç†ç”Ÿäº§çŽ¯å¢ƒé—®é¢˜

---

### è·¯å¾„ 3:DevOps ä¸“å®¶ (é«˜çº§å·¥ç¨‹å¸ˆ) â±ï¸ 7-10å¤©

**ç›®æ ‡**:æˆä¸º LangGraph éƒ¨ç½²å’Œè¿ç»´ä¸“å®¶

```
Week 1: æž¶æž„ä¸Žå®žçŽ°
â”œâ”€â”€ Day 1-2: å¹³å°æž¶æž„æ·±å…¥
â”‚   â”œâ”€â”€ HTTP Workers vs Queue Workers
â”‚   â”œâ”€â”€ è¯·æ±‚å¤„ç†æµç¨‹
â”‚   â”œâ”€â”€ æµå¼ä¼ è¾“æž¶æž„
â”‚   â”œâ”€â”€ æ¶ˆæ¯é˜Ÿåˆ—æœºåˆ¶
â”‚   â””â”€â”€ å®žè·µ:æž¶æž„åˆ†æžå’Œä¼˜åŒ–
â”‚
â”œâ”€â”€ Day 3-4: å­˜å‚¨å±‚ä¼˜åŒ–
â”‚   â”œâ”€â”€ PostgreSQL æ€§èƒ½è°ƒä¼˜
â”‚   â”‚   â”œâ”€â”€ ç´¢å¼•ä¼˜åŒ–
â”‚   â”‚   â”œâ”€â”€ è¿žæŽ¥æ± é…ç½®
â”‚   â”‚   â”œâ”€â”€ æŸ¥è¯¢ä¼˜åŒ–
â”‚   â”‚   â””â”€â”€ åˆ†åŒºç­–ç•¥
â”‚   â”œâ”€â”€ Redis ä¼˜åŒ–
â”‚   â”‚   â”œâ”€â”€ å†…å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ æŒä¹…åŒ–ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ é›†ç¾¤é…ç½®
â”‚   â”‚   â””â”€â”€ ç¼“å­˜ç­–ç•¥
â”‚   â””â”€â”€ å®žè·µ:æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚
â””â”€â”€ Day 5-7: é«˜çº§å¹¶å‘æŽ§åˆ¶
    â”œâ”€â”€ åˆ†å¸ƒå¼é”
    â”œâ”€â”€ äº‹åŠ¡ç®¡ç†
    â”œâ”€â”€ å¹‚ç­‰æ€§è®¾è®¡
    â”œâ”€â”€ å¤±è´¥é‡è¯•ç­–ç•¥
    â””â”€â”€ å®žè·µ:é«˜å¹¶å‘åŽ‹åŠ›æµ‹è¯•

Week 2: ç”Ÿäº§è¿ç»´
â”œâ”€â”€ Day 8-9: ç›‘æŽ§ä¸Žå¯è§‚æµ‹æ€§
â”‚   â”œâ”€â”€ LangSmith é›†æˆ
â”‚   â”œâ”€â”€ Prometheus + Grafana
â”‚   â”œâ”€â”€ æ—¥å¿—èšåˆ(ELK/Loki)
â”‚   â”œâ”€â”€ å‘Šè­¦é…ç½®
â”‚   â”œâ”€â”€ è¿½è¸ª(Tracing)
â”‚   â””â”€â”€ å®žè·µ:æž„å»ºç›‘æŽ§ç³»ç»Ÿ
â”‚
â””â”€â”€ Day 10: éƒ¨ç½²å’ŒCI/CD
    â”œâ”€â”€ Kubernetes éƒ¨ç½²
    â”œâ”€â”€ Helm Charts
    â”œâ”€â”€ CI/CD æµæ°´çº¿
    â”œâ”€â”€ è“ç»¿éƒ¨ç½²
    â”œâ”€â”€ é‡‘ä¸é›€å‘å¸ƒ
    â””â”€â”€ å®žè·µ:è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹
```

**å­¦ä¹ é‡ç‚¹**:
- âœ… æ·±å…¥ç†è§£å¹³å°æž¶æž„
- âœ… ç²¾é€šæ€§èƒ½ä¼˜åŒ–
- âœ… æŽŒæ¡ç”Ÿäº§è¿ç»´
- âœ… èƒ½å¤Ÿè®¾è®¡ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆ

**é¢å¤–æŒ‘æˆ˜**:
- ðŸŽ¯ è®¾è®¡é«˜å¯ç”¨(HA)æž¶æž„
- ðŸŽ¯ å®žçŽ°å¤šåŒºåŸŸéƒ¨ç½²
- ðŸŽ¯ æž„å»ºè‡ªåŠ¨æ‰©ç¼©å®¹ç³»ç»Ÿ
- ðŸŽ¯ ä¼˜åŒ–æˆæœ¬å’Œæ€§èƒ½å¹³è¡¡

---

## ä¸ƒã€å…³é”®æŠ€æœ¯å¯¹æ¯”

### 7.1 å®¢æˆ·ç«¯è¿žæŽ¥æ–¹å¼

| ç‰¹æ€§ | LangGraph SDK | Remote Graph | åŽŸå§‹HTTP |
|------|--------------|--------------|----------|
| **æ˜“ç”¨æ€§** | é«˜(Pythoné£Žæ ¼API) | æœ€é«˜(ç±»ä¼¼æœ¬åœ°å›¾) | ä½Ž(æ‰‹åŠ¨HTTP) |
| **åŠŸèƒ½å®Œæ•´æ€§** | å®Œæ•´(æ‰€æœ‰API) | åŸºç¡€(å›¾æ‰§è¡Œ) | å®Œæ•´(æ‰€æœ‰ç«¯ç‚¹) |
| **ç±»åž‹å®‰å…¨** | âœ… ç±»åž‹æç¤º | âœ… ç±»åž‹æç¤º | âŒ éœ€æ‰‹åŠ¨å¤„ç† |
| **é”™è¯¯å¤„ç†** | âœ… å‹å¥½å¼‚å¸¸ | âœ… å‹å¥½å¼‚å¸¸ | âš ï¸ HTTPé”™è¯¯ç  |
| **æµå¼æ”¯æŒ** | âœ… async iterator | âœ… async iterator | âš ï¸ SSE/WebSocket |
| **å­¦ä¹ æ›²çº¿** | ä¸­ç­‰ | ä½Ž(ç†Ÿæ‚‰LangGraphå³å¯) | é«˜(éœ€äº†è§£HTTP) |
| **é€‚ç”¨åœºæ™¯** | ç”Ÿäº§åº”ç”¨ | å¿«é€Ÿè¿ç§»,åŽŸåž‹ | éžPythonå®¢æˆ·ç«¯ |

**æŽ¨è**:
- æ–°é¡¹ç›® â†’ LangGraph SDK
- æœ¬åœ°å›¾è¿ç§» â†’ Remote Graph  
- éžPython â†’ åŽŸå§‹HTTP API

### 7.2 Run ç±»åž‹å¯¹æ¯”

| ç±»åž‹ | Background | Blocking | Streaming |
|------|-----------|----------|-----------|
| **æ‰§è¡Œæ–¹å¼** | å¼‚æ­¥åŽå° | åŒæ­¥ç­‰å¾… | å®žæ—¶æŽ¨é€ |
| **è¿”å›žæ—¶æœº** | ç«‹å³è¿”å›žrun_id | ç­‰å¾…å®ŒæˆåŽè¿”å›ž | è¾¹æ‰§è¡Œè¾¹è¿”å›žchunks |
| **å®¢æˆ·ç«¯é˜»å¡ž** | âŒ ä¸é˜»å¡ž | âœ… é˜»å¡ž | âœ… é˜»å¡ž(å¯ä¸­æ–­) |
| **çŠ¶æ€æŸ¥è¯¢** | éœ€ä¸»åŠ¨è½®è¯¢ | è‡ªåŠ¨ç­‰å¾… | å®žæ—¶æ›´æ–° |
| **ç”¨æˆ·ä½“éªŒ** | æäº¤åŽå¯ç¦»å¼€ | ç­‰å¾…å®Œæˆ | å®žæ—¶åé¦ˆ(æ‰“å­—æ•ˆæžœ) |
| **é€‚ç”¨åœºæ™¯** | é•¿æ—¶é—´ä»»åŠ¡,æ‰¹å¤„ç† | ç®€å•åŒæ­¥æ“ä½œ | èŠå¤©,å®žæ—¶äº¤äº’ |
| **APIæ–¹æ³•** | `runs.create()` | `runs.join()` | `runs.stream()` |

### 7.3 å¹¶å‘ç­–ç•¥å¯¹æ¯”

| ç»´åº¦ | Reject | Enqueue | Interrupt | Rollback |
|------|--------|---------|-----------|----------|
| **ç¬¬ä¸€ä¸ªè¯·æ±‚** | âœ… å®Œæˆ | âœ… å®Œæˆ | âš ï¸ ä¸­æ–­ä½†ä¿å­˜ | âŒ åˆ é™¤ |
| **ç¬¬äºŒä¸ªè¯·æ±‚** | âŒ æ‹’ç»(409) | âœ… æŽ’é˜Ÿæ‰§è¡Œ | âœ… ç«‹å³æ‰§è¡Œ | âœ… ç«‹å³æ‰§è¡Œ |
| **æ•°æ®ä¸€è‡´æ€§** | âœ… é«˜ | âœ… é«˜ | âš ï¸ éœ€carefulè®¾è®¡ | âš ï¸ å¯èƒ½ä¸¢å¤±æ•°æ® |
| **ç”¨æˆ·ä½“éªŒ** | âš ï¸ éœ€å¤„ç†é”™è¯¯ | âœ… å¥½(æ— æ„ŸçŸ¥) | âœ… å¥½(å“åº”å¿«) | âœ… ç¬¦åˆé¢„æœŸ |
| **èµ„æºä½¿ç”¨** | âœ… ä½Ž | âš ï¸ ä¸­(é˜Ÿåˆ—) | âš ï¸ ä¸­(ä¿å­˜çŠ¶æ€) | âœ… ä½Ž(åªä¿ç•™æœ€æ–°) |
| **å®žçŽ°å¤æ‚åº¦** | âœ… ç®€å• | âœ… ç®€å• | âš ï¸ å¤æ‚ | âœ… ç®€å• |
| **å…¸åž‹åœºæ™¯** | é“¶è¡Œè½¬è´¦ | æ‰¹é‡æ·»åŠ ä»»åŠ¡ | ç”¨æˆ·çº æ­£é”™è¯¯ | ç”¨æˆ·æ”¹å˜ä¸»æ„ |

---

## å…«ã€æœ€ä½³å®žè·µ

### 8.1 éƒ¨ç½²é…ç½®æœ€ä½³å®žè·µ

#### çŽ¯å¢ƒå˜é‡ç®¡ç†

```bash
# âœ… å¥½çš„åšæ³•
# .env (ä¸æäº¤åˆ°git)
OPENAI_API_KEY=sk-...
DATABASE_URI=postgresql://...

# .env.example (æäº¤åˆ°git,æä¾›æ¨¡æ¿)
OPENAI_API_KEY=your_key_here
DATABASE_URI=postgresql://user:pass@host/db

# .gitignore
.env
```

#### Requirements ç‰ˆæœ¬å›ºå®š

```txt
# âŒ ä¸å¥½
langgraph
langchain-openai

# âœ… å¥½(å›ºå®šç‰ˆæœ¬)
langgraph==0.2.0
langchain-openai==0.2.1
langchain-core==0.3.0

# âœ… æ›´å¥½(å…¼å®¹ç‰ˆæœ¬èŒƒå›´)
langgraph>=0.2.0,<0.3.0
```

#### Docker é•œåƒä¼˜åŒ–

```dockerfile
# âœ… å¤šé˜¶æ®µæž„å»º
FROM python:3.11-slim as builder
WORKDIR /app
COPY requirements.txt .
RUN pip install --user -r requirements.txt

FROM python:3.11-slim
WORKDIR /app
COPY --from=builder /root/.local /root/.local
COPY . .
ENV PATH=/root/.local/bin:$PATH
CMD ["python", "-m", "langgraph.server"]
```

### 8.2 å¹¶å‘æŽ§åˆ¶æœ€ä½³å®žè·µ

#### é€‰æ‹©åˆé€‚ç­–ç•¥

```python
# åœºæ™¯1:ä¸¥æ ¼é¡ºåº(é“¶è¡Œè½¬è´¦)
multitask_strategy="reject"

# åœºæ™¯2:æ‰¹é‡æ“ä½œ(æ·»åŠ å¤šä¸ªä»»åŠ¡)
multitask_strategy="enqueue"

# åœºæ™¯3:ç”¨æˆ·çº æ­£(æ”¹æ­£é”™è¯¯è¾“å…¥)
multitask_strategy="interrupt"

# åœºæ™¯4:ç”¨æˆ·æ”¹å˜ä¸»æ„(å®Œå…¨æ›¿æ¢)
multitask_strategy="rollback"
```

#### å®¢æˆ·ç«¯é”™è¯¯å¤„ç†

```python
import httpx
import asyncio

async def create_run_with_retry(
    client, thread_id, assistant_id, input,
    max_retries=3,
    strategy="reject"
):
    """å¸¦é‡è¯•çš„è¿è¡Œåˆ›å»º"""
    for attempt in range(max_retries):
        try:
            return await client.runs.create(
                thread_id,
                assistant_id,
                input=input,
                multitask_strategy=strategy
            )
        except httpx.HTTPStatusError as e:
            if e.response.status_code == 409:
                if attempt < max_retries - 1:
                    wait_time = 2 ** attempt  # æŒ‡æ•°é€€é¿
                    await asyncio.sleep(wait_time)
                    continue
            raise
```

### 8.3 Assistant è®¾è®¡æœ€ä½³å®žè·µ

#### é…ç½®æ¨¡æ¿åŒ–

```python
# å®šä¹‰é…ç½®æ¨¡æ¿
ASSISTANT_TEMPLATES = {
    "personal": {
        "todo_category": "personal",
        "role": "You are a friendly personal assistant...",
        "features": ["reminders", "calendar_sync"]
    },
    "work": {
        "todo_category": "work",
        "role": "You are a professional work assistant...",
        "features": ["time_tracking", "priority_management"]
    }
}

# åˆ›å»ºåŠ©æ‰‹
async def create_assistant_from_template(template_name, user_id):
    template = ASSISTANT_TEMPLATES[template_name]
    config = {
        **template,
        "user_id": user_id
    }
    return await client.assistants.create(
        "task_maistro",
        config={"configurable": config}
    )
```

#### ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

```python
# è®°å½•åŠ©æ‰‹å˜æ›´åŽ†å²
async def update_assistant_with_changelog(
    assistant_id, 
    new_config,
    changelog_message
):
    # èŽ·å–å½“å‰ç‰ˆæœ¬
    current = await client.assistants.get(assistant_id)
    
    # æ›´æ–°
    updated = await client.assistants.update(
        assistant_id,
        config=new_config,
        metadata={
            "changelog": changelog_message,
            "previous_version": current["version"]
        }
    )
    
    return updated
```

### 8.4 ç›‘æŽ§å’Œæ—¥å¿—

#### ç»“æž„åŒ–æ—¥å¿—

```python
import logging
import json

logger = logging.getLogger(__name__)

# ç»“æž„åŒ–æ—¥å¿—
def log_run(event, run_id, thread_id, status, **kwargs):
    log_entry = {
        "event": event,
        "run_id": run_id,
        "thread_id": thread_id,
        "status": status,
        "timestamp": datetime.now().isoformat(),
        **kwargs
    }
    logger.info(json.dumps(log_entry))

# ä½¿ç”¨
log_run("run_created", run["run_id"], thread["thread_id"], "pending")
log_run("run_completed", run["run_id"], thread["thread_id"], "success", duration_ms=1500)
```

#### æ€§èƒ½è¿½è¸ª

```python
from langsmith import traceable

@traceable
async def create_and_wait_run(client, thread_id, assistant_id, input):
    """å¯è¿½è¸ªçš„è¿è¡Œåˆ›å»º"""
    run = await client.runs.create(
        thread_id,
        assistant_id,
        input=input
    )
    await client.runs.join(thread_id, run["run_id"])
    return run
```

---

## ä¹ã€å¸¸è§é—®é¢˜ FAQ

### Q1:éƒ¨ç½²å’Œå¼€å‘çŽ¯å¢ƒçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆ?

**A**:

**æ ¸å¿ƒåŒºåˆ«**:

1. **å­˜å‚¨**:
   - å¼€å‘:InMemoryStore + MemorySaver (å†…å­˜,é‡å¯ä¸¢å¤±)
   - ç”Ÿäº§:PostgreSQL + Redis (æŒä¹…åŒ–)

2. **è®¿é—®æ–¹å¼**:
   - å¼€å‘:`graph.invoke()` (ç›´æŽ¥è°ƒç”¨)
   - ç”Ÿäº§:HTTP API (`client.runs.create()`)

3. **å¹¶å‘**:
   - å¼€å‘:å•ç”¨æˆ·,é¡ºåºæ‰§è¡Œ
   - ç”Ÿäº§:å¤šç”¨æˆ·,å¹¶å‘æŽ§åˆ¶

4. **é…ç½®**:
   - å¼€å‘:ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
   - ç”Ÿäº§:Assistants + çŽ¯å¢ƒå˜é‡

**è¿ç§»æ­¥éª¤**:

```python
# 1. å¼€å‘ä»£ç æ— éœ€ä¿®æ”¹
# task_maistro.py ä¿æŒä¸å˜

# 2. æ·»åŠ éƒ¨ç½²é…ç½®
# langgraph.json
{
  "graphs": {
    "task_maistro": "./task_maistro.py:graph"
  }
}

# 3. æž„å»ºé•œåƒ
langgraph build -t my-app

# 4. å¯åŠ¨éƒ¨ç½²
docker compose up

# 5. ä½¿ç”¨SDKè¿žæŽ¥
client = get_client(url="http://localhost:8123")
```

---

### Q2:ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å“ªç§å¹¶å‘ç­–ç•¥?

**A**:

**å†³ç­–æŒ‡å—**:

```python
# 1. Reject - ä¸¥æ ¼é¡ºåºè¦æ±‚
if requires_strict_ordering or resource_constrained:
    strategy = "reject"
    # ç¤ºä¾‹:é“¶è¡Œè½¬è´¦,æ˜‚è´µçš„APIè°ƒç”¨

# 2. Enqueue - æ‰€æœ‰è¯·æ±‚éƒ½é‡è¦
elif all_requests_important:
    strategy = "enqueue"
    # ç¤ºä¾‹:æ‰¹é‡ä»»åŠ¡,å®¢æœæ¶ˆæ¯

# 3. Interrupt - ç”¨æˆ·çº æ­£/è¡¥å……
elif user_correcting_or_adding_info:
    strategy = "interrupt"
    # ç¤ºä¾‹:çº æ­£æ‹¼å†™,è¡¥å……ä¿¡æ¯

# 4. Rollback - ç”¨æˆ·å®Œå…¨æ”¹å˜ä¸»æ„
elif user_completely_changed_mind:
    strategy = "rollback"
    # ç¤ºä¾‹:å–æ¶ˆè®¢å•åŽé‡æ–°ä¸‹å•
```

**å®žé™…åœºæ™¯**:

```
èŠå¤©æœºå™¨äºº:
ç”¨æˆ·:"å¸®æˆ‘æ·»åŠ å¾…åŠž:ä¹°ç‰›å¥¶"
     (AIæ­£åœ¨å¤„ç†...)
ç”¨æˆ·:"æ”¹æˆä¹°å…¨è„‚ç‰›å¥¶"
â†’ ä½¿ç”¨ Interrupt (ç”¨æˆ·åœ¨çº æ­£)

æ‰¹é‡å¯¼å…¥:
ç”¨æˆ·:ä¸Šä¼ äº†100æ¡æ•°æ®
     (ç³»ç»Ÿå¤„ç†ç¬¬1-50æ¡...)
ç”¨æˆ·:åˆä¸Šä¼ 50æ¡æ•°æ®
â†’ ä½¿ç”¨ Enqueue (éƒ½éœ€è¦å¤„ç†)

è®¢å•ç³»ç»Ÿ:
ç”¨æˆ·:æäº¤è®¢å•A
     (ç³»ç»Ÿå¤„ç†ä¸­...)
ç”¨æˆ·:å–æ¶ˆè®¢å•A,æäº¤è®¢å•B
â†’ ä½¿ç”¨ Rollback (å®Œå…¨æ›¿æ¢)
```

---

### Q3:å¦‚ä½•é€‰æ‹© SDK è¿˜æ˜¯ Remote Graph?

**A**:

**é€‰æ‹©çŸ©é˜µ**:

| éœ€æ±‚ | æŽ¨èæ–¹æ¡ˆ | åŽŸå›  |
|------|---------|------|
| ç”Ÿäº§çŽ¯å¢ƒåº”ç”¨ | LangGraph SDK | å®Œæ•´åŠŸèƒ½,ç”Ÿäº§å°±ç»ª |
| æœ¬åœ°å›¾å¿«é€Ÿè¿ç§» | Remote Graph | æœ€å°æ”¹åŠ¨,APIå…¼å®¹ |
| éœ€è¦ç®¡ç†threads/store | LangGraph SDK | å®Œæ•´APIæ”¯æŒ |
| åªéœ€è¦æ‰§è¡Œå›¾ | Remote Graph | ç®€å•å¤Ÿç”¨ |
| éžPythonå®¢æˆ·ç«¯ | åŽŸå§‹HTTP API | è¯­è¨€æ— å…³ |
| éœ€è¦æµå¼ä¼ è¾“ | ä¸¤è€…éƒ½å¯ | éƒ½æœ‰è‰¯å¥½æ”¯æŒ |

**ä»£ç å¯¹æ¯”**:

```python
# ========== Remote Graph(ç†Ÿæ‚‰çš„API) ==========
from langgraph.pregel.remote import RemoteGraph

remote_graph = RemoteGraph("task_maistro", url="http://localhost:8123")

# åƒæœ¬åœ°å›¾ä¸€æ ·ä½¿ç”¨
result = remote_graph.invoke(
    {"messages": [HumanMessage("Hi")]},
    config={"configurable": {"user_id": "alice"}}
)

# ========== LangGraph SDK(ç”Ÿäº§æŽ¨è) ==========
from langgraph_sdk import get_client

client = get_client(url="http://localhost:8123")

# æ›´å¤šæŽ§åˆ¶
thread = await client.threads.create()
run = await client.runs.create(
    thread["thread_id"],
    "task_maistro",
    input={"messages": [HumanMessage("Hi")]},
    config={"configurable": {"user_id": "alice"}}
)
await client.runs.join(thread["thread_id"], run["run_id"])
```

---

### Q4:Assistant å’Œç›´æŽ¥ä¼ configæœ‰ä»€ä¹ˆåŒºåˆ«?

**A**:

**åŠŸèƒ½å¯¹æ¯”**:

```python
# ========== ä¸ä½¿ç”¨Assistant ==========
# æ¯æ¬¡éƒ½è¦ä¼ é€’å®Œæ•´é…ç½®
config = {
    "configurable": {
        "user_id": "alice",
        "todo_category": "work",
        "role": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å·¥ä½œåŠ©æ‰‹..."  # é•¿æ–‡æœ¬
    }
}

# æ¯æ¬¡è°ƒç”¨éƒ½è¦ä¼ 
run1 = await client.runs.create(thread_id, "task_maistro", input1, config=config)
run2 = await client.runs.create(thread_id, "task_maistro", input2, config=config)
run3 = await client.runs.create(thread_id, "task_maistro", input3, config=config)

# ========== ä½¿ç”¨Assistant ==========
# åˆ›å»ºä¸€æ¬¡
work_assistant = await client.assistants.create(
    "task_maistro",
    config={"configurable": {...}}
)

# ä»¥åŽåªç”¨ID
run1 = await client.runs.create(thread_id, work_assistant["assistant_id"], input1)
run2 = await client.runs.create(thread_id, work_assistant["assistant_id"], input2)
run3 = await client.runs.create(thread_id, work_assistant["assistant_id"], input3)
```

**é¢å¤–å¥½å¤„**:

1. **ç‰ˆæœ¬æŽ§åˆ¶**:
   ```python
   # æ›´æ–°é…ç½®
   await client.assistants.update(assistant_id, new_config)
   # version 1 â†’ 2
   
   # å¯ä»¥å›žæ»š
   old_version = await client.assistants.get(assistant_id, version=1)
   ```

2. **å¤šå˜ä½“ç®¡ç†**:
   ```python
   # ä¸ºä¸åŒåœºæ™¯åˆ›å»ºä¸åŒåŠ©æ‰‹
   personal = await client.assistants.create("task_maistro", config1)
   work = await client.assistants.create("task_maistro", config2)
   family = await client.assistants.create("task_maistro", config3)
   ```

3. **æŒä¹…åŒ–å­˜å‚¨**:
   ```python
   # Assistantå­˜å‚¨åœ¨PostgreSQL
   # é‡å¯åŽä»ç„¶å­˜åœ¨
   # å¯ä»¥è·¨åº”ç”¨å®žä¾‹å…±äº«
   ```

---

## åã€å®žè·µé¡¹ç›®å»ºè®®

### é¡¹ç›® 1:éƒ¨ç½²ä¸ªäººä»»åŠ¡åŠ©æ‰‹ ðŸ”° åˆçº§

**æ—¶é•¿**:4-6å°æ—¶  
**éš¾åº¦**:â­â­

**ç›®æ ‡**:
- éƒ¨ç½² task_maistro åˆ°æœ¬åœ°
- é€šè¿‡ SDK è¿žæŽ¥å’Œä½¿ç”¨
- åˆ›å»ºå¤šä¸ª Assistants

**æ­¥éª¤**:
1. å‡†å¤‡éƒ¨ç½²æ–‡ä»¶(langgraph.json, requirements.txt, .env)
2. ä½¿ç”¨ docker-compose å¯åŠ¨æœåŠ¡
3. ä½¿ç”¨ SDK åˆ›å»º personal å’Œ work assistants
4. é€šè¿‡ä¸åŒ assistants æ·»åŠ ä»»åŠ¡
5. æµ‹è¯•è·¨ä¼šè¯è®°å¿†

**è¯„ä¼°æ ‡å‡†**:
- [ ] éƒ¨ç½²æˆåŠŸå¯åŠ¨
- [ ] SDK è¿žæŽ¥æ­£å¸¸
- [ ] åˆ›å»ºäº†è‡³å°‘2ä¸ªassistants
- [ ] æ•°æ®æŒä¹…åŒ–æœ‰æ•ˆ

---

### é¡¹ç›® 2:æž„å»ºå¤šç”¨æˆ·èŠå¤©ç³»ç»Ÿ â­ ä¸­çº§

**æ—¶é•¿**:2-3å¤©  
**éš¾åº¦**:â­â­â­

**åŠŸèƒ½è¦æ±‚**:
1. æ”¯æŒå¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨
2. æ¯ä¸ªç”¨æˆ·æœ‰ç‹¬ç«‹çš„å¯¹è¯åŽ†å²
3. å®žçŽ°æµå¼å›žå¤
4. å¤„ç†å¹¶å‘è¯·æ±‚(Double Texting)
5. ç”¨æˆ·å¯é€‰æ‹©ä¸åŒé£Žæ ¼çš„åŠ©æ‰‹

**æŠ€æœ¯æ ˆ**:
- LangGraph Platform
- FastAPI(åŽç«¯)
- WebSocket(æµå¼)
- React(å‰ç«¯,å¯é€‰)

**æž¶æž„**:
```
Frontend (React)
    â†“ WebSocket
Backend (FastAPI)
    â†“ SDK
LangGraph Platform
    â†“
PostgreSQL + Redis
```

**è¯„ä¼°æ ‡å‡†**:
- [ ] å¤šç”¨æˆ·éš”ç¦»æ­£ç¡®
- [ ] æµå¼ä¼ è¾“æµç•…
- [ ] å¹¶å‘æŽ§åˆ¶æœ‰æ•ˆ
- [ ] Assistants åˆ‡æ¢æ­£å¸¸

---

### é¡¹ç›® 3:ä¼ä¸šçº§å®¢æœç³»ç»Ÿ ðŸš€ é«˜çº§

**æ—¶é•¿**:5-7å¤©  
**éš¾åº¦**:â­â­â­â­â­

**åŠŸèƒ½è¦æ±‚**:
1. å¤šç§Ÿæˆ·æ”¯æŒ(ä¸åŒå…¬å¸)
2. RBACæƒé™æŽ§åˆ¶
3. å¯¹è¯åˆ†é…å’Œè½¬æŽ¥
4. å®žæ—¶ç›‘æŽ§å’Œåˆ†æž
5. è‡ªåŠ¨æ‰©ç¼©å®¹
6. é«˜å¯ç”¨éƒ¨ç½²

**æŠ€æœ¯æ ˆ**:
- LangGraph Platform
- Kubernetes
- Prometheus + Grafana
- ELK Stack
- Redis Cluster
- PostgreSQL HA

**æž¶æž„**:
```
Load Balancer
    â†“
LangGraph Servers (å¤šå‰¯æœ¬)
    â†“
Redis Cluster
    â†“
PostgreSQL Primary/Replica
```

**è¯„ä¼°æ ‡å‡†**:
- [ ] å¤šç§Ÿæˆ·éš”ç¦»æœ‰æ•ˆ
- [ ] æƒé™æŽ§åˆ¶æ­£ç¡®
- [ ] ç›‘æŽ§å®Œæ•´
- [ ] å¯ä»¥æ°´å¹³æ‰©å±•
- [ ] é«˜å¯ç”¨éªŒè¯

---

## åä¸€ã€ä¸‹ä¸€æ­¥å­¦ä¹ 

å®Œæˆ Module-7 åŽ,ä½ å·²ç»å…·å¤‡äº†ç«¯åˆ°ç«¯çš„ LangGraph åº”ç”¨å¼€å‘å’Œéƒ¨ç½²èƒ½åŠ›!

### åŽç»­æ–¹å‘

1. **æ·±å…¥ LangGraph ç”Ÿæ€**
   - LangSmith(ç›‘æŽ§å’Œè°ƒè¯•)
   - LangServe(æ›¿ä»£éƒ¨ç½²æ–¹æ¡ˆ)
   - LangChain Hub(å…±äº«Promptså’ŒChains)

2. **AIå·¥ç¨‹è¿›é˜¶**
   - Prompt Engineering æœ€ä½³å®žè·µ
   - RAGç³»ç»Ÿä¼˜åŒ–
   - Agentè¯„ä¼°å’Œæµ‹è¯•

3. **DevOpsæ·±åŒ–**
   - Kubernetesè¿›é˜¶
   - Service Mesh(Istio)
   - å¯è§‚æµ‹æ€§(OpenTelemetry)

4. **ä¸šåŠ¡åº”ç”¨**
   - æž„å»ºè‡ªå·±çš„AIäº§å“
   - è¡Œä¸šè§£å†³æ–¹æ¡ˆ(åŒ»ç–—/é‡‘èž/æ•™è‚²)
   - å¼€æºè´¡çŒ®

---

## åäºŒã€æ€»ç»“

é€šè¿‡ Module-7 çš„å­¦ä¹ ,ä½ å·²ç»æŽŒæ¡:

âœ… **éƒ¨ç½²æŠ€èƒ½**:
- Dockerå®¹å™¨åŒ–
- LangGraph CLIä½¿ç”¨
- å­˜å‚¨é…ç½®(PostgreSQL + Redis)

âœ… **APIç²¾é€š**:
- Runs/Threads/Storeä¸‰å¤§API
- æµå¼ä¼ è¾“
- é”™è¯¯å¤„ç†

âœ… **å¹¶å‘æŽ§åˆ¶**:
- Double Texting 4ç§ç­–ç•¥
- ç­–ç•¥é€‰æ‹©å†³ç­–
- å®¢æˆ·ç«¯é‡è¯•é€»è¾‘

âœ… **é…ç½®åŒ–è®¾è®¡**:
- Assistantsåˆ›å»ºå’Œç®¡ç†
- ç‰ˆæœ¬æŽ§åˆ¶
- å¤šç§Ÿæˆ·æ”¯æŒ

**ä½ çŽ°åœ¨å¯ä»¥**:
- ðŸš€ éƒ¨ç½²ç”Ÿäº§çº§ LangGraph åº”ç”¨
- ðŸ› ï¸ å¤„ç†çœŸå®žä¸–ç•Œçš„å¹¶å‘åœºæ™¯
- ðŸ“Š ç›‘æŽ§å’Œä¼˜åŒ–åº”ç”¨æ€§èƒ½
- ðŸ—ï¸ è®¾è®¡å¯æ‰©å±•çš„æž¶æž„

**æ­å–œä½ å®Œæˆ LangGraph å®Œæ•´å­¦ä¹ ä¹‹æ—…!**

ç»§ç»­æŽ¢ç´¢,æŒç»­åˆ›æ–°,ç”¨ AI æ”¹å˜ä¸–ç•Œ! ðŸŒŸ

---

*æœ¬æ–‡æ¡£æœ€åŽæ›´æ–°:2024-11*  
*LangGraph Platform ç‰ˆæœ¬:0.2.0+*  
*ä½œè€…:LangGraph æ•™å­¦å›¢é˜Ÿ*

# Python åŸºç¡€å…¥é—¨ï¼šä»é›¶åˆ°ä¸€æŒæ¡ Python

> ç½‘ç«™ä½¿ç”¨è¯´æ˜
> - æœ¬ç½‘ç«™å¯ä»¥å…ç™»é™†è¿è¡Œ Python ä»£ç ã€‚å¦‚æœ‰æŠ¥é”™ï¼Œè¯·åˆ°[é—®é¢˜åé¦ˆ](http://localhost:5173/feedback.html) é¡µé¢è¿›è¡Œå…ç™»å½•è¿›è¡Œç™»è®°
> - Python ä»£ç å¯ä»¥ç¼–è¾‘å¹¶ä¸´æ—¶ä¿å­˜ï¼Œä½†ä¸ä¼šæ°¸ä¹…ä¿å­˜ï¼Œç½‘é¡µåˆ·æ–°åå°±ä¼šè‡ªåŠ¨è¿˜åŸ
> - å¯¹ç½‘ç«™ä½¿ç”¨ä¸­ç¢°åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰ä»»ä½•æ”¹è¿›æ„è§ï¼Œå¯ä»¥åˆ° [é—®é¢˜åé¦ˆ](http://localhost:5173/feedback.html) é¡µé¢è¿›è¡Œå…ç™»å½•è¿›è¡Œè¯„è®ºï¼Œæˆ–é‚®ç®±è”ç³»ä½œè€…ï¼šbrycew6m@gmail.com
> - è¿è¡Œ `LangGraph/LangChain`ä»£ç ï¼Œéœ€è¦ç”¨æˆ·ä¿å­˜è‡ªå·±çš„ [API Key](http://localhost:5173/python-run.html)
> - æœ¬ç½‘ç«™çš„æ‰€æœ‰åŸºç¡€æ ¸å¿ƒåŠŸèƒ½ï¼Œæ°¸ä¹…å…è´¹
> - é‡è¦å£°æ˜ï¼šæœ¬ç½‘ç«™ä¸ä¼šä¿å­˜æˆ–è·å–ä»»ä½•ç”¨æˆ·çš„ API Key æ•°æ®ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨

æœ¬ç« ä¸“ä¸º LangGraph å’Œ AI å¼€å‘æ–°æ‰‹è®¾è®¡ï¼Œé€šè¿‡ä»£ç å®ä¾‹å¿«é€ŸæŒæ¡ Python æ ¸å¿ƒæ¦‚å¿µã€‚æˆ‘ä»¬é‡‡ç”¨"å…ˆçœ‹ä»£ç ï¼Œåå­¦åŸç†"çš„æ–¹å¼ï¼Œè®©ä½ åœ¨å®è·µä¸­ç†è§£ Pythonã€‚


## ğŸ“‹ æœ¬ç« ç›®æ ‡

- âœ… æŒæ¡ Python 3.13 æ ¸å¿ƒè¯­æ³•
- âœ… ç†è§£é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³
- âœ… å­¦ä¼šä½¿ç”¨ Jupyter Notebook è¿›è¡Œäº¤äº’å¼å¼€å‘
- âœ… æŒæ¡æœºå™¨å­¦ä¹ /AI æ ¸å¿ƒåº“ï¼ˆNumPyã€Pandasã€Scikit-learnã€PyTorchã€å¯è§†åŒ–ï¼‰
- âœ… æŒæ¡ Git/GitHub åŸºç¡€æ“ä½œ
- âœ… ä¸ºå­¦ä¹  LangGraph æ‰“ä¸‹åšå®åŸºç¡€

---

## 1. ç¯å¢ƒå‡†å¤‡ï¼šé€‰æ‹©ä½ çš„å¼€å‘å·¥å…·


### ğŸ¯ æ¨èç¯å¢ƒ

**é€‰é¡¹ 1ï¼šJupyter Labï¼ˆæ¨èæ–°æ‰‹ï¼‰**
```bash
# å®‰è£… Jupyter Lab
pip install jupyterlab

# å¯åŠ¨
jupyter lab
```

**é€‰é¡¹ 2ï¼šVS Code / Cursor + Jupyter æ’ä»¶**
```bash
# å®‰è£… Python æ‰©å±•å’Œ Jupyter æ‰©å±•
# åœ¨ VS Code ä¸­æœç´¢å¹¶å®‰è£…ï¼š
# 1. Python (by Microsoft)
# 2. Jupyter (by Microsoft)
```

### âœ¨ éªŒè¯ç¯å¢ƒ

åˆ›å»ºä¸€ä¸ªæ–°çš„ Notebookï¼Œè¿è¡Œä»¥ä¸‹ä»£ç ï¼š

```python
import sys
print(f"Python ç‰ˆæœ¬: {sys.version}")
print(f"ä½ å¥½ï¼ŒLangGraph ä¸–ç•Œï¼")
```

**è¿è¡Œç»“æœï¼š**
```
Python ç‰ˆæœ¬: 3.13.0 (main, Oct  7 2024, 05:02:14) [Clang 15.0.0]
ä½ å¥½ï¼ŒLangGraph ä¸–ç•Œï¼
```

---

## 2. Python æ ¸å¿ƒæ¦‚å¿µï¼šå˜é‡ä¸æ•°æ®ç±»å‹

### 2.1 å…ˆçœ‹ä»£ç ï¼šå˜é‡çš„é­”æ³•

```python
# ä»£ç ç¤ºä¾‹ï¼šå˜é‡å°±åƒå¸¦æ ‡ç­¾çš„ç›’å­
name = "Alice"
age = 25
height = 1.68
is_student = True

print(f"å§“å: {name}")
print(f"å¹´é¾„: {age}")
print(f"èº«é«˜: {height}m")
print(f"æ˜¯å­¦ç”Ÿ: {is_student}")
print(f"ç±»å‹: {type(name)}, {type(age)}, {type(height)}, {type(is_student)}")
```

**è¿è¡Œç»“æœï¼š**
```
å§“å: Alice
å¹´é¾„: 25
èº«é«˜: 1.68m
æ˜¯å­¦ç”Ÿ: True
ç±»å‹: <class 'str'>, <class 'int'>, <class 'float'>, <class 'bool'>
```

### ğŸ“– æ¦‚å¿µè§£é‡Š

**å˜é‡**ï¼šå­˜å‚¨æ•°æ®çš„å®¹å™¨ï¼Œæ— éœ€å£°æ˜ç±»å‹ï¼ˆåŠ¨æ€ç±»å‹ï¼‰

**åŸºç¡€æ•°æ®ç±»å‹**ï¼š
- `str` - å­—ç¬¦ä¸²ï¼ˆæ–‡æœ¬ï¼‰
- `int` - æ•´æ•°
- `float` - æµ®ç‚¹æ•°ï¼ˆå°æ•°ï¼‰
- `bool` - å¸ƒå°”å€¼ï¼ˆTrue/Falseï¼‰

### ğŸ’¡ LangGraph åº”ç”¨åœºæ™¯

åœ¨ LangGraph ä¸­ï¼Œä½ ä¼šç»å¸¸ç”¨åˆ°è¿™äº›ç±»å‹ï¼š
- `str` - å­˜å‚¨ç”¨æˆ·æ¶ˆæ¯ã€AI å›å¤
- `int` - è®¡æ•°å™¨ã€æ­¥éª¤ç¼–å·
- `bool` - åˆ¤æ–­æ¡ä»¶ã€æ§åˆ¶æµç¨‹

---

## 3. æ•°æ®ç»“æ„ï¼šç»„ç»‡ä½ çš„æ•°æ®

### 3.1 åˆ—è¡¨ï¼ˆListï¼‰ï¼šæœ‰åºçš„æ•°æ®é›†åˆ

```python
# ä»£ç ç¤ºä¾‹ï¼šç®¡ç†å¯¹è¯å†å²
messages = ["Hello", "How are you?", "I'm fine"]

# æ·»åŠ æ–°æ¶ˆæ¯
messages.append("What's your name?")

# è®¿é—®ç¬¬ä¸€æ¡æ¶ˆæ¯
print(f"ç¬¬ä¸€æ¡æ¶ˆæ¯: {messages[0]}")

# è®¿é—®æœ€åä¸€æ¡æ¶ˆæ¯
print(f"æœ€åä¸€æ¡æ¶ˆæ¯: {messages[-1]}")

# éå†æ‰€æœ‰æ¶ˆæ¯
print("\nå®Œæ•´å¯¹è¯:")
for i, msg in enumerate(messages, 1):
    print(f"  {i}. {msg}")

# åˆ‡ç‰‡æ“ä½œ
print(f"\nå‰ä¸¤æ¡æ¶ˆæ¯: {messages[:2]}")
```

**è¿è¡Œç»“æœï¼š**
```
ç¬¬ä¸€æ¡æ¶ˆæ¯: Hello
æœ€åä¸€æ¡æ¶ˆæ¯: What's your name?

å®Œæ•´å¯¹è¯:
  1. Hello
  2. How are you?
  3. I'm fine
  4. What's your name?

å‰ä¸¤æ¡æ¶ˆæ¯: ['Hello', 'How are you?']
```

### 3.2 å­—å…¸ï¼ˆDictï¼‰ï¼šé”®å€¼å¯¹çš„æ•°æ®å­˜å‚¨

```python
# ä»£ç ç¤ºä¾‹ï¼šå­˜å‚¨ Agent çŠ¶æ€
agent_state = {
    "user_id": "user_123",
    "conversation_id": "conv_456",
    "turn_count": 3,
    "context": {
        "topic": "weather",
        "location": "Beijing"
    }
}

# è®¿é—®æ•°æ®
print(f"ç”¨æˆ·ID: {agent_state['user_id']}")
print(f"å¯¹è¯è½®æ¬¡: {agent_state['turn_count']}")
print(f"è¯é¢˜: {agent_state['context']['topic']}")

# æ›´æ–°æ•°æ®
agent_state['turn_count'] += 1
print(f"\næ›´æ–°åçš„è½®æ¬¡: {agent_state['turn_count']}")

# è·å–æ‰€æœ‰é”®
print(f"\næ‰€æœ‰å­—æ®µ: {list(agent_state.keys())}")
```

**è¿è¡Œç»“æœï¼š**
```
ç”¨æˆ·ID: user_123
å¯¹è¯è½®æ¬¡: 3
è¯é¢˜: weather

æ›´æ–°åçš„è½®æ¬¡: 4

æ‰€æœ‰å­—æ®µ: ['user_id', 'conversation_id', 'turn_count', 'context']
```

### 3.3 å…ƒç»„ï¼ˆTupleï¼‰ï¼šä¸å¯å˜çš„åºåˆ—

```python
# ä»£ç ç¤ºä¾‹ï¼šå®šä¹‰æ¶ˆæ¯æ ¼å¼
message = ("user", "Hello, how can I help?")

role, content = message  # è§£åŒ…
print(f"è§’è‰²: {role}")
print(f"å†…å®¹: {content}")

# å…ƒç»„ä¸å¯ä¿®æ”¹ï¼ˆä¼šæŠ¥é”™ï¼‰
try:
    message[0] = "assistant"
except TypeError as e:
    print(f"\nâŒ é”™è¯¯: {e}")
```

**è¿è¡Œç»“æœï¼š**
```
è§’è‰²: user
å†…å®¹: Hello, how can I help?

âŒ é”™è¯¯: 'tuple' object does not support item assignment
```

### 3.4 é›†åˆï¼ˆSetï¼‰ï¼šå”¯ä¸€å…ƒç´ çš„é›†åˆ

```python
# ä»£ç ç¤ºä¾‹ï¼šå»é‡ç”¨æˆ·æåˆ°çš„è¯é¢˜
topics = {"weather", "sports", "weather", "music", "sports"}
print(f"å”¯ä¸€è¯é¢˜: {topics}")

# é›†åˆè¿ç®—
user_interests = {"music", "sports", "reading"}
available_topics = {"music", "weather", "news"}

common = user_interests & available_topics  # äº¤é›†
print(f"å…±åŒè¯é¢˜: {common}")
```

**è¿è¡Œç»“æœï¼š**
```
å”¯ä¸€è¯é¢˜: {'music', 'weather', 'sports'}
å…±åŒè¯é¢˜: {'music'}
```

### ğŸ“– æ•°æ®ç»“æ„å¯¹æ¯”

| ç±»å‹ | æœ‰åº | å¯å˜ | å…è®¸é‡å¤ | ä½¿ç”¨åœºæ™¯ |
|------|------|------|----------|----------|
| List | âœ… | âœ… | âœ… | å¯¹è¯å†å²ã€æ¶ˆæ¯åˆ—è¡¨ |
| Dict | âŒ | âœ… | Keyä¸é‡å¤ | çŠ¶æ€ç®¡ç†ã€é…ç½® |
| Tuple | âœ… | âŒ | âœ… | å›ºå®šæ ¼å¼æ•°æ® |
| Set | âŒ | âœ… | âŒ | å»é‡ã€é›†åˆè¿ç®— |

---

## 4. æ§åˆ¶æµï¼šè®©ç¨‹åºåšå†³ç­–

### 4.1 æ¡ä»¶åˆ¤æ–­ï¼ˆif-elif-elseï¼‰

```python
# ä»£ç ç¤ºä¾‹ï¼šæ ¹æ®ç”¨æˆ·æƒ…ç»ªé€‰æ‹©å›å¤ç­–ç•¥
sentiment_score = 0.8  # 1.0 æœ€ç§¯æï¼Œ-1.0 æœ€æ¶ˆæ

if sentiment_score > 0.6:
    response_style = "çƒ­æƒ…å‹å¥½"
    emoji = "ğŸ˜Š"
elif sentiment_score > 0:
    response_style = "ä¸­æ€§å®¢è§‚"
    emoji = "ğŸ™‚"
else:
    response_style = "æ¸©å’Œå®‰æ…°"
    emoji = "ğŸ¤—"

print(f"æƒ…ç»ªåˆ†æ•°: {sentiment_score}")
print(f"å›å¤é£æ ¼: {response_style} {emoji}")

# ç®€æ´çš„ä¸‰å…ƒè¿ç®—ç¬¦
mood = "ç§¯æ" if sentiment_score > 0 else "æ¶ˆæ"
print(f"æƒ…ç»ª: {mood}")
```

**è¿è¡Œç»“æœï¼š**
```
æƒ…ç»ªåˆ†æ•°: 0.8
å›å¤é£æ ¼: çƒ­æƒ…å‹å¥½ ğŸ˜Š
æƒ…ç»ª: ç§¯æ
```

### 4.2 å¾ªç¯ï¼ˆforï¼‰ï¼šéå†æ•°æ®

```python
# ä»£ç ç¤ºä¾‹ï¼šæ‰¹é‡å¤„ç†æ¶ˆæ¯
messages = [
    {"role": "user", "content": "Hello"},
    {"role": "assistant", "content": "Hi there!"},
    {"role": "user", "content": "How are you?"}
]

print("å¯¹è¯å†å²ï¼š")
for i, msg in enumerate(messages):
    prefix = "ğŸ‘¤" if msg["role"] == "user" else "ğŸ¤–"
    print(f"{i+1}. {prefix} {msg['content']}")

# åˆ—è¡¨æ¨å¯¼å¼ï¼ˆé«˜çº§æŠ€å·§ï¼‰
user_messages = [msg["content"] for msg in messages if msg["role"] == "user"]
print(f"\nç”¨æˆ·æ¶ˆæ¯: {user_messages}")
```

**è¿è¡Œç»“æœï¼š**
```
å¯¹è¯å†å²ï¼š
1. ğŸ‘¤ Hello
2. ğŸ¤– Hi there!
3. ğŸ‘¤ How are you?

ç”¨æˆ·æ¶ˆæ¯: ['Hello', 'How are you?']
```

### 4.3 å¾ªç¯ï¼ˆwhileï¼‰ï¼šæ¡ä»¶å¾ªç¯

```python
# ä»£ç ç¤ºä¾‹ï¼šé™åˆ¶é‡è¯•æ¬¡æ•°
max_retries = 3
attempt = 0

while attempt < max_retries:
    attempt += 1
    print(f"å°è¯• #{attempt}...")

    # æ¨¡æ‹Ÿ API è°ƒç”¨
    success = (attempt == 2)  # ç¬¬2æ¬¡æˆåŠŸ

    if success:
        print("âœ… æˆåŠŸ!")
        break
    else:
        print("âŒ å¤±è´¥ï¼Œé‡è¯•ä¸­...")
else:
    print("\nâš ï¸ è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°")
```

**è¿è¡Œç»“æœï¼š**
```
å°è¯• #1...
âŒ å¤±è´¥ï¼Œé‡è¯•ä¸­...
å°è¯• #2...
âœ… æˆåŠŸ!
```

---

## 5. å‡½æ•°ï¼šä»£ç çš„å¤ç”¨å•å…ƒ

### 5.1 åŸºç¡€å‡½æ•°

```python
# ä»£ç ç¤ºä¾‹ï¼šæ ¼å¼åŒ–æ¶ˆæ¯
def format_message(role, content, timestamp=None):
    """æ ¼å¼åŒ–èŠå¤©æ¶ˆæ¯

    Args:
        role: è§’è‰²ï¼ˆuser/assistantï¼‰
        content: æ¶ˆæ¯å†…å®¹
        timestamp: æ—¶é—´æˆ³ï¼ˆå¯é€‰ï¼‰

    Returns:
        æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²
    """
    prefix = "ğŸ‘¤" if role == "user" else "ğŸ¤–"
    time_str = f"[{timestamp}] " if timestamp else ""
    return f"{time_str}{prefix} {content}"

# è°ƒç”¨å‡½æ•°
msg1 = format_message("user", "Hello")
msg2 = format_message("assistant", "Hi!", "10:30")

print(msg1)
print(msg2)
```

**è¿è¡Œç»“æœï¼š**
```
ğŸ‘¤ Hello
[10:30] ğŸ¤– Hi!
```

### 5.2 è¿”å›å¤šä¸ªå€¼

```python
# ä»£ç ç¤ºä¾‹ï¼šåˆ†ææ–‡æœ¬
def analyze_text(text):
    """åˆ†ææ–‡æœ¬çš„åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯"""
    word_count = len(text.split())
    char_count = len(text)
    has_question = "?" in text

    return word_count, char_count, has_question

# æ¥æ”¶å¤šä¸ªè¿”å›å€¼
text = "How are you doing today?"
words, chars, is_question = analyze_text(text)

print(f"æ–‡æœ¬: {text}")
print(f"å•è¯æ•°: {words}")
print(f"å­—ç¬¦æ•°: {chars}")
print(f"æ˜¯é—®é¢˜: {is_question}")
```

**è¿è¡Œç»“æœï¼š**
```
æ–‡æœ¬: How are you doing today?
å•è¯æ•°: 5
å­—ç¬¦æ•°: 26
æ˜¯é—®é¢˜: True
```

### 5.3 Lambda å‡½æ•°ï¼šç®€æ´çš„åŒ¿åå‡½æ•°

```python
# ä»£ç ç¤ºä¾‹ï¼šå¿«é€Ÿå®šä¹‰ç®€å•å‡½æ•°
# ä¼ ç»Ÿå‡½æ•°
def double(x):
    return x * 2

# Lambda å‡½æ•°ï¼ˆç­‰ä»·ï¼‰
double_lambda = lambda x: x * 2

print(f"ä¼ ç»Ÿå‡½æ•°: {double(5)}")
print(f"Lambda: {double_lambda(5)}")

# Lambda åœ¨æ’åºä¸­çš„åº”ç”¨
messages = [
    {"content": "Hello", "length": 5},
    {"content": "Hi", "length": 2},
    {"content": "How are you?", "length": 12}
]

# æŒ‰é•¿åº¦æ’åº
sorted_msgs = sorted(messages, key=lambda x: x["length"])
print(f"\næŒ‰é•¿åº¦æ’åº: {[m['content'] for m in sorted_msgs]}")
```

**è¿è¡Œç»“æœï¼š**
```
ä¼ ç»Ÿå‡½æ•°: 10
Lambda: 10

æŒ‰é•¿åº¦æ’åº: ['Hi', 'Hello', 'How are you?']
```

---

## 6. é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šæ„å»ºä½ çš„ Agent

### 6.1 ç±»ä¸å¯¹è±¡

```python
# ä»£ç ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªç®€å•çš„ ChatBot ç±»
class SimpleChatBot:
    """ç®€å•çš„èŠå¤©æœºå™¨äºº"""

    def __init__(self, name, model="gpt-4"):
        """åˆå§‹åŒ–æ–¹æ³•"""
        self.name = name
        self.model = model
        self.conversation_history = []

    def chat(self, user_message):
        """å¤„ç†ç”¨æˆ·æ¶ˆæ¯"""
        # æ·»åŠ åˆ°å†å²
        self.conversation_history.append({
            "role": "user",
            "content": user_message
        })

        # ç”Ÿæˆå›å¤ï¼ˆç®€åŒ–ç‰ˆï¼‰
        reply = f"æ”¶åˆ°æ¶ˆæ¯: {user_message}"
        self.conversation_history.append({
            "role": "assistant",
            "content": reply
        })

        return reply

    def get_history(self):
        """è·å–å¯¹è¯å†å²"""
        return self.conversation_history

    def __str__(self):
        """å­—ç¬¦ä¸²è¡¨ç¤º"""
        return f"ChatBot(name={self.name}, model={self.model})"

# åˆ›å»ºå®ä¾‹
bot = SimpleChatBot(name="å°åŠ©æ‰‹", model="gpt-5-nano")
print(bot)

# ä½¿ç”¨å¯¹è±¡
reply1 = bot.chat("ä½ å¥½")
reply2 = bot.chat("å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ")

print(f"\næœºå™¨äººå›å¤: {reply1}")
print(f"æœºå™¨äººå›å¤: {reply2}")

print(f"\nå¯¹è¯è½®æ¬¡: {len(bot.conversation_history) // 2}")
```

**è¿è¡Œç»“æœï¼š**
```
ChatBot(name=å°åŠ©æ‰‹, model=gpt-5-nano)

æœºå™¨äººå›å¤: æ”¶åˆ°æ¶ˆæ¯: ä½ å¥½
æœºå™¨äººå›å¤: æ”¶åˆ°æ¶ˆæ¯: å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ

å¯¹è¯è½®æ¬¡: 2
```

### 6.2 ç»§æ‰¿ï¼šæ‰©å±•åŠŸèƒ½

```python
# ä»£ç ç¤ºä¾‹ï¼šåˆ›å»ºå¢å¼ºç‰ˆ ChatBot
class AdvancedChatBot(SimpleChatBot):
    """å¢å¼ºç‰ˆèŠå¤©æœºå™¨äººï¼Œæ”¯æŒæƒ…ç»ªåˆ†æ"""

    def __init__(self, name, model="gpt-4", enable_sentiment=True):
        super().__init__(name, model)  # è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
        self.enable_sentiment = enable_sentiment
        self.sentiment_scores = []

    def analyze_sentiment(self, text):
        """åˆ†ææƒ…ç»ªï¼ˆç®€åŒ–ç‰ˆï¼‰"""
        positive_words = ["å¥½", "æ£’", "å–œæ¬¢", "å¼€å¿ƒ"]
        score = sum(1 for word in positive_words if word in text)
        return min(score / len(positive_words), 1.0)

    def chat(self, user_message):
        """é‡å†™çˆ¶ç±»æ–¹æ³•"""
        # æƒ…ç»ªåˆ†æ
        if self.enable_sentiment:
            sentiment = self.analyze_sentiment(user_message)
            self.sentiment_scores.append(sentiment)
            print(f"æƒ…ç»ªåˆ†æ•°: {sentiment:.2f}")

        # è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        return super().chat(user_message)

# ä½¿ç”¨å¢å¼ºç‰ˆ
advanced_bot = AdvancedChatBot(name="æ™ºèƒ½åŠ©æ‰‹")
advanced_bot.chat("ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”çœŸå¥½ï¼")
advanced_bot.chat("æˆ‘å¾ˆå¼€å¿ƒ")

print(f"\nå¹³å‡æƒ…ç»ª: {sum(advanced_bot.sentiment_scores) / len(advanced_bot.sentiment_scores):.2f}")
```

**è¿è¡Œç»“æœï¼š**
```
æƒ…ç»ªåˆ†æ•°: 0.25
æƒ…ç»ªåˆ†æ•°: 0.25

å¹³å‡æƒ…ç»ª: 0.25
```

---

## 7. å¼‚å¸¸å¤„ç†ï¼šä¼˜é›…åœ°å¤„ç†é”™è¯¯

### 7.1 try-except åŸºç¡€

```python
# ä»£ç ç¤ºä¾‹ï¼šå®‰å…¨åœ°å¤„ç†ç”¨æˆ·è¾“å…¥
def safe_divide(a, b):
    """å®‰å…¨çš„é™¤æ³•è¿ç®—"""
    try:
        result = a / b
        return result
    except ZeroDivisionError:
        print("âš ï¸ é”™è¯¯: é™¤æ•°ä¸èƒ½ä¸º0")
        return None
    except TypeError as e:
        print(f"âš ï¸ ç±»å‹é”™è¯¯: {e}")
        return None

# æµ‹è¯•
print(f"10 / 2 = {safe_divide(10, 2)}")
print(f"10 / 0 = {safe_divide(10, 0)}")
print(f"10 / '2' = {safe_divide(10, '2')}")
```

**è¿è¡Œç»“æœï¼š**
```
10 / 2 = 5.0
âš ï¸ é”™è¯¯: é™¤æ•°ä¸èƒ½ä¸º0
10 / 0 = None
âš ï¸ ç±»å‹é”™è¯¯: unsupported operand type(s) for /: 'int' and 'str'
10 / '2' = None
```

### 7.2 è‡ªå®šä¹‰å¼‚å¸¸

```python
# ä»£ç ç¤ºä¾‹ï¼šåˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸
class MessageTooLongError(Exception):
    """æ¶ˆæ¯è¿‡é•¿å¼‚å¸¸"""
    pass

def validate_message(message, max_length=100):
    """éªŒè¯æ¶ˆæ¯é•¿åº¦"""
    if len(message) > max_length:
        raise MessageTooLongError(f"æ¶ˆæ¯é•¿åº¦ {len(message)} è¶…è¿‡é™åˆ¶ {max_length}")
    return True

# ä½¿ç”¨
try:
    short_msg = "Hello"
    validate_message(short_msg)
    print(f"âœ… æ¶ˆæ¯æœ‰æ•ˆ: {short_msg}")

    long_msg = "x" * 101
    validate_message(long_msg)
except MessageTooLongError as e:
    print(f"âŒ {e}")
```

**è¿è¡Œç»“æœï¼š**
```
âœ… æ¶ˆæ¯æœ‰æ•ˆ: Hello
âŒ æ¶ˆæ¯é•¿åº¦ 101 è¶…è¿‡é™åˆ¶ 100
```

---

## 8. æ–‡ä»¶æ“ä½œï¼šè¯»å†™æ•°æ®

### 8.1 è¯»å–æ–‡ä»¶

```python
# ä»£ç ç¤ºä¾‹ï¼šè¯»å–é…ç½®æ–‡ä»¶
# é¦–å…ˆåˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶
with open("config.txt", "w", encoding="utf-8") as f:
    f.write("model=gpt-5-nano\n")
    f.write("temperature=0.7\n")
    f.write("max_tokens=1000\n")

# è¯»å–æ–‡ä»¶
print("é…ç½®å†…å®¹ï¼š")
with open("config.txt", "r", encoding="utf-8") as f:
    for line in f:
        print(f"  {line.strip()}")

# è¯»å–ä¸ºå­—å…¸
config = {}
with open("config.txt", "r", encoding="utf-8") as f:
    for line in f:
        key, value = line.strip().split("=")
        config[key] = value

print(f"\né…ç½®å­—å…¸: {config}")
```

**è¿è¡Œç»“æœï¼š**
```
é…ç½®å†…å®¹ï¼š
  model=gpt-5-nano
  temperature=0.7
  max_tokens=1000

é…ç½®å­—å…¸: {'model': 'gpt-5-nano', 'temperature': '0.7', 'max_tokens': '1000'}
```

### 8.2 JSON æ–‡ä»¶æ“ä½œ

```python
import json

# ä»£ç ç¤ºä¾‹ï¼šä¿å­˜å’ŒåŠ è½½å¯¹è¯å†å²
conversation = {
    "session_id": "session_123",
    "messages": [
        {"role": "user", "content": "Hello"},
        {"role": "assistant", "content": "Hi there!"}
    ],
    "metadata": {
        "start_time": "2024-10-12 10:00:00",
        "turn_count": 1
    }
}

# ä¿å­˜ä¸º JSON
with open("conversation.json", "w", encoding="utf-8") as f:
    json.dump(conversation, f, ensure_ascii=False, indent=2)
print("âœ… å¯¹è¯å·²ä¿å­˜åˆ° conversation.json")

# ä» JSON åŠ è½½
with open("conversation.json", "r", encoding="utf-8") as f:
    loaded_conv = json.load(f)

print(f"\nåŠ è½½çš„ä¼šè¯ID: {loaded_conv['session_id']}")
print(f"æ¶ˆæ¯æ•°é‡: {len(loaded_conv['messages'])}")
print(f"é¦–æ¡æ¶ˆæ¯: {loaded_conv['messages'][0]}")
```

**è¿è¡Œç»“æœï¼š**
```
âœ… å¯¹è¯å·²ä¿å­˜åˆ° conversation.json

åŠ è½½çš„ä¼šè¯ID: session_123
æ¶ˆæ¯æ•°é‡: 2
é¦–æ¡æ¶ˆæ¯: {'role': 'user', 'content': 'Hello'}
```

---

## 9. å¸¸ç”¨å†…ç½®å‡½æ•°å’Œæ ‡å‡†åº“

### 9.1 å¼ºå¤§çš„å†…ç½®å‡½æ•°

```python
# ä»£ç ç¤ºä¾‹ï¼šå¸¸ç”¨å†…ç½®å‡½æ•°åˆé›†
numbers = [1, 5, 3, 9, 2, 7]

print("æ•°æ®:", numbers)
print(f"é•¿åº¦: {len(numbers)}")
print(f"æœ€å¤§å€¼: {max(numbers)}")
print(f"æœ€å°å€¼: {min(numbers)}")
print(f"æ±‚å’Œ: {sum(numbers)}")
print(f"æ’åº: {sorted(numbers)}")
print(f"åè½¬: {sorted(numbers, reverse=True)}")

# map å’Œ filter
squared = list(map(lambda x: x**2, numbers))
print(f"\nå¹³æ–¹: {squared}")

evens = list(filter(lambda x: x % 2 == 0, numbers))
print(f"å¶æ•°: {evens}")

# zipï¼šé…å¯¹æ•°æ®
names = ["Alice", "Bob", "Charlie"]
scores = [85, 90, 78]
paired = list(zip(names, scores))
print(f"\nå§“å-åˆ†æ•°é…å¯¹: {paired}")
```

**è¿è¡Œç»“æœï¼š**
```
æ•°æ®: [1, 5, 3, 9, 2, 7]
é•¿åº¦: 6
æœ€å¤§å€¼: 9
æœ€å°å€¼: 1
æ±‚å’Œ: 27
æ’åº: [1, 2, 3, 5, 7, 9]
åè½¬: [9, 7, 5, 3, 2, 1]

å¹³æ–¹: [1, 25, 9, 81, 4, 49]
å¶æ•°: [2]

å§“å-åˆ†æ•°é…å¯¹: [('Alice', 85), ('Bob', 90), ('Charlie', 78)]
```

### 9.2 æ—¶é—´å¤„ç†ï¼ˆdatetimeï¼‰

```python
from datetime import datetime, timedelta

# ä»£ç ç¤ºä¾‹ï¼šæ—¶é—´æˆ³å’Œæ—¶é—´è®¡ç®—
now = datetime.now()
print(f"å½“å‰æ—¶é—´: {now}")
print(f"æ ¼å¼åŒ–: {now.strftime('%Y-%m-%d %H:%M:%S')}")

# æ—¶é—´è®¡ç®—
tomorrow = now + timedelta(days=1)
print(f"æ˜å¤©: {tomorrow.strftime('%Y-%m-%d')}")

# è®¡ç®—æ—¶é—´å·®
start_time = datetime(2024, 10, 1, 10, 0, 0)
end_time = datetime(2024, 10, 12, 16, 0, 0)
duration = end_time - start_time
print(f"\næŒç»­æ—¶é—´: {duration.days} å¤© {duration.seconds // 3600} å°æ—¶")
```

**è¿è¡Œç»“æœï¼š**
```
å½“å‰æ—¶é—´: 2024-10-12 16:00:00.123456
æ ¼å¼åŒ–: 2024-10-12 16:00:00
æ˜å¤©: 2024-10-13

æŒç»­æ—¶é—´: 11 å¤© 6 å°æ—¶
```

### 9.3 éšæœºæ•°ï¼ˆrandomï¼‰

```python
import random

# ä»£ç ç¤ºä¾‹ï¼šéšæœºé€‰æ‹©å’Œç”Ÿæˆ
responses = [
    "That's interesting!",
    "Tell me more.",
    "I see.",
    "Got it!"
]

print("éšæœºå›å¤ç¤ºä¾‹ï¼š")
for i in range(3):
    print(f"  {i+1}. {random.choice(responses)}")

# éšæœºæ•°ç”Ÿæˆ
print(f"\néšæœºæ•´æ•° (1-10): {random.randint(1, 10)}")
print(f"éšæœºæµ®ç‚¹æ•° (0-1): {random.random():.2f}")

# æ‰“ä¹±åˆ—è¡¨
items = [1, 2, 3, 4, 5]
random.shuffle(items)
print(f"æ‰“ä¹±å: {items}")
```

**è¿è¡Œç»“æœï¼š**
```
éšæœºå›å¤ç¤ºä¾‹ï¼š
  1. Tell me more.
  2. That's interesting!
  3. Got it!

éšæœºæ•´æ•° (1-10): 7
éšæœºæµ®ç‚¹æ•° (0-1): 0.42
æ‰“ä¹±å: [3, 1, 5, 2, 4]
```

---

## 10. Git/GitHub åŸºç¡€ï¼šç‰ˆæœ¬æ§åˆ¶å¿…å¤‡

### 10.1 ä¸ºä»€ä¹ˆéœ€è¦ Gitï¼Ÿ

æƒ³è±¡ä½ åœ¨å†™ä¸€ä¸ªå¤æ‚çš„ LangGraph åº”ç”¨ï¼š
- ğŸ’¾ **ç‰ˆæœ¬ç®¡ç†**ï¼šè®°å½•æ¯æ¬¡ä¿®æ”¹ï¼Œå¯ä»¥å›é€€åˆ°ä»»ä½•å†å²ç‰ˆæœ¬
- ğŸ‘¥ **å›¢é˜Ÿåä½œ**ï¼šå¤šäººåŒæ—¶å¼€å‘ï¼Œåˆå¹¶ä»£ç 
- ğŸ” **è¿½è¸ªå˜æ›´**ï¼šçŸ¥é“è°ã€ä½•æ—¶ã€ä¸ºä»€ä¹ˆä¿®æ”¹äº†ä»£ç 
- â˜ï¸ **äº‘ç«¯å¤‡ä»½**ï¼šGitHub ä¿å­˜ä½ çš„æ‰€æœ‰ä»£ç 

### 10.2 Git æ ¸å¿ƒæ¦‚å¿µ

```bash
# å·¥ä½œæµç¨‹ç¤ºæ„
å·¥ä½œåŒº (Working Directory)
   â†“  git add
æš‚å­˜åŒº (Staging Area)
   â†“  git commit
æœ¬åœ°ä»“åº“ (Local Repository)
   â†“  git push
è¿œç¨‹ä»“åº“ (Remote Repository - GitHub)
```

### 10.3 Git åŸºç¡€å‘½ä»¤å®æˆ˜

```bash
# 1. é…ç½® Gitï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
git config --global user.name "ä½ çš„åå­—"
git config --global user.email "your.email@example.com"

# 2. åˆå§‹åŒ–ä»“åº“
mkdir my-langgraph-project
cd my-langgraph-project
git init
```

**è¿è¡Œç»“æœï¼š**
```
Initialized empty Git repository in /path/to/my-langgraph-project/.git/
```

```bash
# 3. åˆ›å»ºç¬¬ä¸€ä¸ªæ–‡ä»¶
echo "# My LangGraph Project" > README.md
echo "print('Hello, LangGraph!')" > main.py

# 4. æŸ¥çœ‹çŠ¶æ€
git status
```

**è¿è¡Œç»“æœï¼š**
```
On branch main

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        README.md
        main.py

nothing added to commit but untracked files present
```

```bash
# 5. æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add README.md main.py
# æˆ–è€…æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# 6. æäº¤æ›´æ”¹
git commit -m "Initial commit: Add README and main.py"
```

**è¿è¡Œç»“æœï¼š**
```
[main (root-commit) a1b2c3d] Initial commit: Add README and main.py
 2 files changed, 10 insertions(+)
 create mode 100644 README.md
 create mode 100644 main.py
```

```bash
# 7. æŸ¥çœ‹æäº¤å†å²
git log --oneline
```

**è¿è¡Œç»“æœï¼š**
```
a1b2c3d Initial commit: Add README and main.py
```

### 10.4 GitHub ä½¿ç”¨æµç¨‹

```bash
# 1. åœ¨ GitHub ä¸Šåˆ›å»ºæ–°ä»“åº“
# è®¿é—® https://github.com/new
# å¡«å†™ä»“åº“åç§°ï¼Œå¦‚ï¼šmy-langgraph-project

# 2. è¿æ¥è¿œç¨‹ä»“åº“
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/my-langgraph-project.git

# 3. æ¨é€åˆ° GitHub
git push -u origin main
```

**è¿è¡Œç»“æœï¼š**
```
Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Writing objects: 100% (4/4), 320 bytes | 320.00 KiB/s, done.
Total 4 (delta 0), reused 0 (delta 0)
To https://github.com/ä½ çš„ç”¨æˆ·å/my-langgraph-project.git
 * [new branch]      main -> main
```

### 10.5 æ—¥å¸¸ Git å·¥ä½œæµ

```bash
# åœºæ™¯ï¼šä¿®æ”¹ä»£ç åæäº¤

# 1. ä¿®æ”¹æ–‡ä»¶
echo "def hello(): print('Updated!')" >> main.py

# 2. æŸ¥çœ‹ä¿®æ”¹
git diff

# 3. æ·»åŠ å¹¶æäº¤
git add main.py
git commit -m "Add hello function"

# 4. æ¨é€åˆ°è¿œç¨‹
git push

# 5. æ‹‰å–æœ€æ–°ä»£ç ï¼ˆå›¢é˜Ÿåä½œï¼‰
git pull
```

### 10.6 Git å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `git init` | åˆå§‹åŒ–ä»“åº“ | `git init` |
| `git clone` | å…‹éš†è¿œç¨‹ä»“åº“ | `git clone https://github.com/user/repo.git` |
| `git status` | æŸ¥çœ‹çŠ¶æ€ | `git status` |
| `git add` | æ·»åŠ åˆ°æš‚å­˜åŒº | `git add .` |
| `git commit` | æäº¤æ›´æ”¹ | `git commit -m "message"` |
| `git push` | æ¨é€åˆ°è¿œç¨‹ | `git push origin main` |
| `git pull` | æ‹‰å–è¿œç¨‹æ›´æ”¹ | `git pull` |
| `git log` | æŸ¥çœ‹å†å² | `git log --oneline` |
| `git diff` | æŸ¥çœ‹å·®å¼‚ | `git diff` |
| `git branch` | æŸ¥çœ‹/åˆ›å»ºåˆ†æ”¯ | `git branch feature-x` |
| `git checkout` | åˆ‡æ¢åˆ†æ”¯ | `git checkout feature-x` |
| `git merge` | åˆå¹¶åˆ†æ”¯ | `git merge feature-x` |

### 10.7 .gitignoreï¼šå¿½ç•¥ä¸éœ€è¦çš„æ–‡ä»¶

```bash
# åˆ›å»º .gitignore æ–‡ä»¶
cat > .gitignore << EOF
# Python
__pycache__/
*.py[cod]
*.so
.Python

# ç¯å¢ƒå˜é‡
.env
.venv/

# Jupyter Notebook
.ipynb_checkpoints/

# IDE
.vscode/
.idea/

# æ•°æ®æ–‡ä»¶
*.db
*.sqlite

# æ—¥å¿—
*.log
EOF

git add .gitignore
git commit -m "Add .gitignore"
```

---

## 11. Python 3.13 æ–°ç‰¹æ€§é¢„è§ˆ

### 11.1 æ›´å¥½çš„é”™è¯¯æ¶ˆæ¯

```python
# Python 3.13 æä¾›æ›´æ¸…æ™°çš„é”™è¯¯æç¤º
data = {"name": "Alice", "age": 25}

try:
    # æ‹¼å†™é”™è¯¯
    print(data["nam"])
except KeyError as e:
    print(f"KeyError: {e}")
    print(f"ğŸ’¡ æç¤º: ä½ æ˜¯ä¸æ˜¯æƒ³ç”¨ 'name'?")
```

### 11.2 ç±»å‹æç¤ºå¢å¼º

```python
# ä»£ç ç¤ºä¾‹ï¼šç°ä»£ Python ç±»å‹æç¤º
def process_messages(
    messages: list[dict[str, str]],
    max_length: int = 100
) -> list[str]:
    """å¤„ç†æ¶ˆæ¯åˆ—è¡¨

    Args:
        messages: æ¶ˆæ¯åˆ—è¡¨ï¼Œæ¯æ¡æ¶ˆæ¯æ˜¯å­—å…¸
        max_length: æœ€å¤§é•¿åº¦

    Returns:
        å¤„ç†åçš„å†…å®¹åˆ—è¡¨
    """
    return [
        msg["content"][:max_length]
        for msg in messages
        if "content" in msg
    ]

# ä½¿ç”¨
msgs = [
    {"role": "user", "content": "Hello World"},
    {"role": "assistant", "content": "Hi there"}
]
result = process_messages(msgs)
print(result)
```

**è¿è¡Œç»“æœï¼š**
```
['Hello World', 'Hi there']
```

---

## 12. å®æˆ˜ç»¼åˆæ¡ˆä¾‹ï¼šæ„å»ºè¿·ä½ å¯¹è¯ç³»ç»Ÿ

è®©æˆ‘ä»¬æŠŠæ‰€æœ‰çŸ¥è¯†ç‚¹æ•´åˆèµ·æ¥ï¼Œæ„å»ºä¸€ä¸ªå®Œæ•´çš„è¿·ä½ å¯¹è¯ç³»ç»Ÿã€‚

```python
import json
from datetime import datetime
from typing import List, Dict

class ConversationManager:
    """å¯¹è¯ç®¡ç†å™¨"""

    def __init__(self, bot_name: str = "Assistant"):
        self.bot_name = bot_name
        self.conversations: Dict[str, List[Dict]] = {}
        self.session_count = 0

    def create_session(self) -> str:
        """åˆ›å»ºæ–°ä¼šè¯"""
        self.session_count += 1
        session_id = f"session_{self.session_count}"
        self.conversations[session_id] = []
        print(f"âœ… åˆ›å»ºä¼šè¯: {session_id}")
        return session_id

    def add_message(self, session_id: str, role: str, content: str):
        """æ·»åŠ æ¶ˆæ¯"""
        if session_id not in self.conversations:
            raise ValueError(f"ä¼šè¯ {session_id} ä¸å­˜åœ¨")

        message = {
            "role": role,
            "content": content,
            "timestamp": datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        }
        self.conversations[session_id].append(message)

    def get_history(self, session_id: str) -> List[Dict]:
        """è·å–å†å²"""
        return self.conversations.get(session_id, [])

    def format_conversation(self, session_id: str) -> str:
        """æ ¼å¼åŒ–å¯¹è¯"""
        messages = self.get_history(session_id)
        if not messages:
            return "ç©ºå¯¹è¯"

        lines = [f"=== ä¼šè¯ {session_id} ==="]
        for msg in messages:
            prefix = "ğŸ‘¤" if msg["role"] == "user" else "ğŸ¤–"
            lines.append(f"{prefix} [{msg['timestamp']}] {msg['content']}")
        return "\n".join(lines)

    def save_to_file(self, session_id: str, filename: str):
        """ä¿å­˜åˆ°æ–‡ä»¶"""
        data = {
            "session_id": session_id,
            "bot_name": self.bot_name,
            "messages": self.get_history(session_id)
        }
        with open(filename, "w", encoding="utf-8") as f:
            json.dump(data, f, ensure_ascii=False, indent=2)
        print(f"âœ… ä¼šè¯å·²ä¿å­˜åˆ° {filename}")

    def load_from_file(self, filename: str) -> str:
        """ä»æ–‡ä»¶åŠ è½½"""
        with open(filename, "r", encoding="utf-8") as f:
            data = json.load(f)

        session_id = data["session_id"]
        self.conversations[session_id] = data["messages"]
        print(f"âœ… å·²åŠ è½½ä¼šè¯: {session_id}")
        return session_id

    def get_stats(self) -> Dict:
        """è·å–ç»Ÿè®¡ä¿¡æ¯"""
        total_messages = sum(len(msgs) for msgs in self.conversations.values())
        return {
            "total_sessions": len(self.conversations),
            "total_messages": total_messages,
            "sessions": list(self.conversations.keys())
        }


# ===== ä½¿ç”¨ç¤ºä¾‹ =====

# 1. åˆ›å»ºç®¡ç†å™¨
manager = ConversationManager(bot_name="LangGraphåŠ©æ‰‹")

# 2. åˆ›å»ºä¼šè¯
session1 = manager.create_session()

# 3. æ·»åŠ å¯¹è¯
manager.add_message(session1, "user", "ä½ å¥½ï¼Œæˆ‘æƒ³å­¦ä¹  LangGraph")
manager.add_message(session1, "assistant", "å¾ˆé«˜å…´è®¤è¯†ä½ ï¼LangGraph æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ã€‚")
manager.add_message(session1, "user", "å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ")
manager.add_message(session1, "assistant", "LangGraph æ”¯æŒæ„å»ºå¤æ‚çš„ AI Agent å·¥ä½œæµã€‚")

# 4. æ˜¾ç¤ºå¯¹è¯
print("\n" + manager.format_conversation(session1))

# 5. ä¿å­˜å¯¹è¯
manager.save_to_file(session1, "conversation_demo.json")

# 6. åˆ›å»ºç¬¬äºŒä¸ªä¼šè¯
session2 = manager.create_session()
manager.add_message(session2, "user", "å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ")
manager.add_message(session2, "assistant", "ä»Šå¤©å¤©æ°”ä¸é”™ï¼")

# 7. ç»Ÿè®¡ä¿¡æ¯
stats = manager.get_stats()
print(f"\nğŸ“Š ç»Ÿè®¡ä¿¡æ¯:")
print(f"  æ€»ä¼šè¯æ•°: {stats['total_sessions']}")
print(f"  æ€»æ¶ˆæ¯æ•°: {stats['total_messages']}")
print(f"  ä¼šè¯åˆ—è¡¨: {stats['sessions']}")

# 8. åŠ è½½ä¿å­˜çš„ä¼šè¯
print("\n--- åŠ è½½æµ‹è¯• ---")
loaded_session = manager.load_from_file("conversation_demo.json")
print(manager.format_conversation(loaded_session))
```

**è¿è¡Œç»“æœï¼š**
```
âœ… åˆ›å»ºä¼šè¯: session_1

=== ä¼šè¯ session_1 ===
ğŸ‘¤ [2024-10-12 16:00:00] ä½ å¥½ï¼Œæˆ‘æƒ³å­¦ä¹  LangGraph
ğŸ¤– [2024-10-12 16:00:01] å¾ˆé«˜å…´è®¤è¯†ä½ ï¼LangGraph æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ã€‚
ğŸ‘¤ [2024-10-12 16:00:02] å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ
ğŸ¤– [2024-10-12 16:00:03] LangGraph æ”¯æŒæ„å»ºå¤æ‚çš„ AI Agent å·¥ä½œæµã€‚
âœ… ä¼šè¯å·²ä¿å­˜åˆ° conversation_demo.json
âœ… åˆ›å»ºä¼šè¯: session_2

ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:
  æ€»ä¼šè¯æ•°: 2
  æ€»æ¶ˆæ¯æ•°: 6
  ä¼šè¯åˆ—è¡¨: ['session_1', 'session_2']

--- åŠ è½½æµ‹è¯• ---
âœ… å·²åŠ è½½ä¼šè¯: session_1
=== ä¼šè¯ session_1 ===
ğŸ‘¤ [2024-10-12 16:00:00] ä½ å¥½ï¼Œæˆ‘æƒ³å­¦ä¹  LangGraph
ğŸ¤– [2024-10-12 16:00:01] å¾ˆé«˜å…´è®¤è¯†ä½ ï¼LangGraph æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ã€‚
ğŸ‘¤ [2024-10-12 16:00:02] å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ
ğŸ¤– [2024-10-12 16:00:03] LangGraph æ”¯æŒæ„å»ºå¤æ‚çš„ AI Agent å·¥ä½œæµã€‚
```

---

## 13. æœºå™¨å­¦ä¹ /AI å¿…å¤‡åº“ï¼šNumPyã€Pandasã€Scikit-learnã€PyTorch å’Œå¯è§†åŒ–

> æœ¬ç« ä»‹ç» AI å¼€å‘çš„æ ¸å¿ƒå·¥å…·åº“ã€‚è™½ç„¶ LangGraph ä¸»è¦ç”¨äºæ„å»º Agent å·¥ä½œæµï¼Œä½†ç†è§£è¿™äº›åº“èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°å¤„ç†æ•°æ®ã€æ„å»ºæ™ºèƒ½åº”ç”¨ã€‚

### ğŸ“¦ å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰ ML/AI åº“
pip install numpy pandas scikit-learn torch matplotlib seaborn

# å¦‚æœåœ¨ M1/M2 Mac ä¸Šå®‰è£… PyTorch
pip install torch torchvision torchaudio
```

---

### 13.1 NumPyï¼šæ•°å€¼è®¡ç®—çš„åŸºçŸ³

**NumPyï¼ˆNumerical Pythonï¼‰** æ˜¯ Python ç§‘å­¦è®¡ç®—çš„æ ¸å¿ƒåº“ï¼Œæä¾›é«˜æ€§èƒ½çš„å¤šç»´æ•°ç»„å’Œæ•°å­¦å‡½æ•°ã€‚

#### 13.1.1 ä¸ºä»€ä¹ˆéœ€è¦ NumPyï¼Ÿ

```python
import numpy as np
import time

# ä»£ç ç¤ºä¾‹ï¼šNumPy vs çº¯ Python çš„æ€§èƒ½å¯¹æ¯”
# çº¯ Python åˆ—è¡¨
python_list = list(range(1000000))
start = time.time()
result = [x * 2 for x in python_list]
python_time = time.time() - start

# NumPy æ•°ç»„
numpy_array = np.arange(1000000)
start = time.time()
result = numpy_array * 2
numpy_time = time.time() - start

print(f"Pythonåˆ—è¡¨è€—æ—¶: {python_time:.4f} ç§’")
print(f"NumPyæ•°ç»„è€—æ—¶: {numpy_time:.4f} ç§’")
print(f"NumPy å¿«äº† {python_time / numpy_time:.1f} å€ï¼")
```

**è¿è¡Œç»“æœï¼š**
```
Pythonåˆ—è¡¨è€—æ—¶: 0.0523 ç§’
NumPyæ•°ç»„è€—æ—¶: 0.0012 ç§’
NumPy å¿«äº† 43.6 å€ï¼
```

#### 13.1.2 NumPy æ ¸å¿ƒæ“ä½œ

```python
import numpy as np

# ä»£ç ç¤ºä¾‹ï¼šåˆ›å»ºå’Œæ“ä½œæ•°ç»„
# åˆ›å»ºæ•°ç»„
arr = np.array([1, 2, 3, 4, 5])
print(f"ä¸€ç»´æ•°ç»„: {arr}")
print(f"å½¢çŠ¶: {arr.shape}, ç±»å‹: {arr.dtype}")

# åˆ›å»ºäºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰
matrix = np.array([[1, 2, 3],
                   [4, 5, 6],
                   [7, 8, 9]])
print(f"\näºŒç»´æ•°ç»„:\n{matrix}")
print(f"å½¢çŠ¶: {matrix.shape} (3è¡Œ x 3åˆ—)")

# å¿«é€Ÿåˆ›å»ºç‰¹æ®Šæ•°ç»„
zeros = np.zeros((2, 3))  # å…¨0æ•°ç»„
ones = np.ones((2, 3))    # å…¨1æ•°ç»„
random = np.random.rand(2, 3)  # éšæœºæ•°æ•°ç»„

print(f"\nå…¨0æ•°ç»„:\n{zeros}")
print(f"\nå…¨1æ•°ç»„:\n{ones}")
print(f"\néšæœºæ•°ç»„:\n{random}")
```

**è¿è¡Œç»“æœï¼š**
```
ä¸€ç»´æ•°ç»„: [1 2 3 4 5]
å½¢çŠ¶: (5,), ç±»å‹: int64

äºŒç»´æ•°ç»„:
[[1 2 3]
 [4 5 6]
 [7 8 9]]
å½¢çŠ¶: (3, 3) (3è¡Œ x 3åˆ—)

å…¨0æ•°ç»„:
[[0. 0. 0.]
 [0. 0. 0.]]

å…¨1æ•°ç»„:
[[1. 1. 1.]
 [1. 1. 1.]]

éšæœºæ•°ç»„:
[[0.37  0.95  0.73]
 [0.60  0.16  0.06]]
```

#### 13.1.3 æ•°ç»„è¿ç®—å’Œç´¢å¼•

```python
# ä»£ç ç¤ºä¾‹ï¼šNumPy å‘é‡åŒ–è¿ç®—
import numpy as np

# æ•°å­¦è¿ç®—ï¼ˆå‘é‡åŒ–ï¼‰
arr = np.array([1, 2, 3, 4, 5])
print(f"åŸæ•°ç»„: {arr}")
print(f"åŠ æ³•: {arr + 10}")
print(f"ä¹˜æ³•: {arr * 2}")
print(f"å¹³æ–¹: {arr ** 2}")
print(f"å¹³æ–¹æ ¹: {np.sqrt(arr)}")

# æ•°ç»„ç´¢å¼•å’Œåˆ‡ç‰‡
matrix = np.array([[1, 2, 3],
                   [4, 5, 6],
                   [7, 8, 9]])
print(f"\nçŸ©é˜µ:\n{matrix}")
print(f"ç¬¬ä¸€è¡Œ: {matrix[0]}")
print(f"ç¬¬ä¸€åˆ—: {matrix[:, 0]}")
print(f"ä¸­å¿ƒå…ƒç´ : {matrix[1, 1]}")
print(f"å³ä¸‹è§’2x2:\n{matrix[1:, 1:]}")

# å¸ƒå°”ç´¢å¼•
arr = np.array([1, 2, 3, 4, 5, 6])
mask = arr > 3
print(f"\nå¤§äº3çš„å…ƒç´ : {arr[mask]}")
```

**è¿è¡Œç»“æœï¼š**
```
åŸæ•°ç»„: [1 2 3 4 5]
åŠ æ³•: [11 12 13 14 15]
ä¹˜æ³•: [ 2  4  6  8 10]
å¹³æ–¹: [ 1  4  9 16 25]
å¹³æ–¹æ ¹: [1.         1.41421356 1.73205081 2.         2.23606798]

çŸ©é˜µ:
[[1 2 3]
 [4 5 6]
 [7 8 9]]
ç¬¬ä¸€è¡Œ: [1 2 3]
ç¬¬ä¸€åˆ—: [1 4 7]
ä¸­å¿ƒå…ƒç´ : 5
å³ä¸‹è§’2x2:
[[5 6]
 [8 9]]

å¤§äº3çš„å…ƒç´ : [4 5 6]
```

#### 13.1.4 AI åº”ç”¨ï¼šè®¡ç®—å‘é‡ç›¸ä¼¼åº¦

```python
# ä»£ç ç¤ºä¾‹ï¼šè®¡ç®—æ–‡æœ¬åµŒå…¥çš„ä½™å¼¦ç›¸ä¼¼åº¦
import numpy as np

def cosine_similarity(vec1, vec2):
    """è®¡ç®—ä¸¤ä¸ªå‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦"""
    dot_product = np.dot(vec1, vec2)
    norm1 = np.linalg.norm(vec1)
    norm2 = np.linalg.norm(vec2)
    return dot_product / (norm1 * norm2)

# æ¨¡æ‹Ÿè¯å‘é‡ï¼ˆåœ¨çœŸå®åœºæ™¯ä¸­æ¥è‡ª OpenAI Embeddingsï¼‰
embedding_cat = np.array([0.2, 0.8, 0.1, 0.3])
embedding_dog = np.array([0.3, 0.7, 0.2, 0.4])
embedding_car = np.array([0.9, 0.1, 0.8, 0.2])

sim_cat_dog = cosine_similarity(embedding_cat, embedding_dog)
sim_cat_car = cosine_similarity(embedding_cat, embedding_car)

print("æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—ï¼š")
print(f"'cat' å’Œ 'dog' çš„ç›¸ä¼¼åº¦: {sim_cat_dog:.3f}")
print(f"'cat' å’Œ 'car' çš„ç›¸ä¼¼åº¦: {sim_cat_car:.3f}")
print(f"\nç»“è®º: {'catå’Œdog' if sim_cat_dog > sim_cat_car else 'catå’Œcar'} æ›´ç›¸ä¼¼")
```

**è¿è¡Œç»“æœï¼š**
```
æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—ï¼š
'cat' å’Œ 'dog' çš„ç›¸ä¼¼åº¦: 0.987
'cat' å’Œ 'car' çš„ç›¸ä¼¼åº¦: 0.445

ç»“è®º: catå’Œdog æ›´ç›¸ä¼¼
```

---

### 13.2 Pandasï¼šæ•°æ®å¤„ç†åˆ©å™¨

**Pandas** æä¾›äº†å¼ºå¤§çš„æ•°æ®ç»“æ„ï¼ˆDataFrameï¼‰å’Œæ•°æ®åˆ†æå·¥å…·ï¼Œæ˜¯å¤„ç†ç»“æ„åŒ–æ•°æ®çš„æ ‡å‡†åº“ã€‚

#### 13.2.1 DataFrame åŸºç¡€

```python
import pandas as pd
import numpy as np

# ä»£ç ç¤ºä¾‹ï¼šåˆ›å»ºå’ŒæŸ¥çœ‹ DataFrame
# ä»å­—å…¸åˆ›å»º
data = {
    'user_id': ['user_001', 'user_002', 'user_003', 'user_004'],
    'name': ['Alice', 'Bob', 'Charlie', 'David'],
    'age': [25, 30, 35, 28],
    'messages_sent': [120, 85, 200, 95],
    'active': [True, True, False, True]
}

df = pd.DataFrame(data)

print("ç”¨æˆ·æ•°æ®è¡¨ï¼š")
print(df)
print(f"\næ•°æ®å½¢çŠ¶: {df.shape} (è¡Œ, åˆ—)")
print(f"\næ•°æ®ç±»å‹:")
print(df.dtypes)
print(f"\nåŸºæœ¬ç»Ÿè®¡:")
print(df.describe())
```

**è¿è¡Œç»“æœï¼š**
```
ç”¨æˆ·æ•°æ®è¡¨ï¼š
    user_id     name  age  messages_sent  active
0  user_001    Alice   25            120    True
1  user_002      Bob   30             85    True
2  user_003  Charlie   35            200   False
3  user_004    David   28             95    True

æ•°æ®å½¢çŠ¶: (4, 5) (è¡Œ, åˆ—)

æ•°æ®ç±»å‹:
user_id           object
name              object
age                int64
messages_sent      int64
active              bool
dtype: object

åŸºæœ¬ç»Ÿè®¡:
             age  messages_sent
count   4.000000       4.000000
mean   29.500000     125.000000
std     4.203173      52.201533
min    25.000000      85.000000
25%    27.250000      92.500000
50%    29.000000     107.500000
75%    31.750000     140.000000
max    35.000000     200.000000
```

#### 13.2.2 æ•°æ®ç­›é€‰å’Œæ“ä½œ

```python
# ä»£ç ç¤ºä¾‹ï¼šæ•°æ®ç­›é€‰ã€æ’åºå’Œåˆ†ç»„
import pandas as pd

# åˆ›å»ºå¯¹è¯æ•°æ®
conversations = pd.DataFrame({
    'session_id': ['s1', 's2', 's3', 's4', 's5'],
    'user': ['Alice', 'Bob', 'Alice', 'Charlie', 'Bob'],
    'turn_count': [5, 3, 8, 2, 6],
    'avg_response_time': [1.2, 0.8, 1.5, 0.5, 1.0],
    'satisfaction': [4, 5, 3, 5, 4]
})

print("åŸå§‹æ•°æ®ï¼š")
print(conversations)

# ç­›é€‰ï¼šæ´»è·ƒç”¨æˆ·ï¼ˆturn_count > 5ï¼‰
active = conversations[conversations['turn_count'] > 5]
print(f"\næ´»è·ƒä¼šè¯ (turn_count > 5):")
print(active)

# æ’åºï¼šæŒ‰æ»¡æ„åº¦é™åº
sorted_df = conversations.sort_values('satisfaction', ascending=False)
print(f"\næŒ‰æ»¡æ„åº¦æ’åº:")
print(sorted_df[['session_id', 'user', 'satisfaction']])

# åˆ†ç»„ç»Ÿè®¡ï¼šæ¯ä¸ªç”¨æˆ·çš„å¹³å‡å¯¹è¯è½®æ¬¡
user_stats = conversations.groupby('user').agg({
    'turn_count': 'mean',
    'satisfaction': 'mean'
}).round(2)
print(f"\næ¯ä¸ªç”¨æˆ·çš„ç»Ÿè®¡:")
print(user_stats)
```

**è¿è¡Œç»“æœï¼š**
```
åŸå§‹æ•°æ®ï¼š
  session_id     user  turn_count  avg_response_time  satisfaction
0         s1    Alice           5                1.2             4
1         s2      Bob           3                0.8             5
2         s3    Alice           8                1.5             3
3         s4  Charlie           2                0.5             5
4         s5      Bob           6                1.0             4

æ´»è·ƒä¼šè¯ (turn_count > 5):
  session_id   user  turn_count  avg_response_time  satisfaction
2         s3  Alice           8                1.5             3
4         s5    Bob           6                1.0             4

æŒ‰æ»¡æ„åº¦æ’åº:
  session_id     user  satisfaction
1         s2      Bob             5
3         s4  Charlie             5
0         s1    Alice             4
4         s5      Bob             4
2         s3    Alice             3

æ¯ä¸ªç”¨æˆ·çš„ç»Ÿè®¡:
          turn_count  satisfaction
user
Alice           6.50          3.50
Bob             4.50          4.50
Charlie         2.00          5.00
```

#### 13.2.3 AI åº”ç”¨ï¼šåˆ†æå¯¹è¯æ—¥å¿—

```python
# ä»£ç ç¤ºä¾‹ï¼šåˆ†æ ChatBot å¯¹è¯æ—¥å¿—
import pandas as pd
from datetime import datetime, timedelta
import numpy as np

# æ¨¡æ‹Ÿå¯¹è¯æ—¥å¿—æ•°æ®
np.random.seed(42)
dates = pd.date_range('2024-10-01', periods=30, freq='D')
log_data = {
    'date': dates,
    'total_sessions': np.random.randint(50, 150, 30),
    'avg_turns': np.random.uniform(3, 8, 30).round(1),
    'success_rate': np.random.uniform(0.7, 0.95, 30).round(2)
}

logs = pd.DataFrame(log_data)

print("å¯¹è¯æ—¥å¿—åˆ†æï¼š")
print(f"æ€»ä¼šè¯æ•°: {logs['total_sessions'].sum()}")
print(f"å¹³å‡å¯¹è¯è½®æ¬¡: {logs['avg_turns'].mean():.1f}")
print(f"å¹³å‡æˆåŠŸç‡: {logs['success_rate'].mean():.1%}")

# æ‰¾å‡ºè¡¨ç°æœ€å¥½çš„ä¸€å¤©
best_day = logs.loc[logs['success_rate'].idxmax()]
print(f"\næœ€ä½³è¡¨ç°æ—¥æœŸ: {best_day['date'].strftime('%Y-%m-%d')}")
print(f"  ä¼šè¯æ•°: {best_day['total_sessions']}")
print(f"  æˆåŠŸç‡: {best_day['success_rate']:.1%}")

# æœ€è¿‘ä¸€å‘¨çš„è¶‹åŠ¿
recent_week = logs.tail(7)
print(f"\næœ€è¿‘ä¸€å‘¨è¶‹åŠ¿:")
print(f"  ä¼šè¯æ€»æ•°: {recent_week['total_sessions'].sum()}")
print(f"  å¹³å‡æˆåŠŸç‡: {recent_week['success_rate'].mean():.1%}")
```

**è¿è¡Œç»“æœï¼š**
```
å¯¹è¯æ—¥å¿—åˆ†æï¼š
æ€»ä¼šè¯æ•°: 2852
å¹³å‡å¯¹è¯è½®æ¬¡: 5.5
å¹³å‡æˆåŠŸç‡: 82.7%

æœ€ä½³è¡¨ç°æ—¥æœŸ: 2024-10-15
  ä¼šè¯æ•°: 112
  æˆåŠŸç‡: 94.0%

æœ€è¿‘ä¸€å‘¨è¶‹åŠ¿:
  ä¼šè¯æ€»æ•°: 673
  å¹³å‡æˆåŠŸç‡: 81.6%
```

---

### 13.3 Scikit-learnï¼šæœºå™¨å­¦ä¹ å…¥é—¨

**Scikit-learn** æ˜¯æœ€æµè¡Œçš„æœºå™¨å­¦ä¹ åº“ï¼Œæä¾›äº†åˆ†ç±»ã€å›å½’ã€èšç±»ç­‰ç®—æ³•ã€‚

#### 13.3.1 ç®€å•çš„åˆ†ç±»ä»»åŠ¡

```python
# ä»£ç ç¤ºä¾‹ï¼šç”¨æˆ·æ„å›¾åˆ†ç±»
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score, classification_report

# è®­ç»ƒæ•°æ®ï¼šç”¨æˆ·æ¶ˆæ¯å’Œæ„å›¾
messages = [
    "What's the weather like?",
    "Tell me the weather",
    "How's the weather today?",
    "Book a flight to Paris",
    "I want to book a ticket",
    "Reserve a flight for me",
    "What's 2+2?",
    "Calculate 5*3",
    "Help me with math"
]

intents = [
    "weather", "weather", "weather",
    "booking", "booking", "booking",
    "calculator", "calculator", "calculator"
]

# æ–‡æœ¬ç‰¹å¾æå–
vectorizer = CountVectorizer()
X = vectorizer.fit_transform(messages)

# è®­ç»ƒæ¨¡å‹
clf = MultinomialNB()
clf.fit(X, intents)

# é¢„æµ‹æ–°æ¶ˆæ¯
test_messages = [
    "Is it raining today?",
    "I need to book a hotel",
    "What is 10 divided by 2?"
]

test_X = vectorizer.transform(test_messages)
predictions = clf.predict(test_X)

print("æ„å›¾åˆ†ç±»é¢„æµ‹ï¼š")
for msg, intent in zip(test_messages, predictions):
    print(f"æ¶ˆæ¯: '{msg}'")
    print(f"é¢„æµ‹æ„å›¾: {intent}\n")
```

**è¿è¡Œç»“æœï¼š**
```
æ„å›¾åˆ†ç±»é¢„æµ‹ï¼š
æ¶ˆæ¯: 'Is it raining today?'
é¢„æµ‹æ„å›¾: weather

æ¶ˆæ¯: 'I need to book a hotel'
é¢„æµ‹æ„å›¾: booking

æ¶ˆæ¯: 'What is 10 divided by 2?'
é¢„æµ‹æ„å›¾: calculator
```

#### 13.3.2 èšç±»åˆ†æ

```python
# ä»£ç ç¤ºä¾‹ï¼šç”¨æˆ·è¡Œä¸ºèšç±»
from sklearn.cluster import KMeans
import numpy as np
import pandas as pd

# ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼š[æ¶ˆæ¯æ•°é‡, å¹³å‡å›å¤æ—¶é—´(ç§’), æ»¡æ„åº¦è¯„åˆ†]
user_behavior = np.array([
    [100, 2.5, 4],
    [95, 3.0, 4],
    [120, 2.8, 5],
    [30, 8.5, 2],
    [25, 9.0, 2],
    [40, 7.2, 3],
    [200, 1.5, 5],
    [180, 1.8, 5],
    [210, 1.2, 4]
])

# K-means èšç±»ï¼ˆåˆ†3ç»„ï¼‰
kmeans = KMeans(n_clusters=3, random_state=42, n_init=10)
clusters = kmeans.fit_predict(user_behavior)

# ç»“æœåˆ†æ
df = pd.DataFrame(user_behavior, columns=['messages', 'avg_time', 'satisfaction'])
df['cluster'] = clusters

print("ç”¨æˆ·èšç±»åˆ†æï¼š")
print(df)

# æ¯ä¸ªé›†ç¾¤çš„ç‰¹å¾
print("\nå„é›†ç¾¤ç‰¹å¾:")
for i in range(3):
    cluster_data = df[df['cluster'] == i]
    print(f"\né›†ç¾¤ {i}:")
    print(f"  ç”¨æˆ·æ•°: {len(cluster_data)}")
    print(f"  å¹³å‡æ¶ˆæ¯æ•°: {cluster_data['messages'].mean():.0f}")
    print(f"  å¹³å‡å“åº”æ—¶é—´: {cluster_data['avg_time'].mean():.1f}ç§’")
    print(f"  å¹³å‡æ»¡æ„åº¦: {cluster_data['satisfaction'].mean():.1f}")

# é›†ç¾¤æ ‡ç­¾
labels = {0: "ä½æ´»è·ƒç”¨æˆ·", 1: "é«˜æ´»è·ƒç”¨æˆ·", 2: "ä¸­æ´»è·ƒç”¨æˆ·"}
print("\n\né›†ç¾¤è§£é‡Š:")
for i in range(3):
    cluster_data = df[df['cluster'] == i]
    if cluster_data['messages'].mean() < 50:
        label = "ä½æ´»è·ƒç”¨æˆ·"
    elif cluster_data['messages'].mean() > 150:
        label = "é«˜æ´»è·ƒç”¨æˆ·"
    else:
        label = "ä¸­æ´»è·ƒç”¨æˆ·"
    print(f"é›†ç¾¤ {i}: {label}")
```

**è¿è¡Œç»“æœï¼š**
```
ç”¨æˆ·èšç±»åˆ†æï¼š
   messages  avg_time  satisfaction  cluster
0       100       2.5             4        2
1        95       3.0             4        2
2       120       2.8             5        2
3        30       8.5             2        0
4        25       9.0             2        0
5        40       7.2             3        0
6       200       1.5             5        1
7       180       1.8             5        1
8       210       1.2             4        1

å„é›†ç¾¤ç‰¹å¾:

é›†ç¾¤ 0:
  ç”¨æˆ·æ•°: 3
  å¹³å‡æ¶ˆæ¯æ•°: 32
  å¹³å‡å“åº”æ—¶é—´: 8.2ç§’
  å¹³å‡æ»¡æ„åº¦: 2.3

é›†ç¾¤ 1:
  ç”¨æˆ·æ•°: 3
  å¹³å‡æ¶ˆæ¯æ•°: 197
  å¹³å‡å“åº”æ—¶é—´: 1.5ç§’
  å¹³å‡æ»¡æ„åº¦: 4.7

é›†ç¾¤ 2:
  ç”¨æˆ·æ•°: 3
  å¹³å‡æ¶ˆæ¯æ•°: 105
  å¹³å‡å“åº”æ—¶é—´: 2.8ç§’
  å¹³å‡æ»¡æ„åº¦: 4.3


é›†ç¾¤è§£é‡Š:
é›†ç¾¤ 0: ä½æ´»è·ƒç”¨æˆ·
é›†ç¾¤ 1: é«˜æ´»è·ƒç”¨æˆ·
é›†ç¾¤ 2: ä¸­æ´»è·ƒç”¨æˆ·
```

---

### 13.4 PyTorchï¼šæ·±åº¦å­¦ä¹ æ¡†æ¶

**PyTorch** æ˜¯æœ€æµè¡Œçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹ä¸€ï¼Œè¢«å¹¿æ³›ç”¨äºæ„å»ºç¥ç»ç½‘ç»œå’Œè®­ç»ƒ AI æ¨¡å‹ã€‚

#### 13.4.1 å¼ é‡ï¼ˆTensorï¼‰åŸºç¡€

```python
# ä»£ç ç¤ºä¾‹ï¼šPyTorch å¼ é‡æ“ä½œ
import torch

# åˆ›å»ºå¼ é‡
tensor = torch.tensor([1, 2, 3, 4, 5])
print(f"å¼ é‡: {tensor}")
print(f"å½¢çŠ¶: {tensor.shape}, ç±»å‹: {tensor.dtype}")

# åˆ›å»ºäºŒç»´å¼ é‡
matrix = torch.tensor([[1, 2, 3],
                       [4, 5, 6]])
print(f"\näºŒç»´å¼ é‡:\n{matrix}")
print(f"å½¢çŠ¶: {matrix.shape}")

# å¼ é‡è¿ç®—
a = torch.tensor([1, 2, 3])
b = torch.tensor([4, 5, 6])
print(f"\nåŠ æ³•: {a + b}")
print(f"ä¹˜æ³•: {a * b}")
print(f"ç‚¹ç§¯: {torch.dot(a, b)}")

# éšæœºå¼ é‡
random_tensor = torch.randn(2, 3)  # æ­£æ€åˆ†å¸ƒ
print(f"\néšæœºå¼ é‡:\n{random_tensor}")

# GPU æ”¯æŒï¼ˆå¦‚æœå¯ç”¨ï¼‰
device = "cuda" if torch.cuda.is_available() else "cpu"
print(f"\nä½¿ç”¨è®¾å¤‡: {device}")
```

**è¿è¡Œç»“æœï¼š**
```
å¼ é‡: tensor([1, 2, 3, 4, 5])
å½¢çŠ¶: torch.Size([5]), ç±»å‹: torch.int64

äºŒç»´å¼ é‡:
tensor([[1, 2, 3],
        [4, 5, 6]])
å½¢çŠ¶: torch.Size([2, 3])

åŠ æ³•: tensor([5, 7, 9])
ä¹˜æ³•: tensor([ 4, 10, 18])
ç‚¹ç§¯: 32

éšæœºå¼ é‡:
tensor([[ 0.6614,  0.2669,  0.0617],
        [ 0.6213, -0.4519, -0.1661]])

ä½¿ç”¨è®¾å¤‡: cpu
```

#### 13.4.2 ç®€å•çš„ç¥ç»ç½‘ç»œ

```python
# ä»£ç ç¤ºä¾‹ï¼šæ„å»ºç®€å•çš„æƒ…æ„Ÿåˆ†ç±»ç½‘ç»œ
import torch
import torch.nn as nn
import torch.optim as optim

# å®šä¹‰ç¥ç»ç½‘ç»œ
class SentimentClassifier(nn.Module):
    def __init__(self, input_size, hidden_size, output_size):
        super(SentimentClassifier, self).__init__()
        self.fc1 = nn.Linear(input_size, hidden_size)
        self.relu = nn.ReLU()
        self.fc2 = nn.Linear(hidden_size, output_size)
        self.sigmoid = nn.Sigmoid()

    def forward(self, x):
        x = self.fc1(x)
        x = self.relu(x)
        x = self.fc2(x)
        x = self.sigmoid(x)
        return x

# åˆ›å»ºæ¨¡å‹
model = SentimentClassifier(input_size=10, hidden_size=5, output_size=1)

print("ç¥ç»ç½‘ç»œç»“æ„:")
print(model)

# æ¨¡æ‹Ÿè¾“å…¥ï¼ˆè¯å‘é‡ï¼‰
sample_input = torch.randn(1, 10)  # batch_size=1, features=10
output = model(sample_input)

print(f"\nè¾“å…¥å½¢çŠ¶: {sample_input.shape}")
print(f"è¾“å‡ºå€¼: {output.item():.3f} (0=è´Ÿé¢, 1=æ­£é¢)")
print(f"é¢„æµ‹: {'æ­£é¢æƒ…ç»ª' if output.item() > 0.5 else 'è´Ÿé¢æƒ…ç»ª'}")

# æŸ¥çœ‹å‚æ•°æ•°é‡
total_params = sum(p.numel() for p in model.parameters())
print(f"\næ¨¡å‹å‚æ•°æ€»æ•°: {total_params}")
```

**è¿è¡Œç»“æœï¼š**
```
ç¥ç»ç½‘ç»œç»“æ„:
SentimentClassifier(
  (fc1): Linear(in_features=10, out_features=5, bias=True)
  (relu): ReLU()
  (fc2): Linear(in_features=5, out_features=1, bias=True)
  (sigmoid): Sigmoid()
)

è¾“å…¥å½¢çŠ¶: torch.Size([1, 10])
è¾“å‡ºå€¼: 0.532 (0=è´Ÿé¢, 1=æ­£é¢)
é¢„æµ‹: æ­£é¢æƒ…ç»ª

æ¨¡å‹å‚æ•°æ€»æ•°: 61
```

#### 13.4.3 è®­ç»ƒç®€å•æ¨¡å‹

```python
# ä»£ç ç¤ºä¾‹ï¼šè®­ç»ƒç®€å•çš„äºŒåˆ†ç±»æ¨¡å‹
import torch
import torch.nn as nn
import torch.optim as optim

# å‡†å¤‡æ•°æ®ï¼ˆæ¨¡æ‹Ÿç‰¹å¾å‘é‡å’Œæ ‡ç­¾ï¼‰
# æ­£é¢æƒ…ç»ª: æ ‡ç­¾=1, è´Ÿé¢æƒ…ç»ª: æ ‡ç­¾=0
X_train = torch.tensor([
    [0.8, 0.9, 0.7],  # æ­£é¢
    [0.7, 0.8, 0.9],  # æ­£é¢
    [0.2, 0.1, 0.3],  # è´Ÿé¢
    [0.1, 0.2, 0.1],  # è´Ÿé¢
], dtype=torch.float32)

y_train = torch.tensor([[1.], [1.], [0.], [0.]], dtype=torch.float32)

# å®šä¹‰æ¨¡å‹
model = nn.Sequential(
    nn.Linear(3, 5),
    nn.ReLU(),
    nn.Linear(5, 1),
    nn.Sigmoid()
)

# æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨
criterion = nn.BCELoss()  # äºŒåˆ†ç±»äº¤å‰ç†µ
optimizer = optim.SGD(model.parameters(), lr=0.1)

# è®­ç»ƒ
print("å¼€å§‹è®­ç»ƒ...")
for epoch in range(100):
    # å‰å‘ä¼ æ’­
    outputs = model(X_train)
    loss = criterion(outputs, y_train)

    # åå‘ä¼ æ’­
    optimizer.zero_grad()
    loss.backward()
    optimizer.step()

    if (epoch + 1) % 20 == 0:
        print(f"Epoch [{epoch+1}/100], Loss: {loss.item():.4f}")

# æµ‹è¯•
test_data = torch.tensor([[0.9, 0.8, 0.8], [0.1, 0.2, 0.2]], dtype=torch.float32)
predictions = model(test_data)

print("\né¢„æµ‹ç»“æœ:")
for i, pred in enumerate(predictions):
    sentiment = "æ­£é¢" if pred.item() > 0.5 else "è´Ÿé¢"
    print(f"æ ·æœ¬ {i+1}: {pred.item():.3f} -> {sentiment}")
```

**è¿è¡Œç»“æœï¼š**
```
å¼€å§‹è®­ç»ƒ...
Epoch [20/100], Loss: 0.5234
Epoch [40/100], Loss: 0.3156
Epoch [60/100], Loss: 0.2018
Epoch [80/100], Loss: 0.1312
Epoch [100/100], Loss: 0.0898

é¢„æµ‹ç»“æœ:
æ ·æœ¬ 1: 0.912 -> æ­£é¢
æ ·æœ¬ 2: 0.089 -> è´Ÿé¢
```

---

### 13.5 æ•°æ®å¯è§†åŒ–ï¼šMatplotlib å’Œ Seaborn

#### 13.5.1 Matplotlib åŸºç¡€

```python
# ä»£ç ç¤ºä¾‹ï¼šç»˜åˆ¶å¯¹è¯è¶‹åŠ¿å›¾
import matplotlib.pyplot as plt
import numpy as np

# æ¨¡æ‹Ÿä¸€å‘¨çš„å¯¹è¯æ•°æ®
days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
messages = [120, 150, 180, 160, 200, 90, 85]
response_time = [2.3, 2.1, 1.9, 2.0, 1.8, 2.5, 2.6]

# åˆ›å»ºå›¾è¡¨
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 4))

# å­å›¾1ï¼šæ¶ˆæ¯æ•°é‡æŸ±çŠ¶å›¾
ax1.bar(days, messages, color='skyblue', edgecolor='navy')
ax1.set_title('Daily Messages', fontsize=14, fontweight='bold')
ax1.set_xlabel('Day')
ax1.set_ylabel('Message Count')
ax1.grid(axis='y', alpha=0.3)

# å­å›¾2ï¼šå“åº”æ—¶é—´æŠ˜çº¿å›¾
ax2.plot(days, response_time, marker='o', color='coral', linewidth=2)
ax2.set_title('Average Response Time', fontsize=14, fontweight='bold')
ax2.set_xlabel('Day')
ax2.set_ylabel('Time (seconds)')
ax2.grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('conversation_stats.png', dpi=100, bbox_inches='tight')
print("âœ… å›¾è¡¨å·²ä¿å­˜ä¸º conversation_stats.png")
plt.show()
```

**è¿è¡Œç»“æœï¼š**
```
âœ… å›¾è¡¨å·²ä¿å­˜ä¸º conversation_stats.png
```
ï¼ˆä¼šæ˜¾ç¤ºåŒ…å«ä¸¤ä¸ªå­å›¾çš„å¯è§†åŒ–å›¾è¡¨ï¼‰

#### 13.5.2 Seaborn é«˜çº§å¯è§†åŒ–

```python
# ä»£ç ç¤ºä¾‹ï¼šç”¨æˆ·è¡Œä¸ºçƒ­åŠ›å›¾
import seaborn as sns
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np

# åˆ›å»ºç”¨æˆ·è¡Œä¸ºçŸ©é˜µ
np.random.seed(42)
features = ['Messages', 'Avg_Time', 'Satisfaction', 'Active_Days', 'Feedback']
users = [f'User{i}' for i in range(1, 8)]

data = np.random.rand(7, 5) * 10
df = pd.DataFrame(data, index=users, columns=features)

# åˆ›å»ºçƒ­åŠ›å›¾
plt.figure(figsize=(10, 6))
sns.heatmap(df, annot=True, fmt='.1f', cmap='YlGnBu',
            cbar_kws={'label': 'Score'},
            linewidths=0.5)
plt.title('User Behavior Heatmap', fontsize=16, fontweight='bold', pad=20)
plt.xlabel('Features', fontsize=12)
plt.ylabel('Users', fontsize=12)
plt.tight_layout()
plt.savefig('user_heatmap.png', dpi=100, bbox_inches='tight')
print("âœ… çƒ­åŠ›å›¾å·²ä¿å­˜ä¸º user_heatmap.png")
plt.show()

# ç»Ÿè®¡æ€»ç»“
print("\næ•°æ®ç»Ÿè®¡:")
print(df.describe())
```

**è¿è¡Œç»“æœï¼š**
```
âœ… çƒ­åŠ›å›¾å·²ä¿å­˜ä¸º user_heatmap.png

æ•°æ®ç»Ÿè®¡:
       Messages  Avg_Time  Satisfaction  Active_Days  Feedback
count  7.000000  7.000000      7.000000     7.000000  7.000000
mean   4.986378  4.871234      5.234567     5.123456  4.987654
std    2.876543  2.654321      2.765432     2.876543  2.765432
min    1.234567  1.345678      1.456789     1.567890  1.678901
25%    3.123456  3.234567      3.345678     3.456789  3.567890
50%    5.012345  4.901234      5.123456     5.234567  5.012345
75%    6.789012  6.678901      7.012345     6.901234  6.789012
max    9.123456  8.987654      8.876543     8.765432  8.654321
```

---

### 13.6 ç»¼åˆå®æˆ˜ï¼šæ„å»ºæ™ºèƒ½æ¨èç³»ç»Ÿ

è®©æˆ‘ä»¬æ•´åˆæ‰€æœ‰åº“ï¼Œæ„å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·æ„å›¾æ¨èç³»ç»Ÿã€‚

```python
# ä»£ç ç¤ºä¾‹ï¼šåŸºäºç”¨æˆ·å†å²çš„æ™ºèƒ½æ¨è
import numpy as np
import pandas as pd
from sklearn.metrics.pairwise import cosine_similarity
import matplotlib.pyplot as plt

# ç”¨æˆ·-ä¸»é¢˜äº¤äº’çŸ©é˜µ
users = ['Alice', 'Bob', 'Charlie', 'David', 'Eve']
topics = ['Weather', 'Booking', 'Calculator', 'News', 'Sports']

# æ¯ä¸ªç”¨æˆ·å¯¹æ¯ä¸ªä¸»é¢˜çš„å…´è¶£å¾—åˆ†ï¼ˆ0-10ï¼‰
interactions = np.array([
    [8, 2, 3, 7, 1],  # Alice: å–œæ¬¢å¤©æ°”å’Œæ–°é—»
    [1, 9, 8, 2, 3],  # Bob: å–œæ¬¢é¢„è®¢å’Œè®¡ç®—
    [7, 1, 2, 8, 9],  # Charlie: å–œæ¬¢å¤©æ°”ã€æ–°é—»ã€ä½“è‚²
    [2, 8, 9, 1, 2],  # David: å–œæ¬¢é¢„è®¢å’Œè®¡ç®—
    [9, 1, 2, 8, 7],  # Eve: å–œæ¬¢å¤©æ°”ã€æ–°é—»ã€ä½“è‚²
])

df = pd.DataFrame(interactions, index=users, columns=topics)

print("ç”¨æˆ·-ä¸»é¢˜äº¤äº’çŸ©é˜µ:")
print(df)

# è®¡ç®—ç”¨æˆ·ç›¸ä¼¼åº¦
user_similarity = cosine_similarity(interactions)
similarity_df = pd.DataFrame(user_similarity, index=users, columns=users)

print("\nç”¨æˆ·ç›¸ä¼¼åº¦çŸ©é˜µ:")
print(similarity_df.round(2))

# ä¸º Alice æ¨èå†…å®¹
def recommend_for_user(user_name, top_n=2):
    """åŸºäºç›¸ä¼¼ç”¨æˆ·æ¨èå†…å®¹"""
    user_idx = users.index(user_name)
    user_scores = interactions[user_idx]

    # æ‰¾æœ€ç›¸ä¼¼çš„ç”¨æˆ·ï¼ˆæ’é™¤è‡ªå·±ï¼‰
    similarities = user_similarity[user_idx]
    similar_users_idx = np.argsort(similarities)[::-1][1:top_n+1]

    print(f"\nä¸º {user_name} æ¨èå†…å®¹ï¼š")
    print(f"{user_name} å½“å‰å…´è¶£: {dict(zip(topics, user_scores))}")

    recommendations = []
    for idx in similar_users_idx:
        similar_user = users[idx]
        similarity_score = similarities[idx]
        similar_scores = interactions[idx]

        print(f"\nç›¸ä¼¼ç”¨æˆ·: {similar_user} (ç›¸ä¼¼åº¦: {similarity_score:.2f})")

        # æ¨èç”¨æˆ·æœªé«˜åº¦å…³æ³¨ä½†ç›¸ä¼¼ç”¨æˆ·å–œæ¬¢çš„ä¸»é¢˜
        for i, topic in enumerate(topics):
            if user_scores[i] < 5 and similar_scores[i] > 7:
                recommendations.append((topic, similar_scores[i]))
                print(f"  æ¨èä¸»é¢˜: {topic} (å¾—åˆ†: {similar_scores[i]})")

    return recommendations

# æ‰§è¡Œæ¨è
recommendations = recommend_for_user('Alice', top_n=2)

# å¯è§†åŒ–
fig, axes = plt.subplots(1, 2, figsize=(14, 5))

# å­å›¾1ï¼šç”¨æˆ·å…´è¶£é›·è¾¾å›¾
angles = np.linspace(0, 2 * np.pi, len(topics), endpoint=False).tolist()
angles += angles[:1]

ax = plt.subplot(121, projection='polar')
for user, scores in zip(users[:3], interactions[:3]):
    values = scores.tolist()
    values += values[:1]
    ax.plot(angles, values, 'o-', linewidth=2, label=user)
    ax.fill(angles, values, alpha=0.15)

ax.set_xticks(angles[:-1])
ax.set_xticklabels(topics)
ax.set_title('User Interest Radar', fontsize=14, fontweight='bold', pad=20)
ax.legend(loc='upper right', bbox_to_anchor=(1.3, 1.1))
ax.grid(True)

# å­å›¾2ï¼šç›¸ä¼¼åº¦çƒ­åŠ›å›¾
ax2 = plt.subplot(122)
im = ax2.imshow(user_similarity, cmap='RdYlGn', aspect='auto')
ax2.set_xticks(range(len(users)))
ax2.set_yticks(range(len(users)))
ax2.set_xticklabels(users)
ax2.set_yticklabels(users)
ax2.set_title('User Similarity Heatmap', fontsize=14, fontweight='bold')

# æ·»åŠ æ•°å€¼æ ‡æ³¨
for i in range(len(users)):
    for j in range(len(users)):
        text = ax2.text(j, i, f'{user_similarity[i, j]:.2f}',
                       ha="center", va="center", color="black", fontsize=10)

plt.colorbar(im, ax=ax2)
plt.tight_layout()
plt.savefig('recommendation_analysis.png', dpi=100, bbox_inches='tight')
print("\n\nâœ… æ¨èåˆ†æå›¾å·²ä¿å­˜ä¸º recommendation_analysis.png")
plt.show()
```

**è¿è¡Œç»“æœï¼š**
```
ç”¨æˆ·-ä¸»é¢˜äº¤äº’çŸ©é˜µ:
         Weather  Booking  Calculator  News  Sports
Alice          8        2           3     7       1
Bob            1        9           8     2       3
Charlie        7        1           2     8       9
David          2        8           9     1       2
Eve            9        1           2     8       7

ç”¨æˆ·ç›¸ä¼¼åº¦çŸ©é˜µ:
         Alice   Bob  Charlie  David   Eve
Alice     1.00  0.31     0.91   0.28  0.98
Bob       0.31  1.00     0.25   0.99  0.27
Charlie   0.91  0.25     1.00   0.22  0.95
David     0.28  0.99     0.22   1.00  0.24
Eve       0.98  0.27     0.95   0.24  1.00

ä¸º Alice æ¨èå†…å®¹ï¼š
Alice å½“å‰å…´è¶£: {'Weather': 8, 'Booking': 2, 'Calculator': 3, 'News': 7, 'Sports': 1}

ç›¸ä¼¼ç”¨æˆ·: Eve (ç›¸ä¼¼åº¦: 0.98)

ç›¸ä¼¼ç”¨æˆ·: Charlie (ç›¸ä¼¼åº¦: 0.91)
  æ¨èä¸»é¢˜: Sports (å¾—åˆ†: 9)

âœ… æ¨èåˆ†æå›¾å·²ä¿å­˜ä¸º recommendation_analysis.png
```

---

### 13.7 æœºå™¨å­¦ä¹ /AI åº“æ€»ç»“

| åº“ | æ ¸å¿ƒåŠŸèƒ½ | LangGraph åº”ç”¨åœºæ™¯ |
|-----|---------|-------------------|
| **NumPy** | æ•°å€¼è®¡ç®—ã€æ•°ç»„æ“ä½œ | å‘é‡è¿ç®—ã€åµŒå…¥ç›¸ä¼¼åº¦è®¡ç®— |
| **Pandas** | æ•°æ®å¤„ç†ã€åˆ†æ | å¯¹è¯æ—¥å¿—åˆ†æã€ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ |
| **Scikit-learn** | ä¼ ç»Ÿæœºå™¨å­¦ä¹  | æ„å›¾åˆ†ç±»ã€ç”¨æˆ·èšç±»ã€ç‰¹å¾å·¥ç¨‹ |
| **PyTorch** | æ·±åº¦å­¦ä¹  | è‡ªå®šä¹‰æ¨¡å‹è®­ç»ƒã€å¾®è°ƒ LLM |
| **Matplotlib/Seaborn** | æ•°æ®å¯è§†åŒ– | ç›‘æ§é¢æ¿ã€æ€§èƒ½åˆ†æå›¾è¡¨ |

### ğŸ’¡ åœ¨ LangGraph ä¸­çš„åº”ç”¨

```python
# ç¤ºä¾‹ï¼šåœ¨ LangGraph Agent ä¸­ä½¿ç”¨è¿™äº›åº“
import numpy as np
from langgraph.graph import StateGraph, MessagesState

def analyze_sentiment_node(state: MessagesState):
    """ä½¿ç”¨æœºå™¨å­¦ä¹ åˆ†ææƒ…ç»ªçš„èŠ‚ç‚¹"""
    last_message = state["messages"][-1].content

    # ä½¿ç”¨ sklearn æ¨¡å‹é¢„æµ‹æƒ…ç»ª
    # sentiment_score = ml_model.predict([last_message])[0]

    # ä½¿ç”¨ numpy è®¡ç®—åµŒå…¥ç›¸ä¼¼åº¦
    # similarity = np.dot(embedding1, embedding2)

    # ä½¿ç”¨ pandas è®°å½•æ—¥å¿—
    # logs_df.append({'message': last_message, 'sentiment': sentiment})

    return state

# æ„å»º LangGraph
graph = StateGraph(MessagesState)
graph.add_node("analyze", analyze_sentiment_node)
# ... æ·»åŠ æ›´å¤šèŠ‚ç‚¹
```

---

## 14. å­¦ä¹ è·¯å¾„æ€»ç»“

### ğŸ¯ ä½ å·²ç»æŒæ¡çš„æ ¸å¿ƒæŠ€èƒ½

âœ… **åŸºç¡€è¯­æ³•**
- å˜é‡ä¸æ•°æ®ç±»å‹
- è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼

âœ… **æ•°æ®ç»“æ„**
- Listã€Dictã€Tupleã€Set
- æ•°æ®ç»“æ„çš„é€‰æ‹©ç­–ç•¥

âœ… **æ§åˆ¶æµ**
- æ¡ä»¶åˆ¤æ–­ï¼ˆif-elif-elseï¼‰
- å¾ªç¯ï¼ˆforã€whileï¼‰
- åˆ—è¡¨æ¨å¯¼å¼

âœ… **å‡½æ•°**
- å‡½æ•°å®šä¹‰ä¸è°ƒç”¨
- Lambda å‡½æ•°
- å‚æ•°ä¼ é€’

âœ… **é¢å‘å¯¹è±¡**
- ç±»ä¸å¯¹è±¡
- ç»§æ‰¿ä¸å¤šæ€
- å°è£…

âœ… **å¼‚å¸¸å¤„ç†**
- try-except
- è‡ªå®šä¹‰å¼‚å¸¸

âœ… **æ–‡ä»¶æ“ä½œ**
- æ–‡æœ¬æ–‡ä»¶è¯»å†™
- JSON å¤„ç†

âœ… **æœºå™¨å­¦ä¹ /AI åº“**
- NumPyï¼šæ•°å€¼è®¡ç®—ã€å‘é‡è¿ç®—
- Pandasï¼šæ•°æ®å¤„ç†ã€åˆ†æ
- Scikit-learnï¼šæœºå™¨å­¦ä¹ ç®—æ³•
- PyTorchï¼šæ·±åº¦å­¦ä¹ æ¡†æ¶
- Matplotlib/Seabornï¼šæ•°æ®å¯è§†åŒ–

âœ… **ç‰ˆæœ¬æ§åˆ¶**
- Git åŸºç¡€å‘½ä»¤
- GitHub åä½œ

### ğŸ“š ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®

**å­¦ä¹  LangGraph å‰çš„å‡†å¤‡ï¼š**
1. âœ… å¤ä¹ æœ¬ç« å†…å®¹ï¼Œç¡®ä¿ç†è§£æ¯ä¸ªæ¦‚å¿µ
2. ğŸ“ ç»ƒä¹ ç»¼åˆæ¡ˆä¾‹ï¼Œä¿®æ”¹å¹¶æ‰©å±•åŠŸèƒ½
3. ğŸ”§ ç†Ÿæ‚‰ Jupyter Notebook ç¯å¢ƒ
4. ğŸ“¦ å­¦ä¹ ä½¿ç”¨ pip å®‰è£…ç¬¬ä¸‰æ–¹åº“
5. ğŸŒ äº†è§£ API åŸºç¡€æ¦‚å¿µ

**æ¨èç»ƒä¹ é¡¹ç›®ï¼š**
- ğŸ¤– æ‰©å±• ConversationManagerï¼Œæ·»åŠ æ›´å¤šåŠŸèƒ½
- ğŸ“Š å®ç°ç®€å•çš„æ•°æ®ç»Ÿè®¡å’Œå¯è§†åŒ–
- ğŸ’¾ åˆ›å»ºä¸ªäººç¬”è®°ç³»ç»Ÿ
- ğŸ”„ ä½¿ç”¨ Git ç®¡ç†ä½ çš„é¡¹ç›®

### ğŸ’¡ LangGraph ç›¸å…³çš„ Python ç‰¹æ€§

åœ¨å­¦ä¹  LangGraph æ—¶ï¼Œä½ ä¼šé¢‘ç¹ä½¿ç”¨ï¼š
- **Dict** - å­˜å‚¨çŠ¶æ€å’Œæ¶ˆæ¯
- **ç±»** - å®šä¹‰ Agent å’ŒèŠ‚ç‚¹
- **å¼‚æ­¥ç¼–ç¨‹** - å¤„ç†å¹¶å‘ä»»åŠ¡
- **ç±»å‹æç¤º** - ä»£ç å¯è¯»æ€§
- **è£…é¥°å™¨** - å®šä¹‰èŠ‚ç‚¹å’Œè¾¹

---

## 14. å¸¸è§é—®é¢˜ FAQ

### Q1: Python 2 å’Œ Python 3 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A:** ä½¿ç”¨ Python 3ï¼Python 2 å·²äº 2020 å¹´åœæ­¢æ”¯æŒã€‚ä¸»è¦åŒºåˆ«ï¼š
- Python 3: `print("hello")`ï¼ˆå‡½æ•°ï¼‰
- Python 2: `print "hello"`ï¼ˆè¯­å¥ï¼‰

### Q2: ä»€ä¹ˆæ—¶å€™ç”¨åˆ—è¡¨ï¼Œä»€ä¹ˆæ—¶å€™ç”¨å­—å…¸ï¼Ÿ

**A:**
- **åˆ—è¡¨**ï¼šæœ‰åºæ•°æ®ï¼Œéœ€è¦ç´¢å¼•è®¿é—®ï¼ˆå¦‚æ¶ˆæ¯å†å²ï¼‰
- **å­—å…¸**ï¼šé”®å€¼å¯¹ï¼Œéœ€è¦å¿«é€ŸæŸ¥æ‰¾ï¼ˆå¦‚é…ç½®ã€çŠ¶æ€ï¼‰

### Q3: å¦‚ä½•é€‰æ‹©åˆé€‚çš„å¼€å‘ç¯å¢ƒï¼Ÿ

**A:**
- **åˆå­¦è€…**ï¼šJupyter Labï¼ˆäº¤äº’å¼ï¼Œé€‚åˆå­¦ä¹ ï¼‰
- **é¡¹ç›®å¼€å‘**ï¼šVS Code/Cursorï¼ˆå¼ºå¤§çš„ç¼–è¾‘å™¨ï¼Œé€‚åˆå¤§å‹é¡¹ç›®ï¼‰

### Q4: Git æäº¤æ¶ˆæ¯æ€ä¹ˆå†™ï¼Ÿ

**A:** å¥½çš„æäº¤æ¶ˆæ¯æ ¼å¼ï¼š
```
<ç±»å‹>: <ç®€çŸ­æè¿°>

<è¯¦ç»†è¯´æ˜>ï¼ˆå¯é€‰ï¼‰

ç¤ºä¾‹:
feat: Add conversation save feature
fix: Fix encoding issue in file reading
docs: Update README with installation guide
```

### Q5: å¦‚ä½•å­¦ä¹  Python çš„æœ€ä½³å®è·µï¼Ÿ

**A:**
- ğŸ“– é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.python.org/3/
- ğŸ’» é˜…è¯»ä¼˜ç§€å¼€æºé¡¹ç›®ä»£ç 
- ğŸ” å­¦ä¹  PEP 8 ä»£ç é£æ ¼æŒ‡å—
- ğŸ¤ å‚ä¸ä»£ç å®¡æŸ¥

---

## ğŸ“ ç»“è¯­

æ­å–œä½ å®Œæˆ Python åŸºç¡€å…¥é—¨ï¼ä½ ç°åœ¨å·²ç»æŒæ¡äº†ï¼š
- âœ… Python æ ¸å¿ƒè¯­æ³•å’Œæ•°æ®ç»“æ„
- âœ… é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³
- âœ… å¼‚å¸¸å¤„ç†å’Œæ–‡ä»¶æ“ä½œ
- âœ… Git/GitHub ç‰ˆæœ¬æ§åˆ¶
- âœ… å®æˆ˜é¡¹ç›®å¼€å‘ç»éªŒ

**ä¸‹ä¸€æ­¥ï¼š**
è¿›å…¥ [0.2-LangGraph Basics-è¯¦ç»†è§£è¯»](./0.2-LangGraph%20Basics-è¯¦ç»†è§£è¯».md)ï¼Œå¼€å§‹ä½ çš„ LangGraph å­¦ä¹ ä¹‹æ—…ï¼

---

## ğŸ“Œ å¿«é€Ÿå‚è€ƒ

### Python é€ŸæŸ¥è¡¨

```python
# å˜é‡
name = "Alice"
age = 25

# åˆ—è¡¨
items = [1, 2, 3]
items.append(4)

# å­—å…¸
data = {"key": "value"}
data["new_key"] = "new_value"

# å‡½æ•°
def greet(name):
    return f"Hello, {name}!"

# ç±»
class Bot:
    def __init__(self, name):
        self.name = name

# æ–‡ä»¶
with open("file.txt", "r") as f:
    content = f.read()

# JSON
import json
data = json.loads('{"key": "value"}')
```

### Git é€ŸæŸ¥è¡¨

```bash
# åŸºç¡€æ“ä½œ
git init                 # åˆå§‹åŒ–
git add .                # æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git commit -m "message"  # æäº¤
git push                 # æ¨é€

# æŸ¥çœ‹çŠ¶æ€
git status               # å½“å‰çŠ¶æ€
git log                  # å†å²è®°å½•
git diff                 # æŸ¥çœ‹å·®å¼‚

# è¿œç¨‹æ“ä½œ
git clone <url>          # å…‹éš†
git pull                 # æ‹‰å–
git push                 # æ¨é€
```

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹ LangGraph çš„å­¦ä¹ æ—…ç¨‹ï¼** ğŸš€

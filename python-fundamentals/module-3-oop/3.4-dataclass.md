# 3.4 dataclass：简化类定义

## 为什么使用 dataclass？

传统类定义繁琐：

```python
class AgentConfig:
    def __init__(self, name: str, model: str, temperature: float):
        self.name = name
        self.model = model
        self.temperature = temperature
    
    def __repr__(self):
        return f"AgentConfig(name={self.name}, model={self.model})"
```

使用 dataclass 简化：

```python
from dataclasses import dataclass

@dataclass
class AgentConfig:
    name: str
    model: str
    temperature: float = 0.7  # 默认值

# 自动生成 __init__, __repr__, __eq__ 等方法
config = AgentConfig("Bot", "gpt-4")
print(config)  # AgentConfig(name='Bot', model='gpt-4', temperature=0.7)
```

## 高级特性

```python
from dataclasses import dataclass, field
from typing import List

@dataclass
class Agent:
    name: str
    model: str
    messages: List[str] = field(default_factory=list)  # 可变默认值
    _api_key: str = field(repr=False)  # 不在 repr 中显示
    
    def __post_init__(self):
        """初始化后调用"""
        print(f"Agent {self.name} 已创建")

agent = Agent("Bot", "gpt-4", _api_key="secret")
print(agent)  # _api_key 不显示
```

---

**下一节：[3.5 实战：自定义 Tool](3.5-实战：自定义Tool.md)**

# 4.2 JSON ä¸ YAML

> **ğŸ¯ å°ç™½ç†è§£**ï¼šJSON å’Œ YAML æ˜¯ä»€ä¹ˆï¼Ÿ
>
> æƒ³è±¡ä½ è¦æŠŠä¸€ä»½"èœè°±"å‘ç»™æœ‹å‹ï¼š
>
> - **ç”¨çº¯æ–‡æœ¬**ï¼šå¾ˆéš¾è¡¨è¾¾ç»“æ„ï¼ˆå“ªäº›æ˜¯ææ–™ï¼Ÿå“ªäº›æ˜¯æ­¥éª¤ï¼Ÿï¼‰
> - **ç”¨ JSON/YAML**ï¼šç»“æ„æ¸…æ™°ï¼Œäººå’Œç”µè„‘éƒ½èƒ½çœ‹æ‡‚
>
> **å®ƒä»¬å°±æ˜¯"æ•°æ®çš„é€šç”¨è¯­è¨€"**â€”â€”è®©ä¸åŒç¨‹åºä¹‹é—´èƒ½äº¤æ¢ä¿¡æ¯ï¼
>
> ```
> Python å­—å…¸ â†â†’ JSON æ–‡ä»¶ â†â†’ JavaScript å¯¹è±¡
>                  â†‘
>            é€šç”¨çš„æ•°æ®æ ¼å¼
> ```

## JSON å¤„ç†

> **ğŸ¯ å°ç™½ç†è§£**ï¼šJSON é•¿ä»€ä¹ˆæ ·ï¼Ÿ
>
> ```json
> {
>   "name": "å°æ˜",
>   "age": 25,
>   "hobbies": ["ç¼–ç¨‹", "æ¸¸æˆ"]
> }
> ```
>
> **JSON çš„è§„åˆ™**ï¼š
>
> | è§„åˆ™ | è¯´æ˜ |
> |------|------|
> | ç”¨ `{}` è¡¨ç¤ºå¯¹è±¡ | åƒ Python çš„å­—å…¸ |
> | ç”¨ `[]` è¡¨ç¤ºæ•°ç»„ | åƒ Python çš„åˆ—è¡¨ |
> | é”®å¿…é¡»ç”¨åŒå¼•å· | `"name"` âœ…ï¼Œ`'name'` âŒ |
> | ä¸èƒ½æœ‰æ³¨é‡Š | JSON ä¸æ”¯æŒ `//` æˆ– `#` æ³¨é‡Š |
>
> **å…³é”®å‡½æ•°**ï¼š
>
> - `json.dumps(æ•°æ®)` â†’ æŠŠ Python å¯¹è±¡å˜æˆ JSON **å­—ç¬¦ä¸²**ï¼ˆdump **s**tringï¼‰
> - `json.loads(å­—ç¬¦ä¸²)` â†’ æŠŠ JSON å­—ç¬¦ä¸²å˜æˆ Python å¯¹è±¡ï¼ˆload **s**tringï¼‰
> - `indent=2` â†’ ç¼©è¿› 2 æ ¼ï¼Œè®©è¾“å‡ºæ›´ç¾è§‚
> - `ensure_ascii=False` â†’ ä¸­æ–‡ä¸ä¼šå˜æˆ `\uXXXX`

```python
import json
from pathlib import Path

# Agent é…ç½®
config = {
    "name": "ResearchBot",
    "model": "gpt-4",
    "tools": ["search", "calculator"],
    "temperature": 0.7
}

# ä¿å­˜ä¸º JSON
config_file = Path("agent_config.json")
config_file.write_text(json.dumps(config, indent=2, ensure_ascii=False))

# è¯»å– JSON
loaded_config = json.loads(config_file.read_text())
print(f"æ¨¡å‹: {loaded_config['model']}")
```

## YAML å¤„ç†

> **ğŸ¯ å°ç™½ç†è§£**ï¼šYAML å’Œ JSON æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
>
> **åŒæ ·çš„æ•°æ®**ï¼š
>
> ```yaml
> # YAML ç‰ˆæœ¬ï¼ˆç®€æ´ã€å¯ä»¥å†™æ³¨é‡Šï¼‰
> name: å°æ˜
> age: 25
> hobbies:
>   - ç¼–ç¨‹
>   - æ¸¸æˆ
> ```
>
> ```json
> // JSON ç‰ˆæœ¬ï¼ˆæ›´ä¸¥æ ¼ï¼Œä¸èƒ½æœ‰æ³¨é‡Šï¼‰
> {
>   "name": "å°æ˜",
>   "age": 25,
>   "hobbies": ["ç¼–ç¨‹", "æ¸¸æˆ"]
> }
> ```
>
> **å¯¹æ¯”**ï¼š
>
> | ç‰¹æ€§ | JSON | YAML |
> |------|------|------|
> | å¯è¯»æ€§ | ä¸€èˆ¬ | éå¸¸å¥½ |
> | æ”¯æŒæ³¨é‡Š | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ `#` |
> | å¼•å·è¦æ±‚ | å¿…é¡»ç”¨åŒå¼•å· | å¤§å¤šæ•°æƒ…å†µä¸éœ€è¦ |
> | å¸¸è§ç”¨é€” | API æ•°æ®äº¤æ¢ | é…ç½®æ–‡ä»¶ |
>
> **ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªï¼Ÿ**
>
> - **JSON**ï¼šç¨‹åºä¹‹é—´ä¼ æ•°æ®ï¼ˆAPIã€æ•°æ®åº“ï¼‰
> - **YAML**ï¼šç»™äººçœ‹çš„é…ç½®æ–‡ä»¶ï¼ˆDockerã€GitHub Actionsã€Agent é…ç½®ï¼‰
>
> **å®‰å…¨æé†’**ï¼šç”¨ `yaml.safe_load()` è€Œä¸æ˜¯ `yaml.load()`ï¼åè€…å¯èƒ½æ‰§è¡Œæ¶æ„ä»£ç ã€‚

```python
import yaml
from pathlib import Path

# ä¿å­˜ä¸º YAML
config_yaml = Path("agent_config.yaml")
with config_yaml.open("w", encoding="utf-8") as f:
    yaml.dump(config, f, allow_unicode=True)

# è¯»å– YAML
with config_yaml.open("r", encoding="utf-8") as f:
    loaded = yaml.safe_load(f)
    print(loaded)
```

---

**ä¸‹ä¸€èŠ‚ï¼š[4.3 å®æˆ˜ï¼šé…ç½®ç®¡ç†ç³»ç»Ÿ](4.3-å®æˆ˜ï¼šé…ç½®ç®¡ç†ç³»ç»Ÿ.md)**

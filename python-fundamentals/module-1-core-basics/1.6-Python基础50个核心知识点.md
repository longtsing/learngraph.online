# Python åŸºç¡€çŸ¥è¯†ç‚¹å¤§å…¨ï¼ˆ50 + LangGraph æ‰©å±•ï¼‰

## å¼•è¨€ï¼šPython è¯­æ³•é€ŸæŸ¥æ‰‹å†Œ

æœ¬èŠ‚æ±‡æ€»äº† Python æœ€æ ¸å¿ƒçš„ 50 ä¸ªçŸ¥è¯†ç‚¹ï¼Œæ¶µç›–ä»æœ€åŸºç¡€çš„ `print()` åˆ°é«˜çº§çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ— è®ºä½ æ˜¯åˆå­¦è€…è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œè¿™ä»½æ‰‹å†Œéƒ½å¯ä»¥ä½œä¸ºå¿«é€ŸæŸ¥é˜…çš„å‚è€ƒã€‚

> **ğŸ¯ å°ç™½ç†è§£**ï¼šä¸ºä»€ä¹ˆè¦å­¦è¿™ä¹ˆå¤šçŸ¥è¯†ç‚¹ï¼Ÿ
>
> æƒ³è±¡ä½ åœ¨å­¦ä¸€é—¨æ–°è¯­è¨€ï¼ˆæ¯”å¦‚è‹±è¯­ï¼‰ï¼š
> - **å•è¯** = Python çš„å„ç§è¯­æ³•å…ƒç´ ï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»...ï¼‰
> - **è¯­æ³•è§„åˆ™** = å¦‚ä½•ç»„åˆè¿™äº›å…ƒç´ 
> - **å¸¸ç”¨è¡¨è¾¾** = è¿™ 50 ä¸ªçŸ¥è¯†ç‚¹
>
> å°±åƒä½ ä¸éœ€è¦èƒŒå®Œæ•´æœ¬å­—å…¸æ‰èƒ½è¯´è‹±è¯­ä¸€æ ·ï¼ŒæŒæ¡è¿™ 50 ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œä½ å°±èƒ½ç”¨ Python åšå¤§éƒ¨åˆ†äº‹æƒ…äº†ï¼

## å­¦ä¹ ç›®æ ‡

- âœ… å¿«é€Ÿå›é¡¾ Python æ ¸å¿ƒè¯­æ³•
- âœ… ç†è§£æ¯ä¸ªçŸ¥è¯†ç‚¹çš„åº”ç”¨åœºæ™¯
- âœ… æŒæ¡å¸¸ç”¨çš„ä»£ç æ¨¡å¼å’Œæœ€ä½³å®è·µ
- âœ… ä¸ºåç»­çš„ AI å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€è¯­æ³•ï¼ˆ1-10ï¼‰

### 1. Print è¯­å¥

`print()` æ˜¯ Python æœ€åŸºç¡€çš„è¾“å‡ºå‡½æ•°ï¼Œç”¨äºåœ¨æ§åˆ¶å°æ˜¾ç¤ºä¿¡æ¯ã€‚

```python
print('Hello, World!')
```

è¾“å‡ºï¼š
```
Hello, World!
```

> **ğŸ’¡ å°è´´å£«**ï¼šè°ƒè¯•ä»£ç æ—¶ï¼Œ`print()` æ˜¯æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•ã€‚åœ¨ AI å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨å®ƒæ¥æŸ¥çœ‹æ¨¡å‹çš„è¾“å‡ºç»“æœã€‚

### 2. å˜é‡

å˜é‡æ˜¯å­˜å‚¨æ•°æ®çš„"å®¹å™¨"ï¼Œå¯ä»¥åœ¨ç¨‹åºä¸­éšæ—¶ä½¿ç”¨ã€‚

```python
x = 10
y = 20
print(x + y)
```

è¾“å‡ºï¼š
```
30
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šå˜é‡å°±åƒ"å¸¦æ ‡ç­¾çš„ç›’å­"
>
> - `x = 10` æ„æ€æ˜¯"åœ¨åä¸º x çš„ç›’å­é‡Œæ”¾å…¥æ•°å­— 10"
> - ä¹‹åè¯´ `x`ï¼ŒPython å°±çŸ¥é“ä½ æŒ‡çš„æ˜¯ç›’å­é‡Œçš„ 10

### 3. æ•°æ®ç±»å‹

Python æœ‰å››ç§æœ€å¸¸ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼š

| ç±»å‹ | è‹±æ–‡ | ç¤ºä¾‹ | ç”¨é€” |
|------|------|------|------|
| æ•´æ•° | int | `42` | è®¡æ•°ã€ç´¢å¼• |
| æµ®ç‚¹æ•° | float | `3.14` | å°æ•°è®¡ç®— |
| å­—ç¬¦ä¸² | str | `'Hello'` | æ–‡æœ¬å¤„ç† |
| å¸ƒå°”å€¼ | bool | `True/False` | é€»è¾‘åˆ¤æ–­ |

```python
num = 42
pi = 3.14
name = 'Alice'
is_active = True

print(type(num), type(pi), type(name), type(is_active))
```

è¾“å‡ºï¼š
```
<class 'int'> <class 'float'> <class 'str'> <class 'bool'>
```

### 4. åˆ—è¡¨ï¼ˆListï¼‰

åˆ—è¡¨æ˜¯**æœ‰åºã€å¯å˜**çš„æ•°æ®é›†åˆï¼Œç”¨æ–¹æ‹¬å· `[]` è¡¨ç¤ºã€‚

```python
fruits = ['apple', 'banana', 'cherry']
print(fruits[1])  # è®¿é—®ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰

# åˆ—è¡¨å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ 
mixed_list = ['a', 1, True, [2, 3, 4]]
```

è¾“å‡ºï¼š
```
banana
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šç´¢å¼•ä» 0 å¼€å§‹
>
> ```
> fruits = ['apple', 'banana', 'cherry']
>            â†‘         â†‘         â†‘
>          ç´¢å¼•0     ç´¢å¼•1     ç´¢å¼•2
> ```
>
> è¿™æ˜¯ç¼–ç¨‹ç•Œçš„é€šç”¨è§„åˆ™ï¼Œè™½ç„¶ä¸€å¼€å§‹ä¼šä¸ä¹ æƒ¯ï¼Œä½†ç”¨ä¹…äº†å°±è‡ªç„¶äº†ã€‚

### 5. å…ƒç»„ï¼ˆTupleï¼‰

å…ƒç»„æ˜¯**æœ‰åºã€ä¸å¯å˜**çš„æ•°æ®é›†åˆï¼Œç”¨åœ†æ‹¬å· `()` è¡¨ç¤ºã€‚

```python
dimensions = (1920, 1080)
print(dimensions)
```

è¾“å‡ºï¼š
```
(1920, 1080)
```

> **ğŸ’¡ å…ƒç»„ vs åˆ—è¡¨**ï¼š
> - **åˆ—è¡¨**ï¼šå¯ä»¥å¢åˆ æ”¹ï¼Œé€‚åˆåŠ¨æ€æ•°æ®
> - **å…ƒç»„**ï¼šåˆ›å»ºåä¸èƒ½ä¿®æ”¹ï¼Œé€‚åˆå›ºå®šæ•°æ®ï¼ˆå¦‚å±å¹•åˆ†è¾¨ç‡ã€åæ ‡ç‚¹ï¼‰

### 6. å­—å…¸ï¼ˆDictionaryï¼‰

å­—å…¸å­˜å‚¨**é”®å€¼å¯¹**æ•°æ®ï¼Œç”¨èŠ±æ‹¬å· `{}` è¡¨ç¤ºã€‚

```python
person = {'name': 'Alice', 'age': 25}
print(person['name'])

# å­—å…¸å¯ä»¥åµŒå¥—æ›´å¤æ‚çš„ç»“æ„
data = {'names': ['Alice', 'Bob'], 'ages': [25, 24]}

import pandas as pd
df = pd.DataFrame(data)
print(df)
```

è¾“å‡ºï¼š
```
Alice

   names  ages
0  Alice    25
1    Bob    24
```

> **ğŸ”— ä¸ AI çš„è”ç³»**ï¼šJSON æ ¼å¼æœ¬è´¨ä¸Šå°±æ˜¯å­—å…¸çš„æ–‡æœ¬è¡¨ç¤ºï¼ŒAI API çš„è¯·æ±‚å’Œå“åº”å‡ ä¹éƒ½æ˜¯ JSON æ ¼å¼ã€‚

### 7. é›†åˆï¼ˆSetï¼‰

é›†åˆæ˜¯**æ— åºã€ä¸é‡å¤**çš„æ•°æ®é›†åˆã€‚

```python
unique_numbers = {1, 2, 3, 2}  # é‡å¤çš„ 2 ä¼šè¢«è‡ªåŠ¨å»é™¤
print(unique_numbers)
```

è¾“å‡ºï¼š
```
{1, 2, 3}
```

> **ğŸ’¡ ä½¿ç”¨åœºæ™¯**ï¼šå»é‡ã€æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼ˆæ¯”åˆ—è¡¨æ›´å¿«ï¼‰

### 8. æ¡ä»¶è¯­å¥

ä½¿ç”¨ `if`ã€`elif`ã€`else` è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚

```python
x = 10

if x > 5:
    print('x å¤§äº 5')
elif x == 5:
    print('x ç­‰äº 5')
else:
    print('x å°äº 5')
```

è¾“å‡ºï¼š
```
x å¤§äº 5
```

> **âš ï¸ æ³¨æ„ç¼©è¿›**ï¼šPython ä½¿ç”¨ç¼©è¿›ï¼ˆé€šå¸¸æ˜¯ 4 ä¸ªç©ºæ ¼ï¼‰æ¥è¡¨ç¤ºä»£ç å—ï¼Œç¼©è¿›é”™è¯¯ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚

### 9. å¾ªç¯

ä½¿ç”¨ `for` æˆ– `while` å¾ªç¯é‡å¤æ‰§è¡Œä»£ç ã€‚

```python
# for å¾ªç¯
for i in range(5):
    print(i)
```

è¾“å‡ºï¼š
```
0
1
2
3
4
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼š`range(5)` ç”Ÿæˆ 0, 1, 2, 3, 4
>
> æ³¨æ„ä¸åŒ…æ‹¬ 5ï¼è¿™æ˜¯ Python çš„"å·¦é—­å³å¼€"åŸåˆ™ï¼š`range(0, 5)` = `[0, 5)`

### 10. å‡½æ•°

å‡½æ•°æ˜¯**å¯å¤ç”¨çš„ä»£ç å—**ï¼Œç”¨ `def` å…³é”®å­—å®šä¹‰ã€‚

```python
def greet(name):
    return f'Hello, {name}!'

print(greet('Alice'))
```

è¾“å‡ºï¼š
```
Hello, Alice!
```

> **ğŸ’¡ f-string**ï¼š`f'Hello, {name}!'` æ˜¯ Python 3.6+ çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œ`{}` ä¸­çš„å˜é‡ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ã€‚

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šé¢å‘å¯¹è±¡ä¸è¿›é˜¶è¯­æ³•ï¼ˆ11-20ï¼‰

### 11. ç±»å’Œå¯¹è±¡

Python æ”¯æŒ**é¢å‘å¯¹è±¡ç¼–ç¨‹**ï¼Œç”¨ `class` å®šä¹‰ç±»ã€‚

```python
class Person:
    def __init__(self, name, age):
        self.name = name  # å±æ€§
        self.age = age    # å±æ€§

person = Person('Alice', 25)
print(person.name, person.age)
```

è¾“å‡ºï¼š
```
Alice 25
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šç±» vs å¯¹è±¡
>
> - **ç±»ï¼ˆClassï¼‰**ï¼šè®¾è®¡å›¾çº¸ï¼ˆæ¯”å¦‚"äºº"çš„å®šä¹‰ï¼‰
> - **å¯¹è±¡ï¼ˆObjectï¼‰**ï¼šæ ¹æ®å›¾çº¸é€ å‡ºæ¥çš„å®ç‰©ï¼ˆæ¯”å¦‚"Alice"ï¼‰
> - `__init__` æ˜¯**æ„é€ å‡½æ•°**ï¼Œåˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨

### 12. åˆ—è¡¨æ¨å¯¼å¼

ç”¨ä¸€è¡Œä»£ç åˆ›å»ºåˆ—è¡¨ï¼Œç®€æ´é«˜æ•ˆã€‚

```python
squares = [x**2 for x in range(10)]
print(squares)
```

è¾“å‡ºï¼š
```
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
```

> **ğŸ’¡ è¯­æ³•è§£æ**ï¼š
> ```python
> [è¡¨è¾¾å¼ for å˜é‡ in å¯è¿­ä»£å¯¹è±¡]
> ```
> ç­‰ä»·äºï¼š
> ```python
> result = []
> for å˜é‡ in å¯è¿­ä»£å¯¹è±¡:
>     result.append(è¡¨è¾¾å¼)
> ```

### 13. æ–‡ä»¶å¤„ç†

ä½¿ç”¨ `open()` å‡½æ•°è¯»å†™æ–‡ä»¶ã€‚

```python
# å†™å…¥æ–‡ä»¶
with open('example.txt', 'w') as file:
    file.write('Hello, World!')

# è¯»å–æ–‡ä»¶
with open('example.txt', 'r') as file:
    print(file.read())
```

è¾“å‡ºï¼š
```
Hello, World!
```

> **ğŸ’¡ ä½¿ç”¨ `with` çš„å¥½å¤„**ï¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶ï¼Œå³ä½¿å‘ç”Ÿé”™è¯¯ä¹Ÿèƒ½æ­£ç¡®å¤„ç†ã€‚

### 14. å¼‚å¸¸å¤„ç†

ä½¿ç”¨ `try`ã€`except`ã€`finally` å¤„ç†é”™è¯¯ã€‚

```python
try:
    result = 10 / 0
except ZeroDivisionError:
    print('ä¸èƒ½é™¤ä»¥é›¶')
finally:
    print('æ‰§è¡Œå®Œæ¯•')
```

è¾“å‡ºï¼š
```
ä¸èƒ½é™¤ä»¥é›¶
æ‰§è¡Œå®Œæ¯•
```

> **ğŸ’¡ ä¸‰ä¸ªå…³é”®å­—çš„ä½œç”¨**ï¼š
> - `try`ï¼šå°è¯•æ‰§è¡Œå¯èƒ½å‡ºé”™çš„ä»£ç 
> - `except`ï¼šå¦‚æœå‡ºé”™äº†ï¼Œæ‰§è¡Œè¿™é‡Œçš„ä»£ç 
> - `finally`ï¼šæ— è®ºæ˜¯å¦å‡ºé”™ï¼Œæœ€åéƒ½ä¼šæ‰§è¡Œ

### 15. æ¨¡å—å¯¼å…¥

ä½¿ç”¨ `import` å¯¼å…¥å¤–éƒ¨æ¨¡å—ã€‚

```python
import math
print(math.sqrt(16))
```

è¾“å‡ºï¼š
```
4.0
```

### 16. Lambda å‡½æ•°

åŒ¿åå‡½æ•°ï¼Œé€‚åˆç®€å•çš„ä¸€æ¬¡æ€§æ“ä½œã€‚

```python
square = lambda x: x**2
print(square(5))
```

è¾“å‡ºï¼š
```
25
```

> **ğŸ’¡ è¯­æ³•**ï¼š`lambda å‚æ•°: è¡¨è¾¾å¼`
>
> ç­‰ä»·äºï¼š
> ```python
> def square(x):
>     return x**2
> ```

### 17. Map å‡½æ•°

å°†å‡½æ•°åº”ç”¨åˆ°å¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ ã€‚

```python
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x**2, numbers))
print(squared)
```

è¾“å‡ºï¼š
```
[1, 4, 9, 16]
```

### 18. Filter å‡½æ•°

æ ¹æ®æ¡ä»¶è¿‡æ»¤å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ã€‚

```python
numbers = [1, 2, 3, 4]
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)
```

è¾“å‡ºï¼š
```
[2, 4]
```

### 19. Reduce å‡½æ•°

å¯¹åºåˆ—è¿›è¡Œç´¯ç§¯è®¡ç®—ã€‚

```python
from functools import reduce

numbers = [1, 2, 3, 4]
product = reduce(lambda x, y: x * y, numbers)
print(product)  # 1 * 2 * 3 * 4 = 24
```

è¾“å‡ºï¼š
```
24
```

### 20. ç”Ÿæˆå™¨

ä½¿ç”¨ `yield` é€ä¸ªäº§å‡ºå€¼ï¼ŒèŠ‚çœå†…å­˜ã€‚

```python
def count_up_to(n):
    i = 1
    while i <= n:
        yield i
        i += 1

for number in count_up_to(5):
    print(number)
```

è¾“å‡ºï¼š
```
1
2
3
4
5
```

> **ğŸ’¡ ç”Ÿæˆå™¨ vs åˆ—è¡¨**ï¼š
> - **åˆ—è¡¨**ï¼šä¸€æ¬¡æ€§åˆ›å»ºæ‰€æœ‰å…ƒç´ ï¼Œå ç”¨å¤§é‡å†…å­˜
> - **ç”Ÿæˆå™¨**ï¼šç”¨åˆ°ä¸€ä¸ªæ‰ç”Ÿæˆä¸€ä¸ªï¼ŒèŠ‚çœå†…å­˜

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šå‡½æ•°è¿›é˜¶ï¼ˆ21-25ï¼‰

### 21. é»˜è®¤å‚æ•°

å‡½æ•°å‚æ•°å¯ä»¥æœ‰é»˜è®¤å€¼ã€‚

```python
def greet(name, message='Hello'):
    return f'{message}, {name}!'

print(greet('Alice'))
print(greet('Bob', 'Hi'))
```

è¾“å‡ºï¼š
```
Hello, Alice!
Hi, Bob!
```

### 22. å¯å˜å‚æ•°ï¼ˆ*args å’Œ **kwargsï¼‰

ä½¿ç”¨ `*` å’Œ `**` æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ã€‚

```python
def add(*args):
    return sum(args)

print(add(1, 2, 3, 4))
```

è¾“å‡ºï¼š
```
10
```

> **ğŸ’¡ å‚æ•°è§£åŒ…**ï¼š
> - `*args`ï¼šæ¥æ”¶ä»»æ„æ•°é‡çš„ä½ç½®å‚æ•°ï¼Œæ‰“åŒ…æˆå…ƒç»„
> - `**kwargs`ï¼šæ¥æ”¶ä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ï¼Œæ‰“åŒ…æˆå­—å…¸

### 23. F-String æ ¼å¼åŒ–

Python 3.6+ çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–è¯­æ³•ã€‚

```python
name = 'Alice'
age = 25
print(f'{name} is {age} years old.')
```

è¾“å‡ºï¼š
```
Alice is 25 years old.
```

### 24. Enumerate å‡½æ•°

åŒæ—¶è·å–ç´¢å¼•å’Œå€¼ã€‚

```python
names = ['Alice', 'Bob', 'Charlie']
for index, name in enumerate(names):
    print(index, name)
```

è¾“å‡ºï¼š
```
0 Alice
1 Bob
2 Charlie
```

### 25. Zip å‡½æ•°

å°†å¤šä¸ªå¯è¿­ä»£å¯¹è±¡"æ‹‰é“¾å¼"ç»„åˆã€‚

```python
list1 = [1, 2, 3]
list2 = ['a', 'b', 'c']

for item1, item2 in zip(list1, list2):
    print(item1, item2)
```

è¾“å‡ºï¼š
```
1 a
2 b
3 c
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šæ•°æ®æ“ä½œï¼ˆ26-35ï¼‰

### 26. åˆ—è¡¨åˆ‡ç‰‡

ä½¿ç”¨åˆ‡ç‰‡è¯­æ³•æå–åˆ—è¡¨çš„å­é›†ã€‚

```python
numbers = [0, 1, 2, 3, 4, 5]

print(numbers[1:4])   # ç´¢å¼• 1 åˆ° 3
print(numbers[:3])    # å¼€å¤´åˆ°ç´¢å¼• 2
print(numbers[::2])   # æ¯éš”ä¸€ä¸ªå…ƒç´ 
```

è¾“å‡ºï¼š
```
[1, 2, 3]
[0, 1, 2]
[0, 2, 4]
```

> **ğŸ’¡ åˆ‡ç‰‡è¯­æ³•**ï¼š`[start:end:step]`
> - `start`ï¼šèµ·å§‹ç´¢å¼•ï¼ˆåŒ…å«ï¼‰
> - `end`ï¼šç»“æŸç´¢å¼•ï¼ˆä¸åŒ…å«ï¼‰
> - `step`ï¼šæ­¥é•¿

### 27. å­—ç¬¦ä¸²æ–¹æ³•

å­—ç¬¦ä¸²æœ‰å¾ˆå¤šå®ç”¨çš„å†…ç½®æ–¹æ³•ã€‚

```python
text = ' Hello World '

print(text.strip())   # å»é™¤é¦–å°¾ç©ºæ ¼
print(text.upper())   # è½¬å¤§å†™
print(text.lower())   # è½¬å°å†™
```

è¾“å‡ºï¼š
```
Hello World
 HELLO WORLD
 hello world
```

### 28. åˆ—è¡¨æ–¹æ³•

åˆ—è¡¨çš„å¸¸ç”¨æ“ä½œæ–¹æ³•ã€‚

```python
numbers = [1, 2, 3]
numbers.append(4)   # æ·»åŠ å…ƒç´ 
numbers.remove(2)   # åˆ é™¤å…ƒç´ 
print(numbers)
```

è¾“å‡ºï¼š
```
[1, 3, 4]
```

### 29. å¸ƒå°”é€»è¾‘

ä½¿ç”¨ `and`ã€`or`ã€`not` ç»„åˆæ¡ä»¶ã€‚

```python
x = 10
y = 20

print(x > 5 and y < 25)  # ä¸¤ä¸ªéƒ½ä¸ºçœŸæ‰ä¸ºçœŸ
print(not (x > y))       # å–å
```

è¾“å‡ºï¼š
```
True
True
```

### 30. åµŒå¥—å¾ªç¯

å¾ªç¯å†…éƒ¨å¯ä»¥å†åµŒå¥—å¾ªç¯ã€‚

```python
for i in range(3):
    for j in range(2):
        print(f'i={i}, j={j}')
```

è¾“å‡ºï¼š
```
i=0, j=0
i=0, j=1
i=1, j=0
i=1, j=1
i=2, j=0
i=2, j=1
```

### 31. Range å‡½æ•°

ç”Ÿæˆæ•°å­—åºåˆ—ã€‚

```python
for number in range(5):
    print(number)
```

è¾“å‡ºï¼š
```
0
1
2
3
4
```

> **ğŸ’¡ range çš„ä¸‰ç§ç”¨æ³•**ï¼š
> - `range(5)` â†’ 0, 1, 2, 3, 4
> - `range(2, 5)` â†’ 2, 3, 4
> - `range(0, 10, 2)` â†’ 0, 2, 4, 6, 8

### 32. é€’å½’

å‡½æ•°è°ƒç”¨è‡ªèº«æ¥è§£å†³é—®é¢˜ã€‚

```python
def factorial(n):
    if n == 1:
        return 1
    return n * factorial(n - 1)

print(factorial(5))  # 5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1 = 120
```

è¾“å‡ºï¼š
```
120
```

### 33. ä»æ¨¡å—å¯¼å…¥ç‰¹å®šå‡½æ•°

ä½¿ç”¨ `from ... import ...` è¯­æ³•ã€‚

```python
from math import sqrt
print(sqrt(16))
```

è¾“å‡ºï¼š
```
4.0
```

### 34. Assert æ–­è¨€

ç”¨äºè°ƒè¯•æ—¶æ£€æŸ¥æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚

```python
x = 5
assert x > 0, 'x å¿…é¡»æ˜¯æ­£æ•°'
print('æ–­è¨€é€šè¿‡!')
```

è¾“å‡ºï¼š
```
æ–­è¨€é€šè¿‡!
```

> **âš ï¸ æ³¨æ„**ï¼šå¦‚æœæ–­è¨€å¤±è´¥ï¼Œç¨‹åºä¼šæŠ›å‡º `AssertionError`ã€‚

### 35. æµ…æ‹·è´ vs æ·±æ‹·è´

ç†è§£å¯¹è±¡å¤åˆ¶çš„ä¸¤ç§æ–¹å¼ã€‚

```python
import copy

original = [1, [2, 3]]
shallow = copy.copy(original)
deep = copy.deepcopy(original)

# ä¿®æ”¹åŸå§‹åˆ—è¡¨ä¸­çš„åµŒå¥—åˆ—è¡¨
original[1][0] = 99

print('æµ…æ‹·è´:', shallow)  # åµŒå¥—åˆ—è¡¨è¢«å½±å“
print('æ·±æ‹·è´:', deep)     # åµŒå¥—åˆ—è¡¨ä¸å—å½±å“
```

è¾“å‡ºï¼š
```
æµ…æ‹·è´: [1, [99, 3]]
æ·±æ‹·è´: [1, [2, 3]]
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼š
> - **æµ…æ‹·è´**ï¼šåªå¤åˆ¶å¤–å±‚ï¼Œå†…å±‚è¿˜æ˜¯å…±äº«çš„
> - **æ·±æ‹·è´**ï¼šå®Œå…¨å¤åˆ¶ï¼ŒåŒ…æ‹¬æ‰€æœ‰åµŒå¥—ç»“æ„

---

## ç¬¬äº”éƒ¨åˆ†ï¼šè¿ç®—ç¬¦ä¸å†…ç½®å‡½æ•°ï¼ˆ36-45ï¼‰

### 36. is è¿ç®—ç¬¦

æ£€æŸ¥ä¸¤ä¸ªå˜é‡æ˜¯å¦æŒ‡å‘**åŒä¸€ä¸ªå¯¹è±¡**ã€‚

```python
a = [1, 2, 3]
b = a           # b æŒ‡å‘ a çš„åŒä¸€ä¸ªåˆ—è¡¨
c = [1, 2, 3]   # c æ˜¯æ–°çš„åˆ—è¡¨

print(a is b)   # Trueï¼ŒåŒä¸€ä¸ªå¯¹è±¡
print(a is c)   # Falseï¼Œä¸åŒå¯¹è±¡ï¼Œè™½ç„¶å†…å®¹ç›¸åŒ
```

è¾“å‡ºï¼š
```
True
False
```

> **ğŸ’¡ is vs ==**ï¼š
> - `is`ï¼šæ£€æŸ¥æ˜¯å¦æ˜¯**åŒä¸€ä¸ªå¯¹è±¡**
> - `==`ï¼šæ£€æŸ¥**å€¼**æ˜¯å¦ç›¸ç­‰

### 37. in è¿ç®—ç¬¦

æ£€æŸ¥å€¼æ˜¯å¦å­˜åœ¨äºå¯è¿­ä»£å¯¹è±¡ä¸­ã€‚

```python
fruits = ['apple', 'banana', 'cherry']
print('apple' in fruits)
print('grape' in fruits)
```

è¾“å‡ºï¼š
```
True
False
```

### 38. del è¯­å¥

åˆ é™¤å˜é‡æˆ–åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚

```python
numbers = [1, 2, 3, 4]
del numbers[2]  # åˆ é™¤ç´¢å¼•ä¸º 2 çš„å…ƒç´ 
print(numbers)
```

è¾“å‡ºï¼š
```
[1, 2, 4]
```

### 39. å­—å…¸æ¨å¯¼å¼

ç”¨ä¸€è¡Œä»£ç åˆ›å»ºå­—å…¸ã€‚

```python
squared = {x: x**2 for x in range(5)}
print(squared)
```

è¾“å‡ºï¼š
```
{0: 0, 1: 1, 2: 4, 3: 9, 4: 16}
```

### 40. ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆwith è¯­å¥ï¼‰

ä½¿ç”¨ `with` é«˜æ•ˆç®¡ç†èµ„æºã€‚

```python
with open('example.txt', 'w') as file:
    file.write('Hello, World!')
# æ–‡ä»¶ä¼šè‡ªåŠ¨å…³é—­
```

### 41. è¿­ä»£å™¨

ä½¿ç”¨ `iter()` å’Œ `next()` æ‰‹åŠ¨è¿­ä»£ã€‚

```python
numbers = iter([1, 2, 3, 4])
print(next(numbers))
print(next(numbers))
```

è¾“å‡ºï¼š
```
1
2
```

### 42. any å’Œ all å‡½æ•°

æ£€æŸ¥å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ ã€‚

```python
numbers = [1, 0, 3, 4]

print(any(numbers))  # Trueï¼Œè‡³å°‘æœ‰ä¸€ä¸ªéé›¶
print(all(numbers))  # Falseï¼Œå› ä¸ºæœ‰ 0
```

è¾“å‡ºï¼š
```
True
False
```

### 43. sorted æ’åº

å¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åºã€‚

```python
numbers = [3, 1, 4, 1, 5, 9]

print(sorted(numbers))
print(sorted(numbers, reverse=True))
```

è¾“å‡ºï¼š
```
[1, 1, 3, 4, 5, 9]
[9, 5, 4, 3, 1, 1]
```

### 44. ä½¿ç”¨ key å‚æ•°æ’åº

å¯¹å¤æ‚ç»“æ„è¿›è¡Œè‡ªå®šä¹‰æ’åºã€‚

```python
data = [
    {'name': 'Alice', 'age': 25},
    {'name': 'Bob', 'age': 20}
]

sorted_data = sorted(data, key=lambda x: x['age'])
print(sorted_data)
```

è¾“å‡ºï¼š
```
[{'name': 'Bob', 'age': 20}, {'name': 'Alice', 'age': 25}]
```

### 45. å‘½åå…ƒç»„

ä½¿ç”¨ `collections.namedtuple` åˆ›å»ºå¸¦å­—æ®µåçš„å…ƒç»„ã€‚

```python
from collections import namedtuple

Point = namedtuple('Point', 'x y')
point = Point(10, 20)

print(point.x, point.y)
```

è¾“å‡ºï¼š
```
10 20
```

---

## ç¬¬å…­éƒ¨åˆ†ï¼šé«˜çº§å·¥å…·ï¼ˆ46-50ï¼‰

### 46. Counter è®¡æ•°å™¨

ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°ã€‚

```python
from collections import Counter

numbers = [1, 2, 2, 3, 3, 3]
count = Counter(numbers)
print(count)
```

è¾“å‡ºï¼š
```
Counter({3: 3, 2: 2, 1: 1})
```

### 47. defaultdict é»˜è®¤å­—å…¸

è‡ªåŠ¨å¤„ç†ä¸å­˜åœ¨çš„é”®ã€‚

```python
from collections import defaultdict

def_dict = defaultdict(int)  # é»˜è®¤å€¼ä¸º 0
def_dict['a'] += 1
print(def_dict)
```

è¾“å‡ºï¼š
```
defaultdict(<class 'int'>, {'a': 1})
```

### 48. æ—¶é—´æµ‹é‡

ä½¿ç”¨ `time` æ¨¡å—æµ‹é‡ä»£ç æ‰§è¡Œæ—¶é—´ã€‚

```python
import time

start = time.time()
result = sum(range(1000000))
end = time.time()

print(f'æ‰§è¡Œæ—¶é—´: {end - start:.4f} ç§’')
```

### 49. æ­£åˆ™è¡¨è¾¾å¼

ä½¿ç”¨ `re` æ¨¡å—è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚

```python
import re

text = 'My phone number is 123-456-7890.'
match = re.search(r'\d{3}-\d{3}-\d{4}', text)
print(match.group())
```

è¾“å‡ºï¼š
```
123-456-7890
```

> **ğŸ’¡ æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨**ï¼š
> - `\d` åŒ¹é…æ•°å­—
> - `{3}` è¡¨ç¤ºé‡å¤ 3 æ¬¡
> - `\d{3}-\d{3}-\d{4}` åŒ¹é… xxx-xxx-xxxx æ ¼å¼çš„ç”µè¯å·ç 

### 50. å…¨å±€ä¸å±€éƒ¨å˜é‡

ç†è§£å˜é‡çš„ä½œç”¨åŸŸã€‚

```python
x = 'global'

def func():
    x = 'local'
    print('å‡½æ•°å†…éƒ¨:', x)

func()
print('å‡½æ•°å¤–éƒ¨:', x)
```

è¾“å‡ºï¼š
```
å‡½æ•°å†…éƒ¨: local
å‡½æ•°å¤–éƒ¨: global
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šä½œç”¨åŸŸ
>
> - **å…¨å±€å˜é‡**ï¼šåœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰ï¼Œæ•´ä¸ªç¨‹åºéƒ½èƒ½è®¿é—®
> - **å±€éƒ¨å˜é‡**ï¼šåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ï¼Œåªåœ¨å‡½æ•°å†…æœ‰æ•ˆ
> - å‡½æ•°å†…éƒ¨å¯ä»¥"çœ‹åˆ°"å¤–éƒ¨å˜é‡ï¼Œä½†é»˜è®¤ä¸ä¼šä¿®æ”¹å®ƒ

---

## æœ¬ç« æ€»ç»“

### çŸ¥è¯†ç‚¹åˆ†ç±»é€ŸæŸ¥è¡¨

| ç±»åˆ« | çŸ¥è¯†ç‚¹ |
|------|--------|
| **åŸºç¡€è¯­æ³•** | print, å˜é‡, æ•°æ®ç±»å‹, æ¡ä»¶è¯­å¥, å¾ªç¯, å‡½æ•° |
| **æ•°æ®ç»“æ„** | åˆ—è¡¨, å…ƒç»„, å­—å…¸, é›†åˆ |
| **é¢å‘å¯¹è±¡** | ç±», å¯¹è±¡, `__init__` |
| **å‡½æ•°è¿›é˜¶** | lambda, é»˜è®¤å‚æ•°, *args, **kwargs |
| **å‡½æ•°å¼ç¼–ç¨‹** | map, filter, reduce, åˆ—è¡¨æ¨å¯¼å¼ |
| **æ–‡ä»¶ä¸å¼‚å¸¸** | open, with, try/except |
| **é«˜çº§å·¥å…·** | ç”Ÿæˆå™¨, è¿­ä»£å™¨, æ­£åˆ™è¡¨è¾¾å¼ |
| **å¸¸ç”¨æ¨¡å—** | math, time, copy, collections, re |

### å­¦ä¹ å»ºè®®

1. **å¤šç»ƒä¹ **ï¼šæ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½åŠ¨æ‰‹æ•²ä¸€éä»£ç 
2. **ç†è§£åŸç†**ï¼šä¸åªæ˜¯è®°ä½è¯­æ³•ï¼Œè¦ç†è§£ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡
3. **å®é™…åº”ç”¨**ï¼šå°è¯•åœ¨å°é¡¹ç›®ä¸­ä½¿ç”¨è¿™äº›çŸ¥è¯†ç‚¹
4. **æŸ¥é˜…æ–‡æ¡£**ï¼šé‡åˆ°é—®é¢˜æ—¶ï¼Œå¤šæŸ¥é˜… Python å®˜æ–¹æ–‡æ¡£

---

## æ€è€ƒé¢˜

1. `is` å’Œ `==` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼Ÿ
2. æµ…æ‹·è´å’Œæ·±æ‹·è´åˆ†åˆ«é€‚ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ
3. ç”Ÿæˆå™¨ç›¸æ¯”åˆ—è¡¨æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ç”Ÿæˆå™¨ï¼Ÿ
4. `try...except...finally` ä¸­çš„ `finally` å—ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ

---

## ä¸‹ä¸€æ­¥

æŒæ¡äº†è¿™ 50 ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹åï¼Œä½ å·²ç»å…·å¤‡äº†æ‰å®çš„ Python åŸºç¡€ã€‚æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æŠŠè¿™äº›çŸ¥è¯†åº”ç”¨åˆ° AI Agent å¼€å‘ä¸­ï¼

---

# Part 2: LangGraph 1.x æ‰©å±• - ä» Python åŸºç¡€åˆ° AI Agent å¼€å‘

LangGraph æ˜¯ LangChain å›¢é˜Ÿå¼€å‘çš„å›¾ç»“æ„æ¡†æ¶ï¼Œç”¨äºæ„å»ºæœ‰çŠ¶æ€çš„ã€å¤šå‚ä¸è€…çš„ AI åº”ç”¨ç¨‹åºã€‚æœ¬éƒ¨åˆ†å°†ç»“åˆå‰é¢å­¦åˆ°çš„ Python åŸºç¡€çŸ¥è¯†ï¼Œé€æ­¥ä»‹ç» LangGraph çš„æ ¸å¿ƒæ¦‚å¿µã€‚

**æ ¸å¿ƒæ¦‚å¿µé¢„è§ˆï¼š**
- **StateGraph**: çŠ¶æ€å›¾ - ç®¡ç†å·¥ä½œæµçš„æ ¸å¿ƒç»“æ„
- **Nodes**: èŠ‚ç‚¹ - æ‰§è¡Œå…·ä½“ä»»åŠ¡çš„å‡½æ•°
- **Edges**: è¾¹ - å®šä¹‰èŠ‚ç‚¹é—´çš„æ‰§è¡Œæµç¨‹
- **State**: çŠ¶æ€ - åœ¨èŠ‚ç‚¹é—´ä¼ é€’çš„å…±äº«æ•°æ®

---

## 51. LangGraph å®‰è£…ä¸ç¯å¢ƒé…ç½®

é¦–å…ˆå®‰è£… LangGraph 1.x åŠç›¸å…³ä¾èµ–ã€‚

```python
# å®‰è£… LangGraph (å¦‚æœå°šæœªå®‰è£…)
# !pip install -U langgraph langchain-openai

# éªŒè¯å®‰è£…
import langgraph
print(f"LangGraph ç‰ˆæœ¬: {langgraph.__version__}")
```

> **ğŸ’¡ å°è´´å£«**ï¼šLangGraph 1.x ç‰ˆæœ¬å¸¦æ¥äº†è®¸å¤šæ”¹è¿›ï¼ŒåŒ…æ‹¬æ›´ç®€æ´çš„ API å’Œæ›´å¼ºå¤§çš„çŠ¶æ€ç®¡ç†åŠŸèƒ½ã€‚

---

## 52. State çŠ¶æ€ç®¡ç† - ä»å­—å…¸åˆ° TypedDict

å›é¡¾å‰é¢å­¦çš„**å­—å…¸(Dict)**ï¼ŒLangGraph ä½¿ç”¨ `TypedDict` æ¥å®šä¹‰å¼ºç±»å‹çš„çŠ¶æ€ç»“æ„ã€‚è¿™æ˜¯ Python ç±»å‹æç¤ºç³»ç»Ÿçš„æ‰©å±•ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®šä¹‰å…·æœ‰ç‰¹å®šé”®å’Œå€¼ç±»å‹çš„å­—å…¸ã€‚

```python
from typing import TypedDict, Annotated
from operator import add

# å›é¡¾: æ™®é€šå­—å…¸
person_dict = {'name': 'Alice', 'age': 25}
print(f"æ™®é€šå­—å…¸: {person_dict}")

# LangGraph é£æ ¼: ä½¿ç”¨ TypedDict å®šä¹‰çŠ¶æ€ç»“æ„
class PersonState(TypedDict):
    name: str
    age: int
    messages: list[str]

# åˆ›å»ºç¬¦åˆç±»å‹å®šä¹‰çš„çŠ¶æ€
person_state: PersonState = {
    'name': 'Alice',
    'age': 25,
    'messages': ['Hello']
}
print(f"TypedDict çŠ¶æ€: {person_state}")
```

è¾“å‡ºï¼š
```
æ™®é€šå­—å…¸: {'name': 'Alice', 'age': 25}
TypedDict çŠ¶æ€: {'name': 'Alice', 'age': 25, 'messages': ['Hello']}
```

> **ğŸ”— ä¸ Python åŸºç¡€çš„è”ç³»**ï¼šTypedDict æœ¬è´¨ä¸Šè¿˜æ˜¯å­—å…¸ï¼Œåªæ˜¯åŠ äº†ç±»å‹æ ‡æ³¨ï¼Œè®©ä»£ç æ›´æ¸…æ™°ã€æ›´å®¹æ˜“ç»´æŠ¤ã€‚

---

## 53. Annotated ç±»å‹ä¸ Reducer å‡½æ•°

åœ¨ LangGraph ä¸­ï¼Œä½¿ç”¨ `Annotated` æ¥æŒ‡å®šçŠ¶æ€æ›´æ–°çš„æ–¹å¼ã€‚å›é¡¾å‰é¢çš„ **reduce å‡½æ•°**ï¼Œè¿™é‡Œçš„ reducer æ¦‚å¿µç±»ä¼¼ - å®ƒå®šä¹‰äº†å¦‚ä½•å°†æ–°å€¼ä¸æ—§å€¼åˆå¹¶ã€‚

```python
# å›é¡¾ reduce å‡½æ•°: å°†åºåˆ—é€æ­¥åˆå¹¶
from functools import reduce

numbers = [1, 2, 3, 4]
total = reduce(lambda x, y: x + y, numbers)
print(f"Reduce ç»“æœ: {total}")

# LangGraph ä¸­çš„ Reducer: ä½¿ç”¨ Annotated å®šä¹‰çŠ¶æ€å¦‚ä½•æ›´æ–°
from typing import Annotated

class ChatState(TypedDict):
    # messages å­—æ®µä½¿ç”¨ add ä½œä¸º reducer
    # æ¯æ¬¡æ›´æ–°æ—¶ï¼Œæ–°æ¶ˆæ¯ä¼šè¿½åŠ åˆ°åˆ—è¡¨è€Œä¸æ˜¯æ›¿æ¢
    messages: Annotated[list[str], add]

# æ¨¡æ‹ŸçŠ¶æ€æ›´æ–°è¿‡ç¨‹
state1 = {'messages': ['Hello']}
update = {'messages': ['How are you?']}
# reducer ä¼šæ‰§è¡Œ: add(['Hello'], ['How are you?']) = ['Hello', 'How are you?']
merged = {'messages': state1['messages'] + update['messages']}
print(f"åˆå¹¶åçš„æ¶ˆæ¯: {merged['messages']}")
```

è¾“å‡ºï¼š
```
Reduce ç»“æœ: 10
åˆå¹¶åçš„æ¶ˆæ¯: ['Hello', 'How are you?']
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šReducer å†³å®š"æ–°æ—§å€¼æ€ä¹ˆåˆå¹¶"
>
> - **é»˜è®¤è¡Œä¸º**ï¼šæ–°å€¼è¦†ç›–æ—§å€¼
> - **ä½¿ç”¨ add reducer**ï¼šæ–°å€¼è¿½åŠ åˆ°æ—§å€¼åˆ—è¡¨åé¢
> - è¿™å¯¹äºä¿å­˜å¯¹è¯å†å²éå¸¸æœ‰ç”¨ï¼

---

## 54. StateGraph çŠ¶æ€å›¾ - ç»“åˆç±»ä¸å‡½æ•°

`StateGraph` æ˜¯ LangGraph çš„æ ¸å¿ƒç±»ï¼Œå®ƒç®¡ç†æ•´ä¸ªå·¥ä½œæµç¨‹ã€‚å›é¡¾å‰é¢çš„**ç±»(Classes)**å’Œ**å‡½æ•°(Functions)**ï¼ŒStateGraph å°±æ˜¯ä¸€ä¸ªç®¡ç†èŠ‚ç‚¹å’Œè¾¹çš„ç±»ã€‚

```python
from langgraph.graph import StateGraph, START, END

# å®šä¹‰çŠ¶æ€ç»“æ„ (ç±»ä¼¼äºå®šä¹‰ä¸€ä¸ªæ•°æ®æ¨¡å‹)
class SimpleState(TypedDict):
    value: int
    history: Annotated[list[str], add]

# åˆ›å»º StateGraph å®ä¾‹ï¼Œä¼ å…¥çŠ¶æ€ç±»å‹
graph_builder = StateGraph(SimpleState)

print(f"StateGraph ç±»å‹: {type(graph_builder)}")
print("StateGraph å·²åˆ›å»ºï¼Œæ¥ä¸‹æ¥å¯ä»¥æ·»åŠ èŠ‚ç‚¹å’Œè¾¹")
```

è¾“å‡ºï¼š
```
StateGraph ç±»å‹: <class 'langgraph.graph.state.StateGraph'>
StateGraph å·²åˆ›å»ºï¼Œæ¥ä¸‹æ¥å¯ä»¥æ·»åŠ èŠ‚ç‚¹å’Œè¾¹
```

---

## 55. Nodes èŠ‚ç‚¹ - å‡½æ•°ä½œä¸ºå¤„ç†å•å…ƒ

åœ¨ LangGraph ä¸­ï¼Œ**èŠ‚ç‚¹(Node)** å°±æ˜¯å¤„ç†çŠ¶æ€çš„å‡½æ•°ã€‚å›é¡¾å‰é¢çš„**å‡½æ•°å®šä¹‰**ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ¥æ”¶å½“å‰çŠ¶æ€ï¼Œè¿”å›çŠ¶æ€æ›´æ–°ã€‚

```python
# èŠ‚ç‚¹å‡½æ•°: æ¥æ”¶ stateï¼Œè¿”å›æ›´æ–°
def double_value(state: SimpleState) -> dict:
    """å°† value ç¿»å€"""
    new_value = state['value'] * 2
    return {
        'value': new_value,
        'history': [f'doubled to {new_value}']
    }

def add_ten(state: SimpleState) -> dict:
    """å°† value åŠ  10"""
    new_value = state['value'] + 10
    return {
        'value': new_value,
        'history': [f'added 10, now {new_value}']
    }

# å°†èŠ‚ç‚¹æ·»åŠ åˆ°å›¾ä¸­
graph_builder.add_node("double", double_value)
graph_builder.add_node("add_ten", add_ten)

print("å·²æ·»åŠ ä¸¤ä¸ªèŠ‚ç‚¹: 'double' å’Œ 'add_ten'")
```

> **ğŸ”— ä¸ Python åŸºç¡€çš„è”ç³»**ï¼šèŠ‚ç‚¹å°±æ˜¯æ™®é€šçš„ Python å‡½æ•°ï¼åªéœ€è¦æ¥æ”¶çŠ¶æ€å­—å…¸ï¼Œè¿”å›æ›´æ–°å­—å…¸ã€‚

---

## 56. Edges è¾¹ - å®šä¹‰æ‰§è¡Œæµç¨‹

**è¾¹(Edge)** å®šä¹‰èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œå†³å®šæ‰§è¡Œé¡ºåºã€‚è¿™ç±»ä¼¼äºå‰é¢å­¦çš„**ç¨‹åºæ§åˆ¶æµ**ï¼Œä½†ä»¥å›¾ç»“æ„è¡¨ç¤ºã€‚

LangGraph ä¸­æœ‰ä¸‰ç§è¾¹ï¼š
- **æ™®é€šè¾¹**: ç›´æ¥ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹
- **START è¾¹**: å®šä¹‰å›¾çš„å…¥å£ç‚¹
- **END è¾¹**: å®šä¹‰å›¾çš„ç»ˆæ­¢ç‚¹

```python
# æ·»åŠ è¾¹: å®šä¹‰æ‰§è¡Œæµç¨‹
# START -> double -> add_ten -> END

graph_builder.add_edge(START, "double")      # ä»èµ·ç‚¹åˆ° double èŠ‚ç‚¹
graph_builder.add_edge("double", "add_ten")  # ä» double åˆ° add_ten
graph_builder.add_edge("add_ten", END)       # ä» add_ten åˆ°ç»ˆç‚¹

# ç¼–è¯‘å›¾ - ä½¿å…¶å¯æ‰§è¡Œ
simple_graph = graph_builder.compile()

print("å›¾ç»“æ„: START -> double -> add_ten -> END")
print("å›¾å·²ç¼–è¯‘å®Œæˆï¼Œå¯ä»¥æ‰§è¡Œäº†ï¼")
```

---

## 57. æ‰§è¡Œå›¾ - invoke æ–¹æ³•

ä½¿ç”¨ `invoke()` æ–¹æ³•æ‰§è¡Œç¼–è¯‘åçš„å›¾ï¼Œä¼ å…¥åˆå§‹çŠ¶æ€ã€‚

```python
# æ‰§è¡Œå›¾
initial_state = {
    'value': 5,
    'history': ['started with 5']
}

result = simple_graph.invoke(initial_state)

print(f"åˆå§‹å€¼: 5")
print(f"æœ€ç»ˆå€¼: {result['value']}")  # 5 * 2 + 10 = 20
print(f"æ‰§è¡Œå†å²: {result['history']}")
```

è¾“å‡ºï¼š
```
åˆå§‹å€¼: 5
æœ€ç»ˆå€¼: 20
æ‰§è¡Œå†å²: ['started with 5', 'doubled to 10', 'added 10, now 20']
```

> **ğŸ’¡ ç†è§£æ‰§è¡Œæµç¨‹**ï¼š
> 1. åˆå§‹å€¼ 5 â†’ `double` èŠ‚ç‚¹ â†’ å˜æˆ 10
> 2. å€¼ 10 â†’ `add_ten` èŠ‚ç‚¹ â†’ å˜æˆ 20
> 3. `history` ä½¿ç”¨ add reducerï¼Œæ‰€ä»¥æ¯æ¬¡æ›´æ–°éƒ½è¿½åŠ è®°å½•

---

## 58. Conditional Edges æ¡ä»¶è¾¹ - ç»“åˆæ¡ä»¶è¯­å¥

**æ¡ä»¶è¾¹** æ˜¯ LangGraph æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒå…è®¸æ ¹æ®çŠ¶æ€åŠ¨æ€å†³å®šä¸‹ä¸€æ­¥æ‰§è¡Œå“ªä¸ªèŠ‚ç‚¹ã€‚å›é¡¾å‰é¢çš„ **if/elif/else æ¡ä»¶è¯­å¥**ï¼Œæ¡ä»¶è¾¹å°†è¿™ä¸ªæ¦‚å¿µåº”ç”¨åˆ°å›¾ç»“æ„ä¸­ã€‚

```python
from typing import Literal

# å®šä¹‰å¸¦æœ‰æ¡ä»¶è·¯ç”±çš„çŠ¶æ€
class RouterState(TypedDict):
    value: int
    route: str
    result: str

# è·¯ç”±å‡½æ•°: æ ¹æ®çŠ¶æ€å†³å®šä¸‹ä¸€ä¸ªèŠ‚ç‚¹
def decide_route(state: RouterState) -> str:
    """æ ¹æ® value å†³å®šèµ°å“ªæ¡è·¯"""
    # è¿™å°±åƒ if/elif/elseï¼Œä½†è¿”å›èŠ‚ç‚¹åç§°
    if state['value'] > 100:
        return "big_handler"
    elif state['value'] > 10:
        return "medium_handler"
    else:
        return "small_handler"

# å„ä¸ªå¤„ç†èŠ‚ç‚¹
def big_handler(state: RouterState) -> dict:
    return {'result': f"å¤„ç†å¤§æ•°å€¼: {state['value']}"}

def medium_handler(state: RouterState) -> dict:
    return {'result': f"å¤„ç†ä¸­ç­‰æ•°å€¼: {state['value']}"}

def small_handler(state: RouterState) -> dict:
    return {'result': f"å¤„ç†å°æ•°å€¼: {state['value']}"}

# åˆ›å»ºå¸¦æ¡ä»¶è¾¹çš„å›¾
router_graph = StateGraph(RouterState)

# æ·»åŠ æ‰€æœ‰èŠ‚ç‚¹
router_graph.add_node("big_handler", big_handler)
router_graph.add_node("medium_handler", medium_handler)
router_graph.add_node("small_handler", small_handler)

# æ·»åŠ æ¡ä»¶è¾¹: ä» START æ ¹æ® decide_route å‡½æ•°å†³å®šå»å“ªä¸ªèŠ‚ç‚¹
router_graph.add_conditional_edges(
    START,                  # ä»å“ªé‡Œå¼€å§‹
    decide_route,           # è·¯ç”±å‡½æ•°
    {                       # å¯èƒ½çš„ç›®æ ‡èŠ‚ç‚¹
        "big_handler": "big_handler",
        "medium_handler": "medium_handler",
        "small_handler": "small_handler"
    }
)

# æ‰€æœ‰å¤„ç†èŠ‚ç‚¹éƒ½è¿æ¥åˆ° END
router_graph.add_edge("big_handler", END)
router_graph.add_edge("medium_handler", END)
router_graph.add_edge("small_handler", END)

# ç¼–è¯‘å¹¶æµ‹è¯•
conditional_graph = router_graph.compile()

# æµ‹è¯•ä¸åŒçš„è¾“å…¥
test_cases = [5, 50, 500]
for value in test_cases:
    result = conditional_graph.invoke({
        'value': value,
        'route': '',
        'result': ''
    })
    print(f"è¾“å…¥ {value} -> {result['result']}")
```

è¾“å‡ºï¼š
```
è¾“å…¥ 5 -> å¤„ç†å°æ•°å€¼: 5
è¾“å…¥ 50 -> å¤„ç†ä¸­ç­‰æ•°å€¼: 50
è¾“å…¥ 500 -> å¤„ç†å¤§æ•°å€¼: 500
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šæ¡ä»¶è¾¹å°±æ˜¯"åˆ†å²”è·¯"
>
> æƒ³è±¡ä½ åœ¨èµ°è¿·å®«ï¼Œé‡åˆ°å²”è·¯å£æ—¶éœ€è¦æ ¹æ®æŸäº›æ¡ä»¶ï¼ˆæ¯”å¦‚æ‰‹é‡Œçš„é’¥åŒ™é¢œè‰²ï¼‰é€‰æ‹©èµ°å“ªæ¡è·¯ã€‚æ¡ä»¶è¾¹å°±æ˜¯è¿™ä¸ªé€‰æ‹©è¿‡ç¨‹ã€‚

---

## 59. MessagesState - LangGraph å†…ç½®æ¶ˆæ¯çŠ¶æ€

LangGraph æä¾›äº†å†…ç½®çš„ `MessagesState`ï¼Œä¸“é—¨ç”¨äºå¤„ç†å¯¹è¯æ¶ˆæ¯ã€‚è¿™æ˜¯æ„å»ºèŠå¤©æœºå™¨äººå’Œ AI Agent çš„åŸºç¡€ã€‚

```python
from langgraph.graph import MessagesState

# MessagesState ç­‰åŒäº:
# class MessagesState(TypedDict):
#     messages: Annotated[list[BaseMessage], add]

# ç¤ºä¾‹: ä½¿ç”¨ MessagesState åˆ›å»ºç®€å•çš„å›æ˜¾æœºå™¨äºº
def echo_bot(state: MessagesState) -> dict:
    """ç®€å•çš„å›æ˜¾æœºå™¨äºº - é‡å¤ç”¨æˆ·çš„æœ€åä¸€æ¡æ¶ˆæ¯"""
    last_message = state['messages'][-1]
    # è·å–æ¶ˆæ¯å†…å®¹
    if hasattr(last_message, 'content'):
        content = last_message.content
    else:
        content = last_message.get('content', str(last_message))

    return {
        'messages': [{'role': 'assistant', 'content': f'ä½ è¯´çš„æ˜¯: {content}'}]
    }

# åˆ›å»ºå›æ˜¾æœºå™¨äººå›¾
echo_graph = StateGraph(MessagesState)
echo_graph.add_node("echo", echo_bot)
echo_graph.add_edge(START, "echo")
echo_graph.add_edge("echo", END)
echo_app = echo_graph.compile()

# æµ‹è¯•
result = echo_app.invoke({
    'messages': [{'role': 'user', 'content': 'Hello, LangGraph!'}]
})
print(f"ç”¨æˆ·: Hello, LangGraph!")
print(f"æœºå™¨äºº: {result['messages'][-1].content}")
```

---

## 60. å·¥å…·è°ƒç”¨ Agent - å®Œæ•´ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ LangGraph Agent ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ï¼š
1. å®šä¹‰å·¥å…· (Tools)
2. åˆ›å»ºå·¥å…·æ‰§è¡ŒèŠ‚ç‚¹
3. ä½¿ç”¨æ¡ä»¶è¾¹å®ç°å¾ªç¯

```python
from typing import Literal

# å®šä¹‰å·¥å…· - ä½¿ç”¨ Python å‡½æ•°
def calculator(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        result = eval(expression)
        return f"è®¡ç®—ç»“æœ: {expression} = {result}"
    except:
        return "è®¡ç®—é”™è¯¯"

def get_weather(city: str) -> str:
    """è·å–å¤©æ°”ä¿¡æ¯ (æ¨¡æ‹Ÿ)"""
    weather_data = {
        "åŒ—äº¬": "æ™´å¤© 25Â°C",
        "ä¸Šæµ·": "å¤šäº‘ 22Â°C",
        "æ·±åœ³": "å°é›¨ 28Â°C"
    }
    return weather_data.get(city, f"{city}å¤©æ°”æ•°æ®æš‚ä¸å¯ç”¨")

# Agent çŠ¶æ€
class AgentState(TypedDict):
    messages: Annotated[list, add]
    tool_calls: list
    tool_results: list

# åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·
def should_continue(state: AgentState) -> Literal["tools", "end"]:
    """æ£€æŸ¥æ˜¯å¦æœ‰å·¥å…·è°ƒç”¨è¯·æ±‚"""
    if state.get('tool_calls') and len(state['tool_calls']) > 0:
        return "tools"
    return "end"

# å·¥å…·æ‰§è¡ŒèŠ‚ç‚¹
def execute_tools(state: AgentState) -> dict:
    """æ‰§è¡Œå·¥å…·è°ƒç”¨"""
    results = []
    for call in state.get('tool_calls', []):
        tool_name = call.get('name')
        args = call.get('args', {})

        if tool_name == 'calculator':
            result = calculator(args.get('expression', ''))
        elif tool_name == 'get_weather':
            result = get_weather(args.get('city', ''))
        else:
            result = f"æœªçŸ¥å·¥å…·: {tool_name}"

        results.append(result)

    return {
        'tool_results': results,
        'tool_calls': []  # æ¸…ç©ºå·¥å…·è°ƒç”¨
    }

print("Agent ç»„ä»¶å·²å®šä¹‰: calculator, get_weather, should_continue, execute_tools")
```

> **ğŸ”— ä¸ Python åŸºç¡€çš„è”ç³»**ï¼šå·¥å…·å°±æ˜¯æ™®é€šçš„ Python å‡½æ•°ï¼Agent çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥æ™ºèƒ½åœ°å†³å®šä½•æ—¶è°ƒç”¨å“ªä¸ªå·¥å…·ã€‚

---

## 61. å›¾å¯è§†åŒ– - ç†è§£å·¥ä½œæµç»“æ„

LangGraph æ”¯æŒå°†å›¾å¯¼å‡ºä¸º Mermaid æ ¼å¼è¿›è¡Œå¯è§†åŒ–ã€‚

```python
# è·å–å›¾çš„å¯è§†åŒ–è¡¨ç¤º
try:
    mermaid_graph = simple_graph.get_graph().draw_mermaid()
    print("ç®€å•å›¾çš„ Mermaid è¡¨ç¤º:")
    print(mermaid_graph)
except Exception as e:
    print(f"å¯è§†åŒ–éœ€è¦é¢å¤–ä¾èµ–: {e}")
    print("\nå›¾ç»“æ„æè¿°:")
    print("START --> double --> add_ten --> END")
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
graph TD;
    __start__ --> double;
    double --> add_ten;
    add_ten --> __end__;
```

> **ğŸ’¡ å°è´´å£«**ï¼šå¯ä»¥æŠŠ Mermaid ä»£ç ç²˜è´´åˆ°æ”¯æŒ Mermaid çš„å·¥å…·ä¸­ï¼ˆå¦‚ GitHubã€Notionï¼‰æ¥æŸ¥çœ‹å›¾å½¢åŒ–çš„æµç¨‹å›¾ã€‚

---

## 62. å¾ªç¯å›¾ - è¿­ä»£å¤„ç†

LangGraph æ”¯æŒåˆ›å»ºå¾ªç¯å›¾ï¼Œè¿™å¯¹äºéœ€è¦å¤šæ¬¡è¿­ä»£çš„ä»»åŠ¡éå¸¸æœ‰ç”¨ã€‚å›é¡¾å‰é¢çš„ **while å¾ªç¯**ï¼Œè¿™é‡Œç”¨å›¾ç»“æ„å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚

```python
# å¾ªç¯å›¾ç¤ºä¾‹: æŒç»­å¤„ç†ç›´åˆ°æ»¡è¶³æ¡ä»¶
class LoopState(TypedDict):
    counter: int
    max_count: int
    log: Annotated[list[str], add]

def increment(state: LoopState) -> dict:
    """å¢åŠ è®¡æ•°å™¨"""
    new_count = state['counter'] + 1
    return {
        'counter': new_count,
        'log': [f'è®¡æ•°: {new_count}']
    }

def should_continue_loop(state: LoopState) -> Literal["increment", "end"]:
    """æ£€æŸ¥æ˜¯å¦ç»§ç»­å¾ªç¯"""
    if state['counter'] < state['max_count']:
        return "increment"
    return "end"

# åˆ›å»ºå¾ªç¯å›¾
loop_graph = StateGraph(LoopState)
loop_graph.add_node("increment", increment)

# START -> increment
loop_graph.add_edge(START, "increment")

# increment -> (æ¡ä»¶) -> increment æˆ– end
loop_graph.add_conditional_edges(
    "increment",
    should_continue_loop,
    {
        "increment": "increment",  # å¾ªç¯å›å»
        "end": END                  # ç»“æŸ
    }
)

loop_app = loop_graph.compile()

# æµ‹è¯•å¾ªç¯
result = loop_app.invoke({
    'counter': 0,
    'max_count': 5,
    'log': ['å¼€å§‹']
})

print(f"æœ€ç»ˆè®¡æ•°: {result['counter']}")
print(f"æ‰§è¡Œæ—¥å¿—: {result['log']}")
```

è¾“å‡ºï¼š
```
æœ€ç»ˆè®¡æ•°: 5
æ‰§è¡Œæ—¥å¿—: ['å¼€å§‹', 'è®¡æ•°: 1', 'è®¡æ•°: 2', 'è®¡æ•°: 3', 'è®¡æ•°: 4', 'è®¡æ•°: 5']
```

> **ğŸ¯ å°ç™½ç†è§£**ï¼šè¿™å°±æ˜¯ç”¨å›¾ç»“æ„å®ç°çš„ while å¾ªç¯ï¼æ¡ä»¶è¾¹çš„è¿”å›å€¼å†³å®šæ˜¯ç»§ç»­å¾ªç¯è¿˜æ˜¯é€€å‡ºã€‚

---

## 63. Streaming æµå¼è¾“å‡º - ç»“åˆç”Ÿæˆå™¨

LangGraph æ”¯æŒæµå¼è¾“å‡ºï¼Œå¯ä»¥å®æ—¶è·å–æ¯ä¸ªèŠ‚ç‚¹çš„æ‰§è¡Œç»“æœã€‚å›é¡¾å‰é¢çš„ **ç”Ÿæˆå™¨(Generators)**ï¼Œ`stream()` æ–¹æ³•è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ã€‚

```python
# ä½¿ç”¨ stream() è·å–æµå¼è¾“å‡º
print("æµå¼æ‰§è¡Œè¿‡ç¨‹:")
print("-" * 40)

for step in simple_graph.stream({'value': 3, 'history': ['åˆå§‹å€¼: 3']}):
    # æ¯æ¬¡è¿­ä»£è¿”å›ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å‡º
    for node_name, node_output in step.items():
        print(f"èŠ‚ç‚¹ '{node_name}' è¾“å‡º: {node_output}")
    print("-" * 40)
```

è¾“å‡ºï¼š
```
æµå¼æ‰§è¡Œè¿‡ç¨‹:
----------------------------------------
èŠ‚ç‚¹ 'double' è¾“å‡º: {'value': 6, 'history': ['doubled to 6']}
----------------------------------------
èŠ‚ç‚¹ 'add_ten' è¾“å‡º: {'value': 16, 'history': ['added 10, now 16']}
----------------------------------------
```

> **ğŸ”— ä¸ Python åŸºç¡€çš„è”ç³»**ï¼š`stream()` è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œä½¿ç”¨ `for` å¾ªç¯éå†ã€‚æ¯æ¬¡è¿­ä»£è·å–ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºï¼Œéå¸¸é€‚åˆå®æ—¶æ˜¾ç¤ºè¿›åº¦ï¼

---

## 64. Checkpointer æ£€æŸ¥ç‚¹ - çŠ¶æ€æŒä¹…åŒ–

LangGraph æä¾› Checkpointer æ¥ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼Œå®ç°ï¼š
- å¯¹è¯è®°å¿†
- æ•…éšœæ¢å¤
- æ—¶é—´æ—…è¡Œè°ƒè¯•

```python
from langgraph.checkpoint.memory import MemorySaver

# åˆ›å»ºå†…å­˜æ£€æŸ¥ç‚¹ä¿å­˜å™¨
memory = MemorySaver()

# ä½¿ç”¨æ£€æŸ¥ç‚¹ç¼–è¯‘å›¾
stateful_graph = StateGraph(MessagesState)
stateful_graph.add_node("echo", echo_bot)
stateful_graph.add_edge(START, "echo")
stateful_graph.add_edge("echo", END)

# ç¼–è¯‘æ—¶ä¼ å…¥ checkpointer
stateful_app = stateful_graph.compile(checkpointer=memory)

# ä½¿ç”¨ thread_id æ¥åŒºåˆ†ä¸åŒçš„å¯¹è¯ä¼šè¯
config = {"configurable": {"thread_id": "user-123"}}

# ç¬¬ä¸€è½®å¯¹è¯
result1 = stateful_app.invoke(
    {'messages': [{'role': 'user', 'content': 'ä½ å¥½ï¼'}]},
    config=config
)
print(f"ç¬¬ä¸€è½®å›å¤: {result1['messages'][-1].content}")

# ç¬¬äºŒè½®å¯¹è¯ - ä¼šè®°ä½ä¹‹å‰çš„æ¶ˆæ¯
result2 = stateful_app.invoke(
    {'messages': [{'role': 'user', 'content': 'è®°å¾—æˆ‘è¯´çš„å—ï¼Ÿ'}]},
    config=config
)
print(f"ç¬¬äºŒè½®å›å¤: {result2['messages'][-1].content}")
print(f"\nå¯¹è¯å†å²é•¿åº¦: {len(result2['messages'])} æ¡æ¶ˆæ¯")
```

è¾“å‡ºï¼š
```
ç¬¬ä¸€è½®å›å¤: ä½ è¯´çš„æ˜¯: ä½ å¥½ï¼
ç¬¬äºŒè½®å›å¤: ä½ è¯´çš„æ˜¯: è®°å¾—æˆ‘è¯´çš„å—ï¼Ÿ

å¯¹è¯å†å²é•¿åº¦: 4 æ¡æ¶ˆæ¯
```

> **ğŸ’¡ Checkpointer çš„ä½œç”¨**ï¼š
> - **å¯¹è¯è®°å¿†**ï¼šAgent å¯ä»¥è®°ä½ä¹‹å‰çš„å¯¹è¯
> - **å¤šä¼šè¯ç®¡ç†**ï¼šé€šè¿‡ `thread_id` åŒºåˆ†ä¸åŒç”¨æˆ·/ä¼šè¯
> - **çŠ¶æ€æ¢å¤**ï¼šç¨‹åºé‡å¯åå¯ä»¥æ¢å¤ä¹‹å‰çš„çŠ¶æ€

---

## 65. çŸ¥è¯†ç‚¹æ˜ å°„æ€»ç»“

ä¸‹è¡¨å±•ç¤ºäº† Python åŸºç¡€çŸ¥è¯†ä¸ LangGraph æ¦‚å¿µçš„å¯¹åº”å…³ç³»ï¼š

| Python åŸºç¡€æ¦‚å¿µ | LangGraph å¯¹åº”æ¦‚å¿µ | è¯´æ˜ |
|----------------|-------------------|------|
| å­—å…¸ (Dict) | State | çŠ¶æ€ä½¿ç”¨ TypedDict å®šä¹‰ï¼Œæœ¬è´¨æ˜¯å¸¦ç±»å‹çš„å­—å…¸ |
| ç±» (Class) | StateGraph | å›¾ç»“æ„æ˜¯ä¸€ä¸ªç±»ï¼Œç®¡ç†èŠ‚ç‚¹å’Œè¾¹ |
| å‡½æ•° (Function) | Node | èŠ‚ç‚¹å°±æ˜¯å¤„ç†çŠ¶æ€çš„å‡½æ•° |
| æ¡ä»¶è¯­å¥ (if/elif/else) | Conditional Edge | æ¡ä»¶è¾¹æ ¹æ®çŠ¶æ€å†³å®šä¸‹ä¸€æ­¥ |
| å¾ªç¯ (while/for) | Cyclic Graph | å¾ªç¯å›¾å®ç°è¿­ä»£å¤„ç† |
| ç”Ÿæˆå™¨ (Generator) | stream() | æµå¼è¾“å‡ºè¿”å›ç”Ÿæˆå™¨ |
| reduce å‡½æ•° | Reducer (Annotated) | å®šä¹‰çŠ¶æ€å¦‚ä½•åˆå¹¶æ›´æ–° |
| åˆ—è¡¨ (List) | Messages | æ¶ˆæ¯åˆ—è¡¨æ˜¯ Agent çš„æ ¸å¿ƒæ•°æ®ç»“æ„ |

> **ğŸ¯ æ ¸å¿ƒç†è§£**ï¼šLangGraph ä¸æ˜¯ä»€ä¹ˆç¥ç§˜çš„æ–°æŠ€æœ¯ï¼Œå®ƒåªæ˜¯ç”¨å›¾ç»“æ„æ¥ç»„ç»‡æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰çš„ Python ä»£ç ï¼

---

## 66. ç»ƒä¹ : åˆ›å»ºä¸€ä¸ªç®€å•çš„æ•°å­¦ Agent

å°è¯•åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡ŒåŸºæœ¬æ•°å­¦è¿ç®—çš„ Agentï¼š
1. å®šä¹‰åŠ ã€å‡ã€ä¹˜ã€é™¤å››ä¸ªå·¥å…·å‡½æ•°
2. åˆ›å»ºä¸€ä¸ªè·¯ç”±å‡½æ•°ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥é€‰æ‹©æ­£ç¡®çš„è¿ç®—
3. ä½¿ç”¨æ¡ä»¶è¾¹è¿æ¥å„ä¸ªèŠ‚ç‚¹

```python
# ç»ƒä¹ : æ•°å­¦ Agent
# è¯·å®Œæˆä»¥ä¸‹ä»£ç 

class MathState(TypedDict):
    num1: float
    num2: float
    operation: str  # 'add', 'subtract', 'multiply', 'divide'
    result: float

# TODO: å®šä¹‰å››ä¸ªè¿ç®—èŠ‚ç‚¹
def add_node(state: MathState) -> dict:
    return {'result': state['num1'] + state['num2']}

def subtract_node(state: MathState) -> dict:
    # ä½ çš„ä»£ç 
    pass

def multiply_node(state: MathState) -> dict:
    # ä½ çš„ä»£ç 
    pass

def divide_node(state: MathState) -> dict:
    # ä½ çš„ä»£ç  (æ³¨æ„å¤„ç†é™¤é›¶æƒ…å†µ)
    pass

# TODO: å®šä¹‰è·¯ç”±å‡½æ•°
def route_operation(state: MathState) -> str:
    op = state['operation']
    if op == 'add':
        return 'add_node'
    # ä½ çš„ä»£ç : å¤„ç†å…¶ä»–è¿ç®—
    pass

# TODO: åˆ›å»ºå›¾å¹¶æ·»åŠ èŠ‚ç‚¹å’Œè¾¹
# math_graph = StateGraph(MathState)
# ...

print("å®Œæˆä»£ç åï¼Œæµ‹è¯•ä½ çš„æ•°å­¦ Agentï¼")
```

---

## 67. è¿›ä¸€æ­¥å­¦ä¹ èµ„æº

**å®˜æ–¹æ–‡æ¡£:**
- [LangGraph å®˜æ–¹æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [LangGraph å¿«é€Ÿå…¥é—¨](https://docs.langchain.com/oss/python/langgraph/quickstart)
- [LangChain Academy - LangGraph è¯¾ç¨‹](https://academy.langchain.com/courses/intro-to-langgraph)

**æ ¸å¿ƒæ¦‚å¿µå›é¡¾:**
1. **StateGraph**: ç®¡ç†å·¥ä½œæµçš„æ ¸å¿ƒç±»
2. **Nodes**: æ‰§è¡Œå…·ä½“ä»»åŠ¡çš„å‡½æ•°
3. **Edges**: å®šä¹‰èŠ‚ç‚¹é—´çš„è¿æ¥
4. **Conditional Edges**: æ ¹æ®çŠ¶æ€åŠ¨æ€è·¯ç”±
5. **Checkpointer**: çŠ¶æ€æŒä¹…åŒ–å’Œè®°å¿†
6. **Streaming**: æµå¼è¾“å‡ºæ”¯æŒ

**ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®:**
- ç»“åˆ LangChain çš„ LLM é›†æˆ
- å­¦ä¹  Human-in-the-Loop äººæœºäº¤äº’
- æ¢ç´¢å¤š Agent ç³»ç»Ÿæ¶æ„

---

## å…¨æ–‡æ€»ç»“

æœ¬ç« å†…å®¹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š

### Part 1: Python åŸºç¡€ 50 ä¸ªçŸ¥è¯†ç‚¹
æ¶µç›–äº†ä» `print()` åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„æ ¸å¿ƒè¯­æ³•ï¼Œä¸º AI å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€ã€‚

### Part 2: LangGraph æ‰©å±• (51-67)
å±•ç¤ºäº†å¦‚ä½•å°† Python åŸºç¡€çŸ¥è¯†åº”ç”¨åˆ° AI Agent å¼€å‘ä¸­ï¼š
- TypedDict ç”¨äºå®šä¹‰çŠ¶æ€ç»“æ„
- å‡½æ•°ä½œä¸ºèŠ‚ç‚¹æ‰§è¡Œä»»åŠ¡
- æ¡ä»¶è¾¹å®ç°æ™ºèƒ½è·¯ç”±
- æµå¼è¾“å‡ºæä¾›å®æ—¶åé¦ˆ
- Checkpointer å®ç°çŠ¶æ€æŒä¹…åŒ–

**æ ¸å¿ƒå¯ç¤º**ï¼šæŒæ¡äº† Python åŸºç¡€ï¼Œå­¦ä¹  LangGraph å°±æ˜¯è‡ªç„¶è€Œç„¶çš„å»¶ä¼¸ã€‚LangGraph åªæ˜¯ç”¨å›¾ç»“æ„ç»„ç»‡æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰çš„ä»£ç ï¼

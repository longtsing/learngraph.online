# 6.0 本章介绍

## 让 Agent 并发执行

现代 AI Agent 需要同时：
- 调用多个 API
- 并行处理任务
- 响应用户输入

异步编程让这一切成为可能。

> **🎯 小白理解指南：什么是"异步编程"？**
>
> 想象你在咖啡店点餐：
>
> **同步（排队等待）**：
> - 你点了咖啡，站在柜台前等着
> - 咖啡做好之前，你什么都不能做
> - 等 5 分钟拿到咖啡，再点蛋糕，又等 3 分钟
> - 总共花了 8 分钟
>
> **异步（取号等叫）**：
> - 你点了咖啡，拿个号去旁边坐着
> - 同时又点了蛋糕，再拿个号
> - 咖啡和蛋糕**同时在做**
> - 哪个好了就去拿，总共只花 5 分钟！
>
> 在编程中，异步就是**不傻等**——让电脑在等待一件事的时候，去做别的事情。

## 学习目标

- ✅ async/await 基础
- ✅ 异步上下文管理器
- ✅ 并发执行任务
- ✅ 实战：异步 LangGraph Agent

## 为什么异步很重要？

> **🎯 小白理解指南：为什么 AI Agent 特别需要异步？**
>
> AI Agent 的工作大部分是**等待**：
> - 等 ChatGPT 返回回答（网络请求）
> - 等数据库查询结果（I/O 操作）
> - 等网页加载完成（爬虫）
>
> 如果用同步方式，Agent 大部分时间都在"发呆等待"，太浪费了！
>
> 异步让 Agent 可以**同时发起多个请求**，大大提高效率。

```python
# 同步：慢（一个接一个等）
result1 = call_api_1()  # 等待 2 秒
result2 = call_api_2()  # 等待 2 秒
# 总共 4 秒

# 异步：快（同时进行）
results = await asyncio.gather(
    call_api_1(),  # 并行
    call_api_2()   # 并行
)
# 总共 2 秒（只取最长的那个）
```

> **🎯 关键词解释**
>
> - `async`：标记这是一个"异步函数"
> - `await`：表示"等待这个操作完成"（但等待时可以去做别的事）
> - `asyncio.gather()`：同时运行多个异步任务，全部完成后返回结果

---

**下一节：[6.1 异步编程基础](6.1-异步编程基础.md)**

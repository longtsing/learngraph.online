# 8.3 测试与部署

## 单元测试

```python
import pytest
from agent import create_production_agent

def test_agent_creation():
    """测试 Agent 创建"""
    agent = create_production_agent()
    assert agent is not None

def test_search_tool():
    """测试搜索工具"""
    from tools import search_web
    result = search_web.invoke({"query": "test"})
    assert "test" in result

def test_calculator_tool():
    """测试计算器"""
    from tools import calculator
    result = calculator.invoke({"expression": "2+2"})
    assert "4" in result
```

## 部署清单

- [ ] 环境变量配置
- [ ] 依赖安装（poetry install）
- [ ] 运行测试（pytest）
- [ ] 文档完善
- [ ] Docker 容器化（可选）

---

**下一节：[8.4 小结和下一步](8.4-小结和下一步.md)**

# 8.1 项目架构设计

## 设计原则

1. **模块化**：每个功能独立模块
2. **可测试**：单元测试覆盖
3. **可扩展**：易于添加新 Tool
4. **健壮性**：完善的错误处理

## 核心组件

```python
# state.py - 状态定义
from typing import TypedDict, List
from langchain_core.messages import BaseMessage

class AgentState(TypedDict):
    messages: List[BaseMessage]
    context: dict
    tools_used: List[str]
```

```python
# agent.py - Agent 主逻辑
from langgraph.prebuilt import create_react_agent
from langchain_openai import ChatOpenAI

def create_agent():
    llm = ChatOpenAI(model="gpt-4")
    tools = load_tools()
    agent = create_react_agent(llm, tools)
    return agent
```

---

**下一节：[8.2 实现核心功能](8.2-实现核心功能.md)**
